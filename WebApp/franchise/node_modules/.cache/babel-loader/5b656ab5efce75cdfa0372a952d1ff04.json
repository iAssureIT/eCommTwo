{"ast":null,"code":"var _jsxFileName = \"/home/iassureit/PriyaiAssureITWork/eCommTwo/WebApp/franchise/src/coreadmin/dashboard/chart1/CenterWisePieChart.js\";\nimport React, { Component } from 'react';\nimport { Pie } from 'react-chartjs-2';\nimport 'chartjs-plugin-labels';\nimport axios from 'axios';\nexport default class CenterWisePieChart extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      \"data\": {\n        labels: [],\n        datasets: [{\n          data: [],\n          backgroundColor: [],\n          hoverBackgroundColor: []\n        }]\n      }\n    };\n  }\n\n  componentDidMount() {\n    this.getCenterwiseData(this.props.year);\n  }\n\n  getCenterwiseData(year) {\n    var centerData = { ...this.state.data\n    };\n    var startDate = year.substring(3, 7) + \"-04-01\";\n    var endDate = year.substring(10, 15) + \"-03-31\";\n\n    if (startDate && endDate) {\n      axios.get('/api/report/center/' + startDate + '/' + endDate + '/all/all/all/all/all').then(response => {\n        response.data.splice(-2);\n        var sector = [];\n        var annualPlanTotalBudget = [];\n        var piechartcolor = [];\n\n        if (response.data && response.data.length > 0) {\n          response.data.map((data, index) => {\n            if (data.annualPlan_TotalBudget > 0) {\n              sector.push(data.name);\n              annualPlanTotalBudget.push(data.annualPlan_TotalBudget);\n              piechartcolor.push(this.getRandomColor());\n            }\n          });\n\n          if (annualPlanTotalBudget.length > 0) {\n            centerData.datasets[0].data = annualPlanTotalBudget;\n            centerData.labels = sector;\n            centerData.datasets[0].backgroundColor = piechartcolor;\n            centerData.datasets[0].hoverBackgroundColor = piechartcolor;\n            this.setState({\n              \"data\": centerData\n            });\n          } else {\n            centerData.datasets[0].data = [500000, 150000, 90000, 100000, 200000];\n            centerData.labels = [\"Pune\", \"Aurangabad\", \"Goa\", \"Sikkim\", \"Bharatpur\"];\n            centerData.datasets[0].backgroundColor = [\"#0275d8\", \"#5cb85c\", \"#5bc0de\", \"#f0ad4e\", \"#d9534f\"];\n            centerData.datasets[0].hoverBackgroundColor = [\"#0275d8\", \"#5cb85c\", \"#5bc0de\", \"#f0ad4e\", \"#d9534f\"];\n            this.setState({\n              \"data\": centerData\n            });\n          }\n        } else {\n          centerData.datasets[0].data = [500000, 150000, 90000, 100000, 200000];\n          centerData.labels = [\"Pune\", \"Aurangabad\", \"Goa\", \"Sikkim\", \"Bharatpur\"];\n          centerData.datasets[0].backgroundColor = [\"#0275d8\", \"#5cb85c\", \"#5bc0de\", \"#f0ad4e\", \"#d9534f\"];\n          centerData.datasets[0].hoverBackgroundColor = [\"#0275d8\", \"#5cb85c\", \"#5bc0de\", \"#f0ad4e\", \"#d9534f\"];\n          this.setState({\n            \"data\": centerData\n          });\n        }\n      }).catch(function (error) {});\n    } else {\n      centerData.datasets[0].data = [500000, 150000, 90000, 100000, 200000];\n      centerData.labels = [\"Pune\", \"Aurangabad\", \"Goa\", \"Sikkim\", \"Bharatpur\"];\n      centerData.datasets[0].backgroundColor = [\"#0275d8\", \"#5cb85c\", \"#5bc0de\", \"#f0ad4e\", \"#d9534f\"];\n      centerData.datasets[0].hoverBackgroundColor = [\"#0275d8\", \"#5cb85c\", \"#5bc0de\", \"#f0ad4e\", \"#d9534f\"];\n      this.setState({\n        \"data\": centerData\n      });\n    }\n  }\n\n  getRandomColor() {\n    var letters = '01234ABCDEF56789';\n    var color = '#';\n\n    for (var i = 0; i < 6; i++) {\n      color += letters[Math.floor(Math.random() * 16)];\n    }\n\n    return color;\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Pie, {\n      height: 150,\n      data: this.state.data,\n      options: {\n        legend: {\n          display: false\n        },\n        plugins: {\n          labels: [{\n            render: 'label',\n            position: 'outside',\n            fontColor: '#000',\n            textMargin: 8\n          }, {\n            render: 'percentage',\n            fontColor: '#fff'\n          }]\n        }\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }\n    }));\n  }\n\n}","map":{"version":3,"sources":["/home/iassureit/PriyaiAssureITWork/eCommTwo/WebApp/franchise/src/coreadmin/dashboard/chart1/CenterWisePieChart.js"],"names":["React","Component","Pie","axios","CenterWisePieChart","constructor","props","state","labels","datasets","data","backgroundColor","hoverBackgroundColor","componentDidMount","getCenterwiseData","year","centerData","startDate","substring","endDate","get","then","response","splice","sector","annualPlanTotalBudget","piechartcolor","length","map","index","annualPlan_TotalBudget","push","name","getRandomColor","setState","catch","error","letters","color","i","Math","floor","random","render","legend","display","plugins","position","fontColor","textMargin"],"mappings":"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","sourcesContent":["import React,{Component} from 'react';\nimport {Pie} from 'react-chartjs-2';\nimport 'chartjs-plugin-labels';\nimport axios             from 'axios';\n\nexport default class CenterWisePieChart extends Component {\n  constructor(props){\n    super(props);\n    this.state={\n      \"data\" : {\n      labels: [],\n      datasets: [{\n        data: [], \n        backgroundColor: [],\n        hoverBackgroundColor: []\n        }]\n      }\n    }\n  }\n \n  componentDidMount(){\n    this.getCenterwiseData(this.props.year);\n  }\n  getCenterwiseData(year){\n    var centerData = {...this.state.data};\n    var startDate = year.substring(3, 7)+\"-04-01\";\n    var endDate = year.substring(10, 15)+\"-03-31\";\n    if(startDate && endDate){\n        axios.get('/api/report/center/'+startDate+'/'+endDate+'/all/all/all/all/all')\n        .then((response)=>{\n          response.data.splice(-2); \n          var sector = [];\n          var annualPlanTotalBudget = [];\n          var piechartcolor =[];\n         if(response.data&&response.data.length >0){\n            response.data.map((data,index)=>{\n              if(data.annualPlan_TotalBudget > 0){\n                sector.push(data.name);\n                annualPlanTotalBudget.push(data.annualPlan_TotalBudget);\n                piechartcolor.push(this.getRandomColor());                \n              }\n            })\n            if(annualPlanTotalBudget.length > 0){\n              centerData.datasets[0].data = annualPlanTotalBudget;\n              centerData.labels = sector;\n              centerData.datasets[0].backgroundColor = piechartcolor;\n              centerData.datasets[0].hoverBackgroundColor = piechartcolor;\n              this.setState({\n                \"data\" : centerData\n              })\n             \n            }else{\n              centerData.datasets[0].data = [500000,150000,90000,100000,200000];\n              centerData.labels = [\"Pune\",\"Aurangabad\",\"Goa\",\"Sikkim\",\"Bharatpur\"];\n              centerData.datasets[0].backgroundColor = [\"#0275d8\",\"#5cb85c\",\"#5bc0de\",\"#f0ad4e\",\"#d9534f\"];\n              centerData.datasets[0].hoverBackgroundColor = [\"#0275d8\",\"#5cb85c\",\"#5bc0de\",\"#f0ad4e\",\"#d9534f\"];\n              this.setState({\n                \"data\" : centerData\n              })\n            }\n\n        }else{\n            centerData.datasets[0].data = [500000,150000,90000,100000,200000];\n            centerData.labels = [\"Pune\",\"Aurangabad\",\"Goa\",\"Sikkim\",\"Bharatpur\"];\n            centerData.datasets[0].backgroundColor = [\"#0275d8\",\"#5cb85c\",\"#5bc0de\",\"#f0ad4e\",\"#d9534f\"];\n            centerData.datasets[0].hoverBackgroundColor = [\"#0275d8\",\"#5cb85c\",\"#5bc0de\",\"#f0ad4e\",\"#d9534f\"];\n            this.setState({\n              \"data\" : centerData\n            })\n        }\n      }).catch(function (error) {\n      });\n    }else{\n      centerData.datasets[0].data = [500000,150000,90000,100000,200000];\n      centerData.labels = [\"Pune\",\"Aurangabad\",\"Goa\",\"Sikkim\",\"Bharatpur\"];\n      centerData.datasets[0].backgroundColor = [\"#0275d8\",\"#5cb85c\",\"#5bc0de\",\"#f0ad4e\",\"#d9534f\"];\n      centerData.datasets[0].hoverBackgroundColor = [\"#0275d8\",\"#5cb85c\",\"#5bc0de\",\"#f0ad4e\",\"#d9534f\"];\n      this.setState({\n        \"data\" : centerData\n      })\n    }\n  }\n   getRandomColor(){\n      var letters = '01234ABCDEF56789';\n      var color = '#';\n      for (var i = 0; i < 6; i++) {\n        color += letters[Math.floor(Math.random() * 16)];\n      }\n      return color;\n    }\n  render() {\n    return (\n      <div>\n        <Pie height={150} data={this.state.data} options={{legend: {display: false},\n        plugins: {\n           labels: [{\n            render: 'label',\n            position: 'outside',\n            fontColor: '#000',\n            textMargin: 8\n          },\n          {\n            render: 'percentage',\n            fontColor: '#fff',\n          }\n           ]}}\n          } />\n      </div>\n    );\n  }\n}"]},"metadata":{},"sourceType":"module"}