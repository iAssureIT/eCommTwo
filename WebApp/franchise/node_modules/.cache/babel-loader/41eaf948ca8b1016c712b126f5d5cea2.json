{"ast":null,"code":"var _jsxFileName = \"/home/iassureit/PriyaiAssureITWork/eCommTwo/WebApp/franchise/src/storeAdmin/Productreview/Productreview.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport IAssureTable from \"./ProductReviewTable/IAssureTable.jsx\";\nimport _ from 'underscore';\nimport \"./Productreview.css\";\n\nclass Productreview extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      tableHeading: {\n        \"productName\": \"Product Name(Product Code)\",\n        \"customerName\": 'Customer Name',\n        \"customerReview\": 'Customer Review',\n        \"adminComment\": 'Admin Comment',\n        \"rating\": 'Rating'\n      },\n      tableObjects: {\n        paginationApply: true,\n        searchApply: true,\n        deleteMethod: 'delete',\n        apiLink: '/api/customerReview',\n        editUrl: '/add-product/'\n      },\n      startRange: 0,\n      limitRange: 10\n    };\n    window.scrollTo(0, 0);\n  }\n\n  componentWillReceiveProps(nextProps) {}\n\n  handleChange(event) {\n    const target = event.target;\n    const name = target.name;\n    this.setState({\n      [name]: event.target.value\n    });\n  }\n\n  componentDidMount() {\n    this.getCount();\n    this.getData(this.state.startRange, this.state.limitRange);\n  }\n\n  getCount() {\n    axios.get('/api/customerReview/get/count').then(response => {\n      console.log('dataCount', response.data.dataCount);\n      this.setState({\n        dataCount: response.data.dataCount\n      });\n    }).catch(error => {\n      console.log('error', error);\n    });\n  }\n\n  getData(startRange, limitRange) {\n    var data = {\n      startRange: startRange,\n      limitRange: limitRange\n    };\n    this.getCount();\n    axios.post('/api/customerReview/get/list', data).then(response => {\n      console.log('res  p', response.data);\n      var tableData = response.data.map((a, i) => {\n        return {\n          \"_id\": a._id,\n          \"productName\": a.productDetails[0] ? a.productDetails[0].productName + \" \" + \"(\" + a.productDetails[0].productCode + \")\" : \"\",\n          \"productImages\": a.productDetails[0] ? a.productDetails[0].productImage : [],\n          \"customerName\": a.customerName,\n          \"customerReview\": a.customerReview,\n          \"adminComment\": a.adminComment ? a.adminComment : \"-\",\n          \"orderID\": a.orderID,\n          \"productID\": a.productID,\n          \"rating\": a.rating,\n          \"reviewlist\": a.reviewlist,\n          \"status\": a.status\n        };\n      });\n      this.setState({\n        tableData: tableData\n      });\n    }).catch(error => {\n      console.log('error', error);\n    });\n  }\n\n  getSearchText(searchText, startRange, limitRange) {\n    console.log('searchText', searchText);\n    var formValues = {\n      searchText: searchText,\n      startRange: startRange,\n      limitRange: limitRange\n    };\n    axios.post('/api/customerReview/search/post', formValues).then(response => {\n      var tableData = response.data.map((a, i) => {\n        return {\n          \"_id\": a._id,\n          \"product\": a.productDetails[0] ? a.productDetails[0].productName + \" \" + \"(\" + a.productDetails[0].productCode + \")\" : \"\",\n          \"customerReview\": a.customerReview,\n          \"customerName\": a.customerName,\n          \"orderID\": a.orderID,\n          \"productID\": a.productID,\n          \"rating\": a.rating,\n          \"reviewlist\": a.reviewlist\n        };\n      });\n      this.setState({\n        tableData: tableData\n      });\n    }).catch(error => {\n      console.log('error', error);\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container-fluid\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"section\", {\n      className: \"content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-xs-12 col-sm-12 pageContent\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"box\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"box-header with-border col-lg-12 col-md-12 col-xs-12 col-sm-12 NOpadding-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      className: \"NOpadding-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 47\n      }\n    }, \" Product Review\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"searchProductFromList  col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-4 col-md-4 col-sm-12 col-xs-12 NOpadding\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 49\n      }\n    }, \"                                                \", /*#__PURE__*/React.createElement(\"div\", {\n      className: \"modal fade col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      id: \"publishProduct\",\n      role: \"dialog\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 56\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \" adminModal adminModal-dialog col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 57\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"modal-content adminModal-content col-lg-8 col-lg-offset-2 col-md-8 col-md-offset-2 col-sm-10 col-sm-offset-1 col-xs-12 noPadding\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 61\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"modal-header adminModal-header col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 65\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      className: \"WightFont textAlignCenter col-lg-11 col-md-11 col-sm-11 col-xs-11\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 69\n      }\n    }, \"Publish All Product\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"adminCloseCircleDiv pull-right  col-lg-1 col-md-1 col-sm-1 col-xs-12 NOpadding-left NOpadding-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 69\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      className: \"adminCloseButton\",\n      \"data-dismiss\": \"modal\",\n      \"data-target\": \"publishProduct\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 73\n      }\n    }, \"\\xD7\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"modal-body adminModal-body col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 65\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      className: \"blackLightFont textAlignCenter col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 69\n      }\n    }, \"Are you sure you want to publish all products?\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"modal-footer adminModal-footer col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 65\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-6 col-md-6 col-sm-6 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 69\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      className: \"btn adminCancel-btn col-lg-4 col-lg-offset-1 col-md-4 col-md-offset-1 col-sm-8 col-sm-offset-1 col-xs-10 col-xs-offset-1\",\n      \"data-dismiss\": \"modal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 73\n      }\n    }, \"CANCEL\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-6 col-md-6 col-sm-6 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 69\n      }\n    }, \"                                                                \")))))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(IAssureTable, {\n      tableHeading: this.state.tableHeading,\n      twoLevelHeader: this.state.twoLevelHeader,\n      dataCount: this.state.dataCount,\n      tableData: this.state.tableData,\n      getData: this.getData.bind(this),\n      tableObjects: this.state.tableObjects,\n      getSearchText: this.getSearchText.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 45\n      }\n    })))))))));\n  }\n\n}\n\nexport default Productreview;","map":{"version":3,"sources":["/home/iassureit/PriyaiAssureITWork/eCommTwo/WebApp/franchise/src/storeAdmin/Productreview/Productreview.js"],"names":["React","Component","axios","IAssureTable","_","Productreview","constructor","props","state","tableHeading","tableObjects","paginationApply","searchApply","deleteMethod","apiLink","editUrl","startRange","limitRange","window","scrollTo","componentWillReceiveProps","nextProps","handleChange","event","target","name","setState","value","componentDidMount","getCount","getData","get","then","response","console","log","data","dataCount","catch","error","post","tableData","map","a","i","_id","productDetails","productName","productCode","productImage","customerName","customerReview","adminComment","orderID","productID","rating","reviewlist","status","getSearchText","searchText","formValues","render","twoLevelHeader","bind"],"mappings":"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","sourcesContent":["import React, { Component }   from 'react';\nimport axios                  from 'axios';\nimport IAssureTable           from \"./ProductReviewTable/IAssureTable.jsx\";\nimport _                      from 'underscore';\nimport \"./Productreview.css\";\n\n\nclass Productreview extends Component{\n    constructor(props) { \n        super(props);\n        this.state = {\n            tableHeading :{\n                \"productName\"       : \"Product Name(Product Code)\",\n                \"customerName\"      : 'Customer Name',\n                \"customerReview\"    : 'Customer Review',\n                \"adminComment\"      : 'Admin Comment',\n                \"rating\"            : 'Rating',\n            },\n            tableObjects : {\n                paginationApply : true,\n                searchApply     : true,\n                deleteMethod    : 'delete',\n                apiLink         : '/api/customerReview',\n                editUrl         : '/add-product/'\n            },\n            startRange : 0,\n            limitRange : 10\n        };\n        window.scrollTo(0, 0);\n    }\n\n\n    componentWillReceiveProps(nextProps) {\n        \n    }\n\n\n    handleChange(event){\n        const target = event.target;\n        const name   = target.name;\n        this.setState({\n            [name]: event.target.value,\n        });\n    }\n\n\n    componentDidMount() {\n        this.getCount();\n        this.getData(this.state.startRange, this.state.limitRange);\n\n    }\n    getCount(){\n        axios.get('/api/customerReview/get/count')\n        .then((response)=>{\n            console.log('dataCount', response.data.dataCount);\n            this.setState({\n                dataCount : response.data.dataCount\n            })\n        })\n        .catch((error)=>{\n            console.log('error', error);\n        })\n    }\n    getData(startRange, limitRange){\n        var data = {\n            startRange : startRange,\n            limitRange : limitRange\n        }\n        this.getCount();\n        axios.post('/api/customerReview/get/list', data)\n        .then((response)=>{\n            console.log('res  p', response.data);\n            var tableData = response.data.map((a, i)=>{\n              return{\n                \"_id\"           : a._id,\n                \"productName\"       : a.productDetails[0] ? (a.productDetails[0].productName+\" \"+\"(\"+a.productDetails[0].productCode)+\")\" : \"\",\n                \"productImages\" : a.productDetails[0] ? a.productDetails[0].productImage : [],\n                \"customerName\"  : a.customerName,\n                \"customerReview\": a.customerReview,                \n                \"adminComment\"  : a.adminComment ? a.adminComment : \"-\",\n                \"orderID\"       : a.orderID,\n                \"productID\"     : a.productID,\n                \"rating\"        : a.rating,\n                \"reviewlist\"    : a.reviewlist,\n                \"status\"        : a.status\n              };\n            })\n            this.setState({\n                tableData : tableData\n            })\n        })\n        .catch((error)=>{\n            console.log('error', error);\n        })\n    }\n    getSearchText(searchText, startRange, limitRange){\n        console.log('searchText', searchText);\n        var formValues = {\n            searchText : searchText, \n            startRange : startRange, \n            limitRange : limitRange\n        };\n        axios.post('/api/customerReview/search/post', formValues)\n        .then((response)=>{\n            var tableData = response.data.map((a, i)=>{\n              return{\n                \"_id\"           : a._id,\n                \"product\"    : a.productDetails[0] ? (a.productDetails[0].productName+\" \"+\"(\"+a.productDetails[0].productCode)+\")\" : \"\",\n                \"customerReview\": a.customerReview,\n                \"customerName\"  : a.customerName,\n                \"orderID\"       : a.orderID,\n                \"productID\"     : a.productID,\n                \"rating\"        : a.rating,\n                \"reviewlist\"    : a.reviewlist\n              };\n            })\n            this.setState({\n                tableData : tableData\n            })\n        })\n        .catch((error)=>{\n            console.log('error', error);\n        })\n    }\n    render(){\n        return(\n            <div className=\"container-fluid\">\n                <div className=\"row\">\n                    <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n                        <section className=\"content\">\n                            <div className=\"col-lg-12 col-md-12 col-xs-12 col-sm-12 pageContent\">\n                                <div className=\"row\">\n                                    <div className=\"box\">\n                                        <div className=\"box-header with-border col-lg-12 col-md-12 col-xs-12 col-sm-12 NOpadding-right\">\n                                              <h4 className=\"NOpadding-right\"> Product Review</h4>\n                                        </div>                                        \n                                        \n                                        <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n                                            <div className=\"searchProductFromList  col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n                                                <div className=\"col-lg-4 col-md-4 col-sm-12 col-xs-12 NOpadding\">\n    {/*                                                <div className=\"publishAllProductsClient\" aria-hidden=\"true\" data-toggle=\"modal\" data-target={\"#publishProduct\"}>\n                                                        Publish All Products\n                                                    </div>\n    */}                                                <div className=\"modal fade col-lg-12 col-md-12 col-sm-12 col-xs-12\" id={\"publishProduct\"} role=\"dialog\">\n                                                        <div className=\" adminModal adminModal-dialog col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n                                                            <div className=\"modal-content adminModal-content col-lg-8 col-lg-offset-2 col-md-8 col-md-offset-2 col-sm-10 col-sm-offset-1 col-xs-12 noPadding\">\n                                                                <div className=\"modal-header adminModal-header col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n                                                                    <h4 className=\"WightFont textAlignCenter col-lg-11 col-md-11 col-sm-11 col-xs-11\">Publish All Product</h4>\n                                                                    <div className=\"adminCloseCircleDiv pull-right  col-lg-1 col-md-1 col-sm-1 col-xs-12 NOpadding-left NOpadding-right\">\n                                                                        <button type=\"button\" className=\"adminCloseButton\" data-dismiss=\"modal\" data-target={\"publishProduct\"}>&times;</button>\n                                                                    </div>\n                                                                </div>\n                                                                <div className=\"modal-body adminModal-body col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n                                                                    <h4 className=\"blackLightFont textAlignCenter col-lg-12 col-md-12 col-sm-12 col-xs-12\">Are you sure you want to publish all products?</h4>\n                                                                </div>\n\n                                                                <div className=\"modal-footer adminModal-footer col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n                                                                    <div className=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\n                                                                        <button type=\"button\" className=\"btn adminCancel-btn col-lg-4 col-lg-offset-1 col-md-4 col-md-offset-1 col-sm-8 col-sm-offset-1 col-xs-10 col-xs-offset-1\" data-dismiss=\"modal\">CANCEL</button>\n                                                                    </div>\n                                                                    <div className=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\n    {/*                                                                    <button onClick={this.publishAllProducts.bind(this)} type=\"button\" className=\"btn adminFinish-btn col-lg-4 col-lg-offset-7 col-md-4 col-md-offset-7 col-sm-8 col-sm-offset-3 col-xs-10 col-xs-offset-1\" data-dismiss=\"modal\">PUBLISH</button>\n    */}                                                                </div>\n                                                                </div>\n                                                            </div>\n                                                        </div>\n                                                    </div>\n                                                </div>\n                                            </div>\n                                        </div>\n                                        <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n                                            <IAssureTable \n                                            tableHeading={this.state.tableHeading}\n                                            twoLevelHeader={this.state.twoLevelHeader} \n                                            dataCount={this.state.dataCount}\n                                            tableData={this.state.tableData}\n                                            getData={this.getData.bind(this)}\n                                            tableObjects={this.state.tableObjects}\n                                            getSearchText = {this.getSearchText.bind(this)}\n                                            />\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </section>\n                        </div>\n                    </div>\n                </div>\n\n\n            );\n        }\n    }\nexport default Productreview ;\n\n"]},"metadata":{},"sourceType":"module"}