{"ast":null,"code":"var _jsxFileName = \"/home/iassureit/PriyaiAssureITWork/eCommTwo/WebApp/franchise/src/admin/CMS/component/MasterPage/MasterPage.js\";\nimport React, { Component, Suspense } from 'react';\nimport { Route, withRouter } from 'react-router-dom';\nimport axios from 'axios';\nimport swal from 'sweetalert'; // import Modal from 'react-modal';\n\nimport CmsBlock from \"../createnewblock/Cmsblock.js\"; // import $ from \"jquery\";\n\nimport PageHead from \"../PageHead/PageHead.js\";\nimport './MasterPage.css'; // import 'bootstrap/dist/js/bootstrap.js';\n\nclass MasterPage extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      pageData: {},\n      editID: \"\",\n      Blocks: [],\n      blocks: \"\",\n      ListOfBlocks: \"\",\n      block_id: \"\",\n      modalIsOpen: false,\n      editbtnclick: false,\n      pageHead: {\n        pageAuthor: \"\",\n        pageDescription: \"\",\n        pageWords: [\"\"]\n      }\n    };\n  }\n\n  editbtn(btnEditShow) {// var id = document.getElementById(\"id\");\n    // document.getElementById(btnEditShow).style.display = 'block';\n    // hide the lorem ipsum text\n\n    /* document.getElementById(text).style.display = 'none';*/\n    // hide the link\n  }\n\n  componentWillReceiveProps() {}\n\n  componentDidMount() {\n    /**/\n    // console.log(\"pageUrl = \",pageUrl);\n    // this.getAllBlockList();\n    var pageUrl = window.location.pathname;\n    ; // console.log(\"pageUrl = \",pageUrl);\n\n    let a = pageUrl ? pageUrl.split('/') : \"\";\n    console.log(\"a==>\", a[1]);\n    const urlParam = a[2]; // console.log(\"urlparam..\",urlParam);\n\n    this.setState({\n      urlParam: urlParam\n    });\n    axios.get('/api/pages/get/page_block/' + urlParam).then(response => {\n      console.log(\"data in page=\", response.data);\n\n      if (response.data) {\n        this.setState({\n          pageData: response.data,\n          pageHead: {\n            pageAuthor: response.data.pageHead.pageAuthor,\n            pageDescription: response.data.pageHead.pageDescription,\n            pageWords: response.data.pageHead.pageWords\n          }\n        });\n      }\n    }).catch(function (error) {\n      console.log(error);\n\n      if (error.message === \"Request failed with status code 401\") {\n        swal(\"Your session is expired! Please login again.\", \"\", \"error\");\n      }\n    });\n  }\n\n  editModal(event) {\n    var id = event.target.id; // console.log(\"id\",id);\n\n    this.setState({\n      block_id: id\n    });\n  }\n\n  deleteBlocks(event) {\n    let urlParam = this.state.urlParam; // console.log(\"this.state.urlParam  \",urlParam);\n\n    event.preventDefault();\n    var URL = event.target.id; // console.log(\"delet id \",URL);\n\n    var deleteValues = {\n      \"pageBlocks_id\": URL\n    };\n    console.log(\"id delet\", this.state.urlParam, deleteValues);\n    swal({\n      title: \"Are you sure you want to delete block from this Page ?\",\n      text: \"\",\n      icon: \"warning\",\n      buttons: true,\n      dangerMode: true\n    }).then(success => {\n      // console.log(success);\n      if (success) {\n        axios.patch('/api/pages/patch/blocks/remove/' + this.state.urlParam, deleteValues).then(response => {\n          // this.getListOfPages();\n          swal(\"Your block is deleted from page!\");\n          window.location.reload();\n        }).catch(error => {\n          console.log(\"error = \", error);\n        });\n      } else {\n        swal(\"Your Block is safe!\");\n      }\n    });\n  }\n\n  editbtn() {\n    if (this.state.editbtnclick === false) {\n      this.setState({\n        editbtnclick: true\n      });\n    } else {\n      this.setState({\n        editbtnclick: false\n      });\n    }\n  }\n\n  backbtn() {\n    this.props.history.push(\"/viewpage1\");\n    /*+response.data.pageURL*/\n\n    window.location.reload();\n  }\n\n  render() {\n    console.log(\"in render id mp\", this.state.block_id);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"pageHgt\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      id: \"myModal\",\n      className: \"modal fade \",\n      role: \"dialog\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"modal-dialog modal-lg\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"modal-content bdermodal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"modal-header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      className: \"close\",\n      \"data-dismiss\": \"modal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 13\n      }\n    }, \"\\xD7\"), /*#__PURE__*/React.createElement(CmsBlock, {\n      block_id: this.state.block_id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 12\n      }\n    }))))),\n    /*Title*/\n    console.log(\"==>log hed\", this.state.pageHead), this.state.pageData.pageBlocks && this.state.pageData.pageBlocks.length > 0 ? this.state.pageData.pageBlocks.map((result, index) => {\n      var component = result._id ? result.block_id.blockComponentName : \"TitleDesc\"; // console.log(\"mani component ===> > >\",result, result.block_id.blockComponentName);\n\n      const NewPageComponent = React.lazy(() => import('../blockTemplate/' + component + '/' + component + '.js'));\n      var block_id = result.block_id._id; // console.log(\"block_id ==\",block_id);\n\n      var Block_id = result._id;\n      return /*#__PURE__*/React.createElement(Suspense, {\n        fallback: /*#__PURE__*/React.createElement(\"div\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 29\n          }\n        }, \"Loading...\"),\n        key: index,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 9\n        }\n      }, this.state.editbtnclick === true ? /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"fa fa-trash btnCss deletbtnIcon pull-right hideBtn\",\n        id: Block_id,\n        onClick: this.deleteBlocks.bind(this),\n        title: \"Delete Block from this page\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 12\n        }\n      }), /*#__PURE__*/React.createElement(\"i\", {\n        className: \"fa fa-pencil btnCss editIcon pull-right hideBtn\",\n        id: block_id,\n        onClick: this.editModal.bind(this),\n        \"data-toggle\": \"modal\",\n        \"data-target\": \"#myModal\",\n        title: \"Edit block\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 12\n        }\n      })) : \"\", /*#__PURE__*/React.createElement(NewPageComponent, {\n        block_id: block_id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 13\n        }\n      }));\n    }) : null);\n  }\n\n}\n\nexport default withRouter(MasterPage);","map":{"version":3,"sources":["/home/iassureit/PriyaiAssureITWork/eCommTwo/WebApp/franchise/src/admin/CMS/component/MasterPage/MasterPage.js"],"names":["React","Component","Suspense","Route","withRouter","axios","swal","CmsBlock","PageHead","MasterPage","constructor","props","state","pageData","editID","Blocks","blocks","ListOfBlocks","block_id","modalIsOpen","editbtnclick","pageHead","pageAuthor","pageDescription","pageWords","editbtn","btnEditShow","componentWillReceiveProps","componentDidMount","pageUrl","window","location","pathname","a","split","console","log","urlParam","setState","get","then","response","data","catch","error","message","editModal","event","id","target","deleteBlocks","preventDefault","URL","deleteValues","title","text","icon","buttons","dangerMode","success","patch","reload","backbtn","history","push","render","pageBlocks","length","map","result","index","component","_id","blockComponentName","NewPageComponent","lazy","Block_id","bind"],"mappings":"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","sourcesContent":["import React, { Component, Suspense } from 'react';\nimport {Route, withRouter} from 'react-router-dom';\nimport axios        from 'axios';\nimport swal from 'sweetalert';\n// import Modal from 'react-modal';\nimport CmsBlock from \"../createnewblock/Cmsblock.js\";\n// import $ from \"jquery\";\n\nimport PageHead from \"../PageHead/PageHead.js\";\nimport './MasterPage.css';\n// import 'bootstrap/dist/js/bootstrap.js';\n\nclass MasterPage extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tpageData\t: {},\n\t\t\teditID\t\t: \"\",\n\t\t\tBlocks  \t: [],\n\t\t\tblocks \t\t: \"\",\n\t\t\tListOfBlocks: \"\",\n\t\t\tblock_id \t: \"\",\n\t\t\tmodalIsOpen : false,\n\t\t\teditbtnclick \t:false,\n\t\t\tpageHead : {\n\t\t\t\tpageAuthor\t\t: \"\",\n\t\t\t\tpageDescription\t: \"\",\n\t\t\t\tpageWords\t\t: [\"\"],\n\t\t\t}\n\t\t};\n\t}\n\n\n    editbtn(btnEditShow){\n\n    \t// var id = document.getElementById(\"id\");\n   \t\t// document.getElementById(btnEditShow).style.display = 'block';\n\t    // hide the lorem ipsum text\n\t   /* document.getElementById(text).style.display = 'none';*/\n\t    // hide the link\n\t   \n\n \t}\ncomponentWillReceiveProps(){\n   \n}\n\ncomponentDidMount(){\n/**/\n\t\t\t// console.log(\"pageUrl = \",pageUrl);\n\t\t\t// this.getAllBlockList();\n\t\t\tvar pageUrl = window.location.pathname;;\n\t\t\t// console.log(\"pageUrl = \",pageUrl);\n\t\t\tlet a = pageUrl ? pageUrl.split('/') : \"\";\n\t        console.log(\"a==>\",a[1]); \n\t        const urlParam =a[2];\n\t        // console.log(\"urlparam..\",urlParam);\n\t        this.setState({\n\t\t\t\t\t      \t\t\turlParam:urlParam,\n\t\t\t\t\t      \t\t\n\t\t\t\t\t      \t\t});\n\n\t\t\taxios\n\t\t\t.get('/api/pages/get/page_block/'+urlParam)\n\t        .then((response)=>{\n\t        \tconsole.log(\"data in page=\",response.data);\n\t      \t\tif (response.data) {\n\t\t\t      \tthis.setState({\n\t\t\t      \t\tpageData:response.data,\n\t\t\t      \t\tpageHead:{\n\t\t\t\t\t\t\t\t\tpageAuthor\t\t: response.data.pageHead.pageAuthor,\n\t\t\t\t\t\t\t\t\tpageDescription\t: response.data.pageHead.pageDescription,\n\t\t\t\t\t\t\t\t\tpageWords\t\t: response.data.pageHead.pageWords,\n\t\t\t\t\t\t\t\t},\n\t\t\t      \t});\n\t\t\t      \n\t\t\t}\n\t    })\n\t      .catch(function(error){\n\t        console.log(error);\n\t          if(error.message === \"Request failed with status code 401\")\n\t              {\n\t                   swal(\"Your session is expired! Please login again.\",\"\", \"error\");\n\t              }\n\t      })\n   \t}\n\teditModal(event){\n\t\t var id = event.target.id;\n\t    // console.log(\"id\",id);\n\t    this.setState({\n\t\t\t\t      \t\tblock_id:id,\n\t\t\t\t      \t});\n\n\t}\n\tdeleteBlocks(event){\n\t\tlet urlParam=this.state.urlParam;\n\t\t// console.log(\"this.state.urlParam  \",urlParam);\n\t\tevent.preventDefault();\n\t\tvar URL= event.target.id;\n\t\t// console.log(\"delet id \",URL);\n\t\tvar deleteValues ={\n\t      \"pageBlocks_id\":URL\n\t\t\t}\n\t\tconsole.log(\"id delet\", this.state.urlParam, deleteValues);\n\t\t swal({\n\t          title: \"Are you sure you want to delete block from this Page ?\",\n\t          text: \"\",\n\t          icon: \"warning\",\n\t          buttons: true,\n\t          dangerMode: true,\n\t        })\n\t        .then((success) => {\n\t        \t// console.log(success);\n\t            if (success) {\n\t            \taxios\n\t\t\t\t    .patch('/api/pages/patch/blocks/remove/'+this.state.urlParam,deleteValues)\n\t\t\t\t    .then((response)=>{\n\t\t\t\t     \t// this.getListOfPages();\n\t\t\t\t       swal(\"Your block is deleted from page!\");\n\t\t\t\t       window.location.reload();\n\t\t\t\t    })\n\t\t\t\t    .catch((error)=>{\n\t\t\t\t       console.log(\"error = \", error);              \n\t\t\t\t    });  \n\t            } else {\n\t            swal(\"Your Block is safe!\");\n\t          }\n\t        }); \n\t}\n\teditbtn(){\n\t\tif (this.state.editbtnclick === false) {\n\t\tthis.setState({\n\t\t      \t\teditbtnclick : true,\n\t\t      \t});\n\t\t}\n\t\telse{\n\t\t\tthis.setState({\n\t\t      \t\teditbtnclick : false,\n\t\t      \t});\n\t\t}\n\t}\n\tbackbtn(){\n\t\tthis.props.history.push(\"/viewpage1\");/*+response.data.pageURL*/\n\t\twindow.location.reload();\n\t}\n\trender() {\n\t\t\tconsole.log(\"in render id mp\",this.state.block_id);\n\t\treturn (\n\t\t\t<div className=\"pageHgt\">\n\t\t\t\t{/*<div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 editStrip NOPadding\">\n\t\t\t\t\t<button type=\"button\" className=\"btn\" onClick={this.backbtn.bind(this)}>Back</button>\n\t\t\t\t\t<button type=\"button\" className=\"btn pull-right\" onClick={this.editbtn.bind(this)} id=\"editPageBtn\">Edit</button>\n\t\t\t\t\t//<button type=\"button\" className=\"btn btn-info btn-lg\" data-toggle=\"modal\" data-target=\"#myModal\">Open Modal</button>\n\n\t\t\t\t</div>*/}\n\t\t\t\t{/*<!-- Trigger the modal with a button -->*/}\n\n\t\t\t\t{/*<!-- Modal -->*/}\n\t\t\t\t<div id=\"myModal\" className=\"modal fade \" role=\"dialog\">\n\t\t\t\t  <div className=\"modal-dialog modal-lg\">\n\n\t\t\t\t    {/*<!-- Modal content-->*/}\n\t\t\t\t    <div className=\"modal-content bdermodal\">\n\t\t\t\t      <div className=\"modal-header\">\n\t\t\t\t        <button type=\"button\" className=\"close\" data-dismiss=\"modal\">&times;</button>\n\t\t\t\t      \t<CmsBlock block_id={this.state.block_id}/>\n\t\t\t\t      </div>\n\t\t\t\t    </div>\n\n\t\t\t\t  </div>\n\t\t\t\t</div>\n\t\t\t{/*title*/}\n\t\t\t{/*  this.state.pageData.pageTitle \n\t\t\t\t? \n\t\t\t\t<div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 innerBlocktepmlate NOPadding\">\n\t\t\t        <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 NOPadding\">\n\t\t\t        \t<div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 NOPadding\">\n\t\t\t        \t\t   <h2 className=\"BT1_bannerTitle text-center HistorianTitle\">{this.state.pageData.pageTitle}</h2>\n\t\t\t                   // <img src={this.state.blocks.bgImage} className=\"BT1_img\"/>\n\t\t\t                   <div className=\"dynamicpageimg BT1_img\"></div>\n\t\t\t        \t</div>\n\t\t\t        </div>\n\t\t\t    </div> \n\t\t\t    :\n\t\t\t    \"\"*/\n\t\t\t}\n\t\t\t{/*Title*/\n\t\t\t\tconsole.log(\"==>log hed\",this.state.pageHead)\n\t\t\t}\n\t\t\t{/*<PageHead pageHeadData={this.state.pageHead}/>*/}\n\t\t\t\t{\n\t\t\t\t\tthis.state.pageData.pageBlocks && this.state.pageData.pageBlocks.length> 0\n\t\t\t\t\t?\n\t\t\t\t\t\tthis.state.pageData.pageBlocks.map((result, index)=>{\n\t\t\t\t\t\t\tvar component = result._id ? result.block_id.blockComponentName : \"TitleDesc\";\n\t\t\t\t\t\t\t// console.log(\"mani component ===> > >\",result, result.block_id.blockComponentName);\n\t\t\t\t\t\t\tconst NewPageComponent = React.lazy(() => import('../blockTemplate/'+component+'/'+component+'.js'));\n\t\t\t\t\t\t\tvar block_id=result.block_id._id;\n\t\t\t\t\t\t\t// console.log(\"block_id ==\",block_id);\n\t\t\t\t\t\t\tvar Block_id = result._id;\n\t\t\t\t\t\t\treturn(\n\t\t\t\t\t\t\t\t<Suspense fallback={<div>Loading...</div>} key={index}>\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tthis.state.editbtnclick === true ?\n\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t<i className=\"fa fa-trash btnCss deletbtnIcon pull-right hideBtn\" id={Block_id} onClick={this.deleteBlocks.bind(this)} title=\"Delete Block from this page\"></i>\n\t\t\t\t\t\t\t\t\t\t\t<i className=\"fa fa-pencil btnCss editIcon pull-right hideBtn\" id={block_id} onClick={this.editModal.bind(this)} data-toggle=\"modal\" data-target=\"#myModal\" title=\"Edit block\"></i>\n\t\t\t\t\t\t    \t\t\t</div>\n\t\t\t\t\t\t    \t\t:\"\"\n\t\t\t\t\t\t    \t\t}\n\t\t\t\t\t\t    \t\t<NewPageComponent block_id={block_id}/>\n\t\t\t\t\t\t    \t</Suspense>\n\t\t\t\t\t    \t)\n\t\t\t\t\t\t})\n\t\t\t\t\t:\n\t\t\t\t\tnull\n\t\t\t\t}\n\t\t\t</div>\n\t\t);\n\t}\n}\nexport default withRouter(MasterPage);\n"]},"metadata":{},"sourceType":"module"}