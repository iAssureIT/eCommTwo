{"ast":null,"code":"var _jsxFileName = \"/home/iassureit/PriyaiAssureITWork/eCommTwo/WebApp/franchise/src/coreadmin/Master/PersonMaster/Deletedemployees.js\";\nimport React, { Component } from 'react';\nimport $ from \"jquery\";\nimport jQuery from 'jquery';\nimport axios from 'axios';\nimport moment from 'moment';\nimport DeletedEmplist from './DeletedEmplist.js';\nimport swal from 'sweetalert';\nimport 'font-awesome/css/font-awesome.min.css';\nimport 'bootstrap/js/modal.js';\nimport '../../userManagement/UM/userManagement.css';\n\nclass DeletedUsers extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      \"tableData\": props && props.tableData ? props.tableData : [],\n      \"startRange\": 0,\n      \"limitRange\": 10000,\n      \"twoLevelHeader\": {\n        apply: false\n      },\n      \"tableHeading\": {\n        fullName: 'User Details',\n        status: 'Status',\n        roles: 'Role',\n        employeeId: 'Employee ID',\n        createdAt: 'Registered Since',\n        deletedOn: \"Deleted On\",\n        actions: 'Action'\n      },\n      \"tableObjects\": {\n        paginationApply: false\n      },\n      checkedUser: [],\n      activeswal: false,\n      blockswal: false,\n      confirmDel: false,\n      unCheckedUser: false\n    };\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  handleChange(event) {\n    const datatype = event.target.getAttribute('data-text');\n    const {\n      name,\n      value\n    } = event.target;\n    this.setState({\n      [name]: value\n    });\n  }\n\n  componentDidMount() {\n    this.getData();\n    this.setState({\n      tableData: this.props.tableData\n    });\n  }\n\n  componentWillReceiveProps(nextprops) {\n    this.getData();\n    this.setState({\n      tableData: nextprops.tableData\n    });\n  }\n\n  getData() {\n    var formvalues = {\n      type: \"employee\"\n    };\n    axios.post(\"/api/personmaster/get/list\", formvalues).then(response => {\n      var statusArr = ['deleted-Active', 'deleted-Inactive'];\n      var tableData = response.data.filter((data, i) => {\n        if (statusArr.includes(data.status)) return data;\n      });\n      var tableData = tableData.map((a, i) => {\n        return {\n          _id: a._id,\n          fullName: '<div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-6 pull-left\"><b>' + a.firstName + '&nbsp' + a.lastName + '</b></div><div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-6 pull-right\"><medium>' + a.companyName + ' | ' + a.companyID + '</medium></div>' + '<p><i class=\"fa fa-envelope\"></i> ' + a.email + '&nbsp  | &nbsp <i class=\"fs16 fa fa-mobile\"></i> ' + a.mobNumber + '</p>',\n          status: a.status,\n          roles: a.type.toString(),\n          employeeId: a.employeeId,\n          createdAt: moment(a.createdAt).format(\"DD-MMM-YY LT\"),\n          deletedOn: a.statusupdatedAt !== \"-\" ? moment(a.statusupdatedAt).format(\"DD-MMM-YY LT\") : \"-\"\n        };\n      });\n      this.setState({\n        completeDataCount: response.data.length,\n        tableData: tableData\n      });\n    }).catch(error => {});\n  }\n\n  setunCheckedUser(value) {\n    this.setState({\n      unCheckedUser: value\n    });\n  }\n\n  selectedUser(checkedUsersList) {\n    this.setState({\n      checkedUser: checkedUsersList\n    }, () => {\n      console.log('checkedUser', this.state.checkedUser);\n    });\n  }\n\n  close(event) {\n    this.setState({\n      firstname: \"\",\n      lastname: \"\",\n      signupEmail: \"\",\n      mobile: \"\",\n      role: \"\"\n    });\n    var modal = document.getElementById(\"DeletedUsersModal\");\n    modal.style.display = \"none\";\n    var data = {\n      \"startRange\": parseInt(this.state.startRange),\n      \"limitRange\": parseInt(this.state.limitRange)\n    }; // this.props.getuserData(this.state.startRange, this.state.limitRange)\n\n    this.getData();\n    this.setState({\n      tableData: this.props.tableData\n    });\n    $('.modal-backdrop').remove();\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"modal\",\n      id: \"DeletedUsersModal\",\n      role: \"dialog\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"adminModal adminModal-dialog col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"modal-content adminModal-content col-lg-10 col-lg-offset-1 col-md-6 col-md-offset-3 col-sm-10 col-sm-offset-1 col-xs-12 noPadding\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"modal-header adminModal-header col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      onClick: this.close.bind(this),\n      className: \"close \",\n      \"data-dismiss\": \"modal\",\n      \"aria-label\": \"Close\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      \"aria-hidden\": \"true\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 17\n      }\n    }, \"\\xD7\")), /*#__PURE__*/React.createElement(\"h4\", {\n      className: \"modal-title row deleteTitle\",\n      id: \"exampleModalLabel\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 15\n      }\n    }, \"Deleted Users\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"modal-body adminModal-body col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(DeletedEmplist, {\n      getData: this.getData.bind(this),\n      getpersons: this.props.getpersons.bind(this),\n      tableHeading: this.state.tableHeading,\n      tableData: this.state.tableData,\n      DeletedUsersTable: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 15\n      }\n    })))));\n  }\n\n}\n\nexport default DeletedUsers; // import React, { Component }   from 'react';\n// import $                      from \"jquery\";\n// import jQuery                 from 'jquery';\n// import axios                  from 'axios';\n// import moment                 from 'moment';\n// import DeletedEmplist            from './DeletedEmplist.js';\n// import swal                   from 'sweetalert';\n// import 'font-awesome/css/font-awesome.min.css';\n// import 'bootstrap/js/modal.js';\n// import '../../userManagement/UM/userManagement.css';\n// class DeletedUsers extends Component {\n//   constructor(props) {\n//     super(props);\n//     this.state = {\n//       \"tableData\"         : props && props.tableData ? props.tableData : [],\n//       \"startRange\"        : 0,\n//       \"limitRange\"        : 10000, \n//       \"twoLevelHeader\"    : {\n//           apply           : false,\n//       },\n//       \"tableHeading\"     : {\n//         fullName        : 'User Details',\n//         status          : 'Status',\n//         roles           : 'Role',\n//         createdAt       : 'Registered Since',\n//         lastLogin       : \"Last Login\",\n//         deletedOn       : \"Deleted On\",\n//         deletedBy       : \"Deleted By\",\n//         actions         : 'Action',\n//       },\n//       \"tableObjects\"    : {\n//         paginationApply : false,\n//       },\n//       checkedUser  : [],\n//       activeswal : false,\n//       blockswal : false,\n//       confirmDel : false,\n//       unCheckedUser:false\n//     };\n//     this.handleChange = this.handleChange.bind(this);\n//   }\n//   handleChange(event) {\n//     const datatype = event.target.getAttribute('data-text');\n//     const { name, value } = event.target;\n//     this.setState({\n//       [name]: value\n//     });\n//   }\n//   componentDidMount() {\n//     this.getpersons();\n//     this.setState({\n//       tableData     : this.props.tableData ,          \n//     })\n//   }\n//   componentWillReceiveProps(nextprops) {\n//     this.getpersons();\n//     this.setState({\n//       tableData     : nextprops.tableData ,          \n//     })\n//   }\n//   getpersons() {\n//     var formvalues = { type : \"employee\"}\n// \t\taxios.post(\"/api/personmaster/get/list\",formvalues)\n// \t\t.then((response) => {\n//       var statusArr = ['deleted-Active','deleted-Inactive'];\n//         var tableData=response.data.filter((data,i)=>{\n//             if(statusArr.includes(data.status))\n//                 return data\n//         });\n// \t\t\t  var tableData = tableData.map((a, i)=>{\n//           console.log('deleteres a===>',a);\n//           return {\n//             _id             : a._id,\n//             fullName        : '<p>' +'<b>'+ a.fullName +'</b>' +'&nbsp &nbsp &nbsp &nbsp &nbsp '  +'<medium>'+a.companyName +'&nbsp | &nbsp'+a.companyID +'</medium>' + '</div></p>'+ '</p>' + '<p><i class=\"fa fa-envelope\"></i> ' + a.email +'&nbsp  | &nbsp <i class=\"fs16 fa fa-mobile\"></i> ' + a.mobNumber  ,\n//             status          : a.status,\n//             roles           : a.role.map((b,j)=> '  <span>'+b+' </span>').toString(),\n//             createdAt       : moment(a.createdAt).format(\"DD-MMM-YY LT\"),\n//             lastLogin       : a.lastLogin !==\"-\" ? moment(a.lastLogin).format(\"DD-MMM-YY LT\") : \"-\",\n//             deletedOn       : a.statusupdatedAt !==\"-\" ? moment(a.statusupdatedAt).format(\"DD-MMM-YY LT\") : \"-\",\n//             deletedBy       : a.statusupdatedBy,\n//           }\n//         })\n//         this.setState({\n//           completeDataCount : response.data.length,\n//           tableData     : tableData,          \n//         })\n// \t\t})\n// \t\t.catch((error) => {\n// \t\t})\n// \t}\n//   setunCheckedUser(value){\n//     this.setState({\n//       unCheckedUser : value,\n//     })\n//   }\n//   selectedUser(checkedUsersList){\n//     this.setState({\n//       checkedUser : checkedUsersList,\n//     },()=>{\n//       console.log('checkedUser',this.state.checkedUser);\n//     })\n//   }\n//   close(event){\n//     this.setState({\n//       firstname: \"\",\n//       lastname: \"\",\n//       signupEmail: \"\",\n//       mobile: \"\",\n//       role: \"\",\n//     });\n//     var modal = document.getElementById(\"DeletedUsersModal\");\n//     modal.style.display = \"none\";\n//     var data = {\n//       \"startRange\"        : parseInt(this.state.startRange),\n//       \"limitRange\"        : parseInt(this.state.limitRange), \n//     }    \n//     this.getpersons();\n//     this.setState({\n//       tableData     : this.props.tableData ,          \n//     })\n//     $('.modal-backdrop').remove();\n//   }\n//   render() {\n//     console.log(\"this.props.tableData==>\",this.getpersons());\n//     return (\n//       <div className=\"modal\" id=\"DeletedUsersModal\" role=\"dialog\">\n//         <div className=\"adminModal adminModal-dialog col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n//           <div className=\"modal-content adminModal-content col-lg-10 col-lg-offset-1 col-md-6 col-md-offset-3 col-sm-10 col-sm-offset-1 col-xs-12 noPadding\">\n//             <div className=\"modal-header adminModal-header col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n//                 <button type=\"button\" onClick={this.close.bind(this)} className=\"close \" data-dismiss=\"modal\" aria-label=\"Close\">\n//                 <span aria-hidden=\"true\">&times;</span>\n//               </button>\n//               <h4 className=\"modal-title row deleteTitle\" id=\"exampleModalLabel\">Deleted Users</h4>\n//             </div>\n//             <div className=\"modal-body adminModal-body col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n//               <DeletedEmplist\n//                 getpersons={this.getpersons.bind(this)} \n//                 tableHeading={this.state.tableHeading} \n//                 tableData={this.state.tableData} \n//                 DeletedUsersTable = {true}\n//               />      \n//             </div>\n//           </div>\n//         </div>\n//       </div>\n//     );\n//   }\n// }","map":{"version":3,"sources":["/home/iassureit/PriyaiAssureITWork/eCommTwo/WebApp/franchise/src/coreadmin/Master/PersonMaster/Deletedemployees.js"],"names":["React","Component","$","jQuery","axios","moment","DeletedEmplist","swal","DeletedUsers","constructor","props","state","tableData","apply","fullName","status","roles","employeeId","createdAt","deletedOn","actions","paginationApply","checkedUser","activeswal","blockswal","confirmDel","unCheckedUser","handleChange","bind","event","datatype","target","getAttribute","name","value","setState","componentDidMount","getData","componentWillReceiveProps","nextprops","formvalues","type","post","then","response","statusArr","data","filter","i","includes","map","a","_id","firstName","lastName","companyName","companyID","email","mobNumber","toString","format","statusupdatedAt","completeDataCount","length","catch","error","setunCheckedUser","selectedUser","checkedUsersList","console","log","close","firstname","lastname","signupEmail","mobile","role","modal","document","getElementById","style","display","parseInt","startRange","limitRange","remove","render","getpersons","tableHeading"],"mappings":"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,eAAeJ,YAAf,C,CAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["import React, { Component }   from 'react';\nimport $                      from \"jquery\";\nimport jQuery                 from 'jquery';\nimport axios                  from 'axios';\nimport moment                 from 'moment';\nimport DeletedEmplist            from './DeletedEmplist.js';\nimport swal                   from 'sweetalert';\nimport 'font-awesome/css/font-awesome.min.css';\nimport 'bootstrap/js/modal.js';\nimport '../../userManagement/UM/userManagement.css';\n\nclass DeletedUsers extends Component {\n\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      \"tableData\"         : props && props.tableData ? props.tableData : [],\n      \"startRange\"        : 0,\n      \"limitRange\"        : 10000, \n      \"twoLevelHeader\"    : {\n          apply           : false,\n      },\n      \"tableHeading\"     : {\n        fullName        : 'User Details',\n        status          : 'Status',\n        roles           : 'Role',\n        employeeId      : 'Employee ID',\n        createdAt       : 'Registered Since',\n        deletedOn       : \"Deleted On\",\n        actions         : 'Action',\n      },\n      \"tableObjects\"    : {\n        paginationApply : false,\n      },\n      checkedUser  : [],\n      activeswal : false,\n      blockswal : false,\n      confirmDel : false,\n      unCheckedUser:false\n    };\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  handleChange(event) {\n    const datatype = event.target.getAttribute('data-text');\n    const { name, value } = event.target;\n    this.setState({\n      [name]: value\n    });\n  }\n  componentDidMount() {\n    this.getData();\n    this.setState({\n      tableData     : this.props.tableData ,          \n    })\n  }\n  componentWillReceiveProps(nextprops) {\n    \n    this.getData();\n    this.setState({\n      tableData     : nextprops.tableData ,          \n    })\n  }\n  getData(){    \n    var formvalues = { type : \"employee\"}\n    \t\taxios.post(\"/api/personmaster/get/list\",formvalues)\n    \t\t.then((response) => {\n          var statusArr = ['deleted-Active','deleted-Inactive'];\n            var tableData=response.data.filter((data,i)=>{\n                if(statusArr.includes(data.status))\n                    return data\n            });\n        var tableData = tableData.map((a, i)=>{\n          return {\n            _id             : a._id,\n            fullName: '<div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-6 pull-left\"><b>' +  a.firstName +'&nbsp'+ a.lastName + '</b></div><div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-6 pull-right\"><medium>' + a.companyName + ' | ' + a.companyID + '</medium></div>' +\n\t\t\t\t\t\t\t        '<p><i class=\"fa fa-envelope\"></i> ' + a.email + '&nbsp  | &nbsp <i class=\"fs16 fa fa-mobile\"></i> ' + a.mobNumber + '</p>',\n            status          : a.status,\n            roles           : a.type.toString(),\n            employeeId      : a.employeeId,\n            createdAt       : moment(a.createdAt).format(\"DD-MMM-YY LT\"),\n            deletedOn       : a.statusupdatedAt !==\"-\" ? moment(a.statusupdatedAt).format(\"DD-MMM-YY LT\") : \"-\",\n          }\n        })\n        this.setState({\n          completeDataCount : response.data.length,\n          tableData     : tableData,          \n        })\n    })\n    .catch((error)=>{}); \n  }\n\n  setunCheckedUser(value){\n    this.setState({\n      unCheckedUser : value,\n    })\n  }\n  selectedUser(checkedUsersList){\n    this.setState({\n      checkedUser : checkedUsersList,\n    },()=>{\n      console.log('checkedUser',this.state.checkedUser);\n    })\n  }\n  close(event){\n    this.setState({\n      firstname: \"\",\n      lastname: \"\",\n      signupEmail: \"\",\n      mobile: \"\",\n      role: \"\",\n    });\n    var modal = document.getElementById(\"DeletedUsersModal\");\n    modal.style.display = \"none\";\n    var data = {\n      \"startRange\"        : parseInt(this.state.startRange),\n      \"limitRange\"        : parseInt(this.state.limitRange), \n    }    \n    // this.props.getuserData(this.state.startRange, this.state.limitRange)\n    this.getData();\n    this.setState({\n      tableData     : this.props.tableData ,          \n    })\n    $('.modal-backdrop').remove();\n    \n  }\n  render() {\n    return (\n      <div className=\"modal\" id=\"DeletedUsersModal\" role=\"dialog\">\n        <div className=\"adminModal adminModal-dialog col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n          <div className=\"modal-content adminModal-content col-lg-10 col-lg-offset-1 col-md-6 col-md-offset-3 col-sm-10 col-sm-offset-1 col-xs-12 noPadding\">\n            <div className=\"modal-header adminModal-header col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n                <button type=\"button\" onClick={this.close.bind(this)} className=\"close \" data-dismiss=\"modal\" aria-label=\"Close\">\n                <span aria-hidden=\"true\">&times;</span>\n              </button>\n              <h4 className=\"modal-title row deleteTitle\" id=\"exampleModalLabel\">Deleted Users</h4>\n            </div>\n            <div className=\"modal-body adminModal-body col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n              <DeletedEmplist\n                getData={this.getData.bind(this)} \n                getpersons={this.props.getpersons.bind(this)} \n                tableHeading={this.state.tableHeading} \n                tableData={this.state.tableData} \n                DeletedUsersTable = {true}\n              />      \n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\n\nexport default DeletedUsers;\n\n\n\n\n\n\n// import React, { Component }   from 'react';\n// import $                      from \"jquery\";\n// import jQuery                 from 'jquery';\n// import axios                  from 'axios';\n// import moment                 from 'moment';\n// import DeletedEmplist            from './DeletedEmplist.js';\n// import swal                   from 'sweetalert';\n// import 'font-awesome/css/font-awesome.min.css';\n// import 'bootstrap/js/modal.js';\n// import '../../userManagement/UM/userManagement.css';\n\n// class DeletedUsers extends Component {\n\n\n//   constructor(props) {\n//     super(props);\n//     this.state = {\n//       \"tableData\"         : props && props.tableData ? props.tableData : [],\n//       \"startRange\"        : 0,\n//       \"limitRange\"        : 10000, \n//       \"twoLevelHeader\"    : {\n//           apply           : false,\n//       },\n//       \"tableHeading\"     : {\n//         fullName        : 'User Details',\n//         status          : 'Status',\n//         roles           : 'Role',\n//         createdAt       : 'Registered Since',\n//         lastLogin       : \"Last Login\",\n//         deletedOn       : \"Deleted On\",\n//         deletedBy       : \"Deleted By\",\n//         actions         : 'Action',\n//       },\n//       \"tableObjects\"    : {\n//         paginationApply : false,\n//       },\n//       checkedUser  : [],\n//       activeswal : false,\n//       blockswal : false,\n//       confirmDel : false,\n//       unCheckedUser:false\n//     };\n//     this.handleChange = this.handleChange.bind(this);\n//   }\n\n//   handleChange(event) {\n//     const datatype = event.target.getAttribute('data-text');\n//     const { name, value } = event.target;\n//     this.setState({\n//       [name]: value\n//     });\n//   }\n//   componentDidMount() {\n    \n//     this.getpersons();\n//     this.setState({\n//       tableData     : this.props.tableData ,          \n//     })\n//   }\n//   componentWillReceiveProps(nextprops) {\n//     this.getpersons();\n//     this.setState({\n//       tableData     : nextprops.tableData ,          \n//     })\n//   }\n//   getpersons() {\n    \n//     var formvalues = { type : \"employee\"}\n// \t\taxios.post(\"/api/personmaster/get/list\",formvalues)\n// \t\t.then((response) => {\n//       var statusArr = ['deleted-Active','deleted-Inactive'];\n//         var tableData=response.data.filter((data,i)=>{\n//             if(statusArr.includes(data.status))\n//                 return data\n//         });\n// \t\t\t  var tableData = tableData.map((a, i)=>{\n//           console.log('deleteres a===>',a);\n//           return {\n//             _id             : a._id,\n//             fullName        : '<p>' +'<b>'+ a.fullName +'</b>' +'&nbsp &nbsp &nbsp &nbsp &nbsp '  +'<medium>'+a.companyName +'&nbsp | &nbsp'+a.companyID +'</medium>' + '</div></p>'+ '</p>' + '<p><i class=\"fa fa-envelope\"></i> ' + a.email +'&nbsp  | &nbsp <i class=\"fs16 fa fa-mobile\"></i> ' + a.mobNumber  ,\n//             status          : a.status,\n//             roles           : a.role.map((b,j)=> '  <span>'+b+' </span>').toString(),\n//             createdAt       : moment(a.createdAt).format(\"DD-MMM-YY LT\"),\n//             lastLogin       : a.lastLogin !==\"-\" ? moment(a.lastLogin).format(\"DD-MMM-YY LT\") : \"-\",\n//             deletedOn       : a.statusupdatedAt !==\"-\" ? moment(a.statusupdatedAt).format(\"DD-MMM-YY LT\") : \"-\",\n//             deletedBy       : a.statusupdatedBy,\n//           }\n//         })\n//         this.setState({\n//           completeDataCount : response.data.length,\n//           tableData     : tableData,          \n//         })\n// \t\t})\n// \t\t.catch((error) => {\n// \t\t})\n// \t}\n\n//   setunCheckedUser(value){\n//     this.setState({\n//       unCheckedUser : value,\n//     })\n//   }\n//   selectedUser(checkedUsersList){\n//     this.setState({\n//       checkedUser : checkedUsersList,\n//     },()=>{\n//       console.log('checkedUser',this.state.checkedUser);\n//     })\n//   }\n//   close(event){\n//     this.setState({\n//       firstname: \"\",\n//       lastname: \"\",\n//       signupEmail: \"\",\n//       mobile: \"\",\n//       role: \"\",\n//     });\n//     var modal = document.getElementById(\"DeletedUsersModal\");\n//     modal.style.display = \"none\";\n//     var data = {\n//       \"startRange\"        : parseInt(this.state.startRange),\n//       \"limitRange\"        : parseInt(this.state.limitRange), \n//     }    \n//     this.getpersons();\n//     this.setState({\n//       tableData     : this.props.tableData ,          \n//     })\n//     $('.modal-backdrop').remove();\n//   }\n//   render() {\n//     console.log(\"this.props.tableData==>\",this.getpersons());\n//     return (\n//       <div className=\"modal\" id=\"DeletedUsersModal\" role=\"dialog\">\n//         <div className=\"adminModal adminModal-dialog col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n//           <div className=\"modal-content adminModal-content col-lg-10 col-lg-offset-1 col-md-6 col-md-offset-3 col-sm-10 col-sm-offset-1 col-xs-12 noPadding\">\n//             <div className=\"modal-header adminModal-header col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n//                 <button type=\"button\" onClick={this.close.bind(this)} className=\"close \" data-dismiss=\"modal\" aria-label=\"Close\">\n//                 <span aria-hidden=\"true\">&times;</span>\n//               </button>\n//               <h4 className=\"modal-title row deleteTitle\" id=\"exampleModalLabel\">Deleted Users</h4>\n//             </div>\n//             <div className=\"modal-body adminModal-body col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n//               <DeletedEmplist\n//                 getpersons={this.getpersons.bind(this)} \n//                 tableHeading={this.state.tableHeading} \n//                 tableData={this.state.tableData} \n//                 DeletedUsersTable = {true}\n//               />      \n//             </div>\n//           </div>\n//         </div>\n//       </div>\n//     );\n//   }\n// }\n\n\n"]},"metadata":{},"sourceType":"module"}