{"ast":null,"code":"var _jsxFileName = \"/home/iassureit/PriyaiAssureITWork/eCommTwo/WebApp/franchise/src/admin/CMS/component/createnewpage/Viewpage.js\";\nimport React, { Component, Suspense } from 'react';\nimport CircleMenuBars from '../circlemenubars.js';\nimport axios from 'axios';\nimport { Route, withRouter } from 'react-router-dom';\nimport CmsBlock from \"../createnewblock/Cmsblock.js\";\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport 'bootstrap/js/modal.js';\nimport 'bootstrap/js/collapse.js';\nimport swal from 'sweetalert';\nimport './viewpage.css';\n\nclass Viewpage extends React.Component {\n  constructor(props) {\n    super(props);\n    var id = this.props.match.params.url;\n    this.state = {\n      Newpagecomponent: \"\",\n      urlId: id,\n      blocks: \"\",\n      Blocks: [],\n      ListOfBlocks: \"\",\n      addedBlocks: [],\n      listOfBlocks: false,\n      urlParam: \"\",\n      block_id: \"\",\n      pageData: \"\",\n      ListOfPages: \"\"\n      /* \"blockGroup\": null,\n        \"blockAppearOnPage\": null*/\n\n    };\n  }\n\n  getAllBlockList() {\n    axios.get('/api/blocks/get/list').then(response => {\n      console.log(\"AllBlogs=\", response.data);\n      this.setState({\n        ListOfBlocks: response.data\n      }, () => {\n        console.log(\"===================result==\", this.state.ListOfBlocks);\n      });\n    }).catch(function (error) {\n      // handle error\n      console.log(error);\n    });\n  }\n\n  getListOfPages() {\n    /*/get/list*/\n    axios.get('/api/pages/get/list').then(response => {\n      this.setState({\n        ListOfPages: response.data\n      });\n    }).catch(function (error) {\n      // handle error\n      console.log(error);\n    });\n  }\n\n  componentWillReceiveProps(nextProps) {}\n\n  componentDidMount() {\n    // console.log(\"pageUrl = \",pageUrl);\n    this.getListOfPages();\n    this.getAllBlockList();\n    var pageUrl = window.location.pathname; // console.log(\"pageUrl = \",pageUrl);\n\n    let a = pageUrl ? pageUrl.split('/') : \"\"; // console.log(\"a==>\",a[1]); \n\n    const urlParam = a[2];\n    this.setState({\n      urlParam: urlParam\n    });\n    axios.get('/api/pages/get/page_block/' + urlParam).then(response => {\n      console.log(\"data in page=\", response.data);\n\n      if (response.data) {\n        this.setState({\n          pageData: response.data\n        });\n        /*var blockFromPage = response.data.pageBlocks;\n        // console.log(\"Page = \",response.data);\n        for (var i = 0; i < blockFromPage.length; i++) \n        {\n        \t{\n        \t axios\n             .get('http://iogapi.iassureit.com/api/blocks/get/'+ blockFromPage[i].block_id)\n             .then((response)=>{\n              var blocks = this.state.Blocks;\n              blocks.push(response.data);\n            \tthis.setState({\n           \t\t\tBlocks:blocks\n           \t\t});\n           \t})\n           \t.catch(function(error){\n             \tconsole.log(error);\n               \tif(error.message === \"Request failed with status code 401\")\n                 \t\t{\n                      \t\tswal(\"Your session is expired! Please login again.\",\"\", \"error\");\n                 \t\t}\n        \t\t\t})\n        \t}\n        }*/\n      }\n    }).catch(function (error) {\n      console.log(error);\n\n      if (error.message === \"Request failed with status code 401\") {\n        swal(\"Your session is expired! Please login again.\", \"\", \"error\");\n      }\n    });\n  }\n\n  handleChange(event) {\n    var attaribute_Value = event.target.getAttribute('data_id'); // console.log(\"attaribute_Value\",attaribute_Value);\n\n    this.state.addedBlocks.push(attaribute_Value);\n  }\n\n  addBlock(event) {\n    // var urlParam = window.location.pathname;\n    //      console.log('urlParam=>',urlParam);\n    var pageUrl = window.location.pathname;\n    ;\n    console.log(\"pageUrl = \", pageUrl);\n    let a = pageUrl ? pageUrl.split('/') : \"\";\n    const urlParam = a[2];\n    console.log(\"urlParam = \", urlParam);\n    var attaribute_addBlock = event.target.id;\n    console.log(\"attaribute_addBlock = \", attaribute_addBlock);\n    var AttachmentValues = {\n      \"block_id\": attaribute_addBlock\n    };\n    axios.patch('api/pages/patch/blocks/add/' + urlParam, AttachmentValues).then(function (response) {\n      window.location.reload();\n      console.log(response);\n    }).catch(function (error) {\n      console.log(error);\n    });\n  }\n\n  submitData(event) {\n    var AttachmentValues = this.state.addedBlocks; // console.log(\"ids =\",this.state.addedBlocks);\n\n    axios.post('/api/pages/patch/blocks/add/' + this.state.urlParam, AttachmentValues).then(function (response) {\n      console.log(response);\n    }).catch(function (error) {\n      console.log(error);\n    });\n  }\n\n  editBlock(event) {\n    var block_id = event.currentTarget.id; // console.log(\"block_id=\",block_id);\n\n    this.setState({\n      block_id: block_id\n    });\n  }\n\n  deleteBlocks(event) {\n    let urlParam = this.state.urlParam; // console.log(\"this.state.urlParam  \",urlParam);\n\n    event.preventDefault();\n    var URL = event.target.id; // console.log(\"delet id \",URL);\n\n    var deleteValues = {\n      \"pageBlocks_id\": URL\n    };\n    console.log(\"id delet\", this.state.urlParam, deleteValues);\n    swal({\n      title: \"Are you sure you want to delete this Page ?\",\n      text: \"Once deleted, you will not be able to recover this Page!\",\n      icon: \"warning\",\n      buttons: true,\n      dangerMode: true\n    }).then(success => {\n      // console.log(success);\n      if (success) {\n        axios.patch('/api/pages/patch/blocks/remove/' + this.state.urlParam, deleteValues).then(response => {\n          // this.getListOfPages();\n          swal(\"Your Page is deleted!\");\n          window.location.reload();\n        }).catch(error => {\n          console.log(\"error = \", error);\n        });\n      } else {\n        swal(\"Your Block is safe!\");\n      }\n    });\n  }\n\n  onclickEvent() {\n    this.setState({\n      listOfBlocks: true\n    });\n  }\n\n  render() {\n    // var data = this.state.ListOfBlocks;\n    console.log(\"block id in render=\", this.state.pageData);\n    const listBlock = this.state.pageData.pageBlocks; // console.log(\"ListOfPages==>\",this.state.ListOfPages);\n    // console.log(\"data blocks in render\",data);\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"contentWrapper padd1520 content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"pageContent\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 8\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(CircleMenuBars, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 10\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 9\n      }\n    }, this.state.pageData.pageBlocks && this.state.pageData.pageBlocks.length > 0 ? this.state.pageData.pageBlocks.map((result, index) => {\n      var componentTemp = result.block_id.blockComponentName ? result.block_id.blockComponentName : 'Typecomponent1';\n      const NewPageComponent = React.lazy(() => import('../blockTemplate/' + componentTemp + '/' + componentTemp + '.js'));\n      console.log(\"componentTemp=======in viewpage=\", componentTemp); //const NewPageComponent = loadable(() => import('../blockTemplate/'+componentTemp));\n\n      var Block_id = result.block_id._id;\n      var block_id = result._id; // console.log(\"componentTemp\",componentTemp);\n\n      return /*#__PURE__*/React.createElement(Suspense, {\n        fallback: /*#__PURE__*/React.createElement(\"div\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 251,\n            columnNumber: 34\n          }\n        }, \"Loading...\"),\n        key: index,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 251,\n          columnNumber: 14\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"fa fa-trash deletbtnIcon pull-right\",\n        id: block_id,\n        onClick: this.deleteBlocks.bind(this),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 252,\n          columnNumber: 15\n        }\n      }), /*#__PURE__*/React.createElement(\"i\", {\n        className: \"fa fa-pencil editIcon pull-right\",\n        id: Block_id,\n        onClick: this.editBlock.bind(this),\n        \"data-toggle\": \"modal\",\n        \"data-target\": \"#editBlockFormM\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 253,\n          columnNumber: 15\n        }\n      }), /*#__PURE__*/React.createElement(NewPageComponent, {\n        block_id: Block_id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 18\n        }\n      }));\n    }) : null, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      className: \" col-lg-4 col-lg-offset-4 btn b1 success btn-lg\",\n      onClick: () => this.onclickEvent(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 10\n      }\n    }, \"Add new Block\"), this.state.listOfBlocks === true ? /*#__PURE__*/React.createElement(\"section\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 12\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-xs-12 col-sm-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"noPadLR  selectBox col-lg-12 col-md-12 col-xs-12 col-sm-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 14\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-xs-12 col-sm-12 noPadLR\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"panel panel-default bgcolorO\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 28\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"panel-heading bgPanelHead\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 272,\n        columnNumber: 20\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      className: \"panel-title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 24\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      href: \"/viewpage1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 275,\n        columnNumber: 27\n      }\n    }, \"Back\")), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-primary pull-right\",\n      id: \"cnBlock\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 277,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      className: \"pull-right\",\n      \"data-toggle\": \"collapse\",\n      \"data-parent\": \"#accordion\",\n      href: \"#collapse1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 278,\n        columnNumber: 25\n      }\n    }, \"+ Create New Block\")))), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"collapse1\",\n      className: \"panel-collapse collapse\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 283,\n        columnNumber: 20\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"panel-body\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 284,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(CmsBlock, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 285,\n        columnNumber: 24\n      }\n    }))))), this.state.ListOfBlocks && this.state.ListOfBlocks.length > 0 ? this.state.ListOfBlocks.map((result, index) => {\n      console.log(\"========result in viewpage 2=============\", result);\n      /*\tvar component = result.blockComponentName ? result.blockComponentName : 'Block1Sample';\n      \tconst NewPageComponent = React.lazy(() => import('../blockComponent/'+component+'.js'));*/\n\n      var component = result.blockComponentName ? result.blockComponentName : 'Typecomponent1';\n      const NewPageComponent = React.lazy(() => import('../blockTemplate/' + component + '/' + component + '.js'));\n      var block_id = result._id; // console.log(\"block_id\",block_id);\n\n      return /*#__PURE__*/React.createElement(\"div\", {\n        key: index,\n        className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 selectDiv1 designList\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 329,\n          columnNumber: 32\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"checkbox\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 330,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 331,\n          columnNumber: 28\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        type: \"checkbox\",\n        className: \"pull-right\",\n        onChange: this.handleChange.bind(this),\n        data_id: block_id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 332,\n          columnNumber: 29\n        }\n      }), \" Select Multiple Blocks\"), /*#__PURE__*/React.createElement(\"button\", {\n        type: \"submit\",\n        className: \"col-lg-2 col-md-3 col-sm-6 col-xs-12 btn btn-primary pull-right AddBlockbtn\",\n        onClick: this.addBlock.bind(this),\n        id: block_id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 334,\n          columnNumber: 43\n        }\n      }, \"Add Block\")), /*#__PURE__*/React.createElement(Suspense, {\n        fallback: /*#__PURE__*/React.createElement(\"div\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 336,\n            columnNumber: 41\n          }\n        }, \"Loading...\"),\n        key: index,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 336,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(NewPageComponent, {\n        block_id: block_id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 337,\n          columnNumber: 25\n        }\n      })));\n    }) : null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"savetemp col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 345,\n        columnNumber: 16\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"col-lg-3 col-md-3 col-sm-6 col-xs-12 btn btn-primary pull-right sendtxtmsgbtn AddBlockbtn\",\n      onClick: () => this.submitData(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 346,\n        columnNumber: 38\n      }\n    }, \"Add Multiple Blocks\")))))) : null)))), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"editBlockFormM\",\n      className: \"modal\",\n      role: \"dialog\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 361,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"modal-dialog modal-lg\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 362,\n        columnNumber: 8\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"modal-content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 364,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"modal-header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 365,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      className: \"close\",\n      \"data-dismiss\": \"modal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 366,\n        columnNumber: 16\n      }\n    }, \"\\xD7\"), /*#__PURE__*/React.createElement(\"h4\", {\n      className: \"modal-title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 367,\n        columnNumber: 16\n      }\n    }, \"Edit Block\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"modal-body\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 369,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(CmsBlock, {\n      block_id: this.state.block_id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 371,\n        columnNumber: 16\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"modal-footer\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 373,\n        columnNumber: 14\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      className: \"btn btn-default\",\n      \"data-dismiss\": \"modal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 374,\n        columnNumber: 16\n      }\n    }, \"Close\"))))));\n  }\n\n}\n\nexport default withRouter(Viewpage);","map":{"version":3,"sources":["/home/iassureit/PriyaiAssureITWork/eCommTwo/WebApp/franchise/src/admin/CMS/component/createnewpage/Viewpage.js"],"names":["React","Component","Suspense","CircleMenuBars","axios","Route","withRouter","CmsBlock","swal","Viewpage","constructor","props","id","match","params","url","state","Newpagecomponent","urlId","blocks","Blocks","ListOfBlocks","addedBlocks","listOfBlocks","urlParam","block_id","pageData","ListOfPages","getAllBlockList","get","then","response","console","log","data","setState","catch","error","getListOfPages","componentWillReceiveProps","nextProps","componentDidMount","pageUrl","window","location","pathname","a","split","message","handleChange","event","attaribute_Value","target","getAttribute","push","addBlock","attaribute_addBlock","AttachmentValues","patch","reload","submitData","post","editBlock","currentTarget","deleteBlocks","preventDefault","URL","deleteValues","title","text","icon","buttons","dangerMode","success","onclickEvent","render","listBlock","pageBlocks","length","map","result","index","componentTemp","blockComponentName","NewPageComponent","lazy","Block_id","_id","bind","component"],"mappings":"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","sourcesContent":["import React, { Component, Suspense } from 'react';\nimport CircleMenuBars from '../circlemenubars.js';\nimport axios from 'axios';\nimport {Route, withRouter} from 'react-router-dom';\nimport CmsBlock from \"../createnewblock/Cmsblock.js\";\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport 'bootstrap/js/modal.js';\nimport 'bootstrap/js/collapse.js';\nimport swal from 'sweetalert';\nimport './viewpage.css';\n\nclass Viewpage extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n   \t\tvar id = this.props.match.params.url;\n\t\tthis.state = {\n\t\t\tNewpagecomponent: \"\",\n\t\t\turlId:id,\n\t   \t\tblocks:\"\",\n\t   \t\tBlocks:[],\n\t   \t\tListOfBlocks:\"\",\n\t        addedBlocks:[],\n\t   \t\tlistOfBlocks:false,\n\t   \t\turlParam:\"\",\n\t   \t\tblock_id:\"\",\n\t   \t\tpageData\t:\"\",\n\t   \t\tListOfPages :\"\"\n\n\t   \t\t/* \"blockGroup\": null,\n        \"blockAppearOnPage\": null*/\n\t\t}\n\t}\n\t\n\tgetAllBlockList(){\n\t\taxios\n\t\t\t\t.get('/api/blocks/get/list')\n\t\t\t\t.then((response)=>{\n\t\t\t\t\t\t        console.log(\"AllBlogs=\",response.data);\n\t\t\t\t\t\t      \tthis.setState({\n\t\t\t\t\t      \t\t\tListOfBlocks:response.data\n\t\t\t\t\t      \t\t},()=>{\n\t\t\t\t\t      \t\t\t\tconsole.log(\"===================result==\",this.state.ListOfBlocks);\n\t\t\t\t\t      \t\t});\n\t\t\t\t\t      \t})\n\t\t\t  \t.catch(function (error) {\n\t\t\t    // handle error\n\t\t\t    \tconsole.log(error);\n\t\t\t  \t});\n\t}\n\n\tgetListOfPages(){\n\t/*/get/list*/\n\taxios\n\t\t\t.get('/api/pages/get/list')\n\t\t\t.then((response)=>{        \n\t\t\t      \tthis.setState({\n\t\t      \t\t\tListOfPages:response.data\n\t\t      \t\t});\n\t\t\t\t})\n\t\t  \t.catch(function (error) {\n\t\t    // handle error\n\t\t    \tconsole.log(error);\n\t\t  \t});\n\t}\n\tcomponentWillReceiveProps(nextProps){\n\n\t\n\t}\n  \n\tcomponentDidMount(){\n\t\t\t// console.log(\"pageUrl = \",pageUrl);\n\t\t\t\n\t\t\tthis.getListOfPages();\n\t\t\tthis.getAllBlockList();\n\t\t\tvar pageUrl = window.location.pathname;\n\t\t\t// console.log(\"pageUrl = \",pageUrl);\n\t\t\tlet a = pageUrl ? pageUrl.split('/') : \"\";\n\t        // console.log(\"a==>\",a[1]); \n\t        const urlParam =a[2];\n\t        this.setState({\n\t\t\t      \t\t\turlParam:urlParam\n\t\t\t      \t\t});\n\n\t\t\taxios\n\t\t\t.get('/api/pages/get/page_block/'+urlParam)\n\t        .then((response)=>{\n\t        \tconsole.log(\"data in page=\",response.data);\n\t      \t\tif (response.data) {\n\t\t\t      \tthis.setState({\n\t\t\t      \t\tpageData:response.data,\n\t\t\t      \t});\n\n    \t\t\t/*var blockFromPage = response.data.pageBlocks;\n\t\t    \t// console.log(\"Page = \",response.data);\n\t\t\t    for (var i = 0; i < blockFromPage.length; i++) \n\t\t\t    {\n\t\t\t    \t{\n\t\t\t   \t\t axios\n\t\t\t\t        .get('http://iogapi.iassureit.com/api/blocks/get/'+ blockFromPage[i].block_id)\n\t\t\t\t        .then((response)=>{\n\t\t\t\t\t        var blocks = this.state.Blocks;\n\t\t\t\t\t        blocks.push(response.data);\n\t\t\t\t\t      \tthis.setState({\n\t\t\t\t      \t\t\tBlocks:blocks\n\t\t\t\t      \t\t});\n\t\t\t\t      \t})\n\t\t\t\t      \t.catch(function(error){\n\t\t\t\t        \tconsole.log(error);\n\t\t\t\t          \tif(error.message === \"Request failed with status code 401\")\n\t\t              \t\t{\n\t\t                   \t\tswal(\"Your session is expired! Please login again.\",\"\", \"error\");\n\t\t              \t\t}\n\t\t     \t\t\t})\n\t    \t\t\t}\n\t \t\t\t}*/\n\t\t\t}\n\t    })\n\t      .catch(function(error){\n\t        console.log(error);\n\t          if(error.message === \"Request failed with status code 401\")\n\t              {\n\t                   swal(\"Your session is expired! Please login again.\",\"\", \"error\");\n\t              }\n\t      })\n   \t}\n   \t\thandleChange(event)\n\t{\n\t\tvar attaribute_Value = event.target.getAttribute('data_id');\n\t\t// console.log(\"attaribute_Value\",attaribute_Value);\n\t\tthis.state.addedBlocks.push(attaribute_Value)\n\t}\n\n\n\taddBlock(event){\n\t\t// var urlParam = window.location.pathname;\n        //      console.log('urlParam=>',urlParam);\n\t\tvar pageUrl = window.location.pathname;;\n\t\tconsole.log(\"pageUrl = \",pageUrl);\n\t\tlet a = pageUrl ? pageUrl.split('/') : \"\";\n        const urlParam =a[2];\n\t\tconsole.log(\"urlParam = \",urlParam);\n\n\t\tvar attaribute_addBlock = event.target.id;\n\t\tconsole.log(\"attaribute_addBlock = \",attaribute_addBlock);\n\t\t\n\n\t\tvar AttachmentValues ={    \n\t\t\t\"block_id\"\t: attaribute_addBlock,\t\t\t\t\t\t\t\t\t\t\t\n   \t\t}\n\t\taxios\n\t\t\t.patch('api/pages/patch/blocks/add/'+urlParam,AttachmentValues)\n\t\t  \t.then(function (response) {\n\t\t    \twindow.location.reload();\n\t\t    \tconsole.log(response);\n\t\t  \t})\n\t\t  \t.catch(function (error) {\n\t\t    \tconsole.log(error);\n\t\t  \t});\n\n\t}\n\tsubmitData(event){\n\t\tvar AttachmentValues =this.state.addedBlocks;\n\t\t// console.log(\"ids =\",this.state.addedBlocks);\n\t\taxios\n\t\t\t.post('/api/pages/patch/blocks/add/'+this.state.urlParam,AttachmentValues)\n\t\t  \t.then(function (response) {\n\t\t    \tconsole.log(response);\n\t\t  \t})\n\t\t  \t.catch(function (error) {\n\t\t    \tconsole.log(error);\n\t\t  \t});\n\t}\n\teditBlock(event){\n\t\tvar block_id = event.currentTarget.id;\n\t\t// console.log(\"block_id=\",block_id);\n\t\tthis.setState({block_id: block_id});\n\t}\n\tdeleteBlocks(event){\n\t\tlet urlParam=this.state.urlParam;\n\t\t// console.log(\"this.state.urlParam  \",urlParam);\n\t\tevent.preventDefault();\n\t\tvar URL= event.target.id;\n\t\t// console.log(\"delet id \",URL);\n\t\tvar deleteValues ={\n\t      \"pageBlocks_id\":URL\n\t\t\t}\n\t\tconsole.log(\"id delet\", this.state.urlParam, deleteValues);\n\t\t swal({\n\t          title: \"Are you sure you want to delete this Page ?\",\n\t          text: \"Once deleted, you will not be able to recover this Page!\",\n\t          icon: \"warning\",\n\t          buttons: true,\n\t          dangerMode: true,\n\t        })\n\t        .then((success) => {\n\t        \t// console.log(success);\n\t            if (success) {\n\t            \taxios\n\t\t\t\t    .patch('/api/pages/patch/blocks/remove/'+this.state.urlParam,deleteValues)\n\t\t\t\t    .then((response)=>{\n\t\t\t\t     \t// this.getListOfPages();\n\t\t\t\t       swal(\"Your Page is deleted!\");\n\t\t\t\t       window.location.reload();\n\t\t\t\t    })\n\t\t\t\t    .catch((error)=>{\n\t\t\t\t       console.log(\"error = \", error);              \n\t\t\t\t    });  \n\t            } else {\n\t            swal(\"Your Block is safe!\");\n\t          }\n\t        }); \n\t}\n\tonclickEvent(){\n\t\tthis.setState({\n\t      \t\t\tlistOfBlocks:true\n\t      \t\t});\n\t\t}\n\n   render() {\n    \t// var data = this.state.ListOfBlocks;\n    \tconsole.log(\"block id in render=\",this.state.pageData);\n    \tconst listBlock = this.state.pageData.pageBlocks;\n    \t// console.log(\"ListOfPages==>\",this.state.ListOfPages);\n    \t// console.log(\"data blocks in render\",data);\n        return (\n        \t\t<div>\t\n\t\t\t\t\t<div className=\"contentWrapper padd1520 content\">\n\t\t\t\t\t\t<div className=\"pageContent\">\n\t\t\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t<div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n\t\t\t\t\t\t\t\t\t<CircleMenuBars />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n\t\t\t\t\t\t\t\t\t{/*<Cmspage id={this.state.urlId}/>*/}\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tthis.state.pageData.pageBlocks && this.state.pageData.pageBlocks.length>0?\n\t\t\t\t\t\t\t\t\t\t\tthis.state.pageData.pageBlocks.map((result, index)=>{\n\n\t\t\t\t\t\t\t\t\t\t\tvar componentTemp = result.block_id.blockComponentName ? result.block_id.blockComponentName : 'Typecomponent1';\n\t\t\t\t\t\t\t\t\t\t\tconst NewPageComponent = React.lazy(() => import('../blockTemplate/'+componentTemp+'/'+componentTemp+'.js'));\n\t\t\t\t\t\t\t\t\t\t\t\tconsole.log(\"componentTemp=======in viewpage=\",componentTemp);\n\n\n\t\t\t\t\t\t\t\t\t\t\t\t//const NewPageComponent = loadable(() => import('../blockTemplate/'+componentTemp));\n\t\t\t\t\t\t\t\t\t\t\t\tvar Block_id=result.block_id._id;\n\t\t\t\t\t\t\t\t\t\t\t\tvar block_id=result._id;\n\t\t\t\t\t\t\t\t\t\t\t\t// console.log(\"componentTemp\",componentTemp);\n\t\t\t\t\t\t\t\t\t\t\t\treturn(\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Suspense fallback={<div>Loading...</div>} key={index}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i className=\"fa fa-trash deletbtnIcon pull-right\" id={block_id} onClick={this.deleteBlocks.bind(this)}></i>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i className=\"fa fa-pencil editIcon pull-right\" id={Block_id} onClick={this.editBlock.bind(this)} data-toggle=\"modal\" data-target=\"#editBlockFormM\"></i>\n\t\t\t\t\t\t\t\t\t\t\t    \t\t<NewPageComponent block_id={Block_id}/>\n\t\t\t\t\t\t\t\t\t\t\t    \t</Suspense>\n\t\t\t\t\t\t\t\t\t\t    \t);\n\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t\t\tnull\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t<button type=\"button\" className=\" col-lg-4 col-lg-offset-4 btn b1 success btn-lg\" onClick={() => this.onclickEvent()}>\n\t\t\t\t\t\t\t\t\t\tAdd new Block\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tthis.state.listOfBlocks === true ?\n\t\t\t\t\t\t\t\t\t\t<section>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-lg-12 col-md-12 col-xs-12 col-sm-12\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"noPadLR  selectBox col-lg-12 col-md-12 col-xs-12 col-sm-12\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-lg-12 col-md-12 col-xs-12 col-sm-12 noPadLR\">\n\t\t\t\t\t\t                \t\t\t\t\t<div className=\"panel panel-default bgcolorO\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t    <div className=\"panel-heading bgPanelHead\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t        <h4 className=\"panel-title\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t        <button className=\"btn btn-primary\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t         \t<a href=\"/viewpage1\">Back</a>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t        </button>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t        <button className=\"btn btn-primary pull-right\" id=\"cnBlock\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t        <a className=\"pull-right\" data-toggle=\"collapse\" data-parent=\"#accordion\" href=\"#collapse1\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t        + Create New Block</a>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t        </button>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t        </h4>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t    </div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t    <div id=\"collapse1\" className=\"panel-collapse collapse\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t      \t<div className=\"panel-body\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t      \t\t<CmsBlock/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t        </div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t    </div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{/*<div className=\"col-lg-12\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-lg-6\">\n                                                \t\t\t\t<label htmlFor=\"email\">Block Type<span className=\"redFont\">*</span></label>\n\t\t\t\t\t\t\t\t\t                \t\t\t\t<select name=\"cars\" className=\"col-lg-12\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t    \t\t<option>HomePage</option>\n                            \t\t\t  \t\t\t\t\t\t\t\t        <option>Blog</option>\n                            \t\t\t  \t\t\t\t\t\t\t\t        <option>About Us</option>\n                            \t\t\t  \t\t\t\t\t\t\t\t        <option>Services</option>\n                            \t\t\t  \t\t\t\t\t\t\t\t        <option>Contact Us</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-lg-6\">\n                                                \t\t\t\t<label htmlFor=\"email\">Block On Page<span className=\"redFont\">*</span></label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<select name=\"\" className=\"col-lg-12\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{ this.state.ListOfPages ?\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.state.ListOfPages.map((result, index)=>{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t    \t\t<option value=\"\" key={index}>{result.pageTitle}</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t    \t\t);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div> */ }\n\t\t\t\t\t\t                \t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t                \t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.state.ListOfBlocks && this.state.ListOfBlocks.length>0?\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.state.ListOfBlocks.map((result, index)=>{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tconsole.log(\"========result in viewpage 2=============\",result);\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/*\tvar component = result.blockComponentName ? result.blockComponentName : 'Block1Sample';\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tconst NewPageComponent = React.lazy(() => import('../blockComponent/'+component+'.js'));*/\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar component = result.blockComponentName ? result.blockComponentName : 'Typecomponent1';\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tconst NewPageComponent = React.lazy(() => import('../blockTemplate/'+component+'/'+component+'.js'));\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar block_id=result._id;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// console.log(\"block_id\",block_id);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn(\n\t\t\t\t\t\t\t\t\t\t\t\t                \t\t\t<div key={index} className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 selectDiv1 designList\">\n\t\t\t\t\t\t\t\t\t\t\t\t                \t\t\t\t<div className=\"checkbox\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t        <label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t        \t<input type=\"checkbox\" className=\"pull-right\" onChange={this.handleChange.bind(this)} data_id={block_id}/> Select Multiple Blocks\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t        </label>\n\t\t\t\t\t\t\t\t                            \t\t\t\t\t\t<button  type=\"submit\" className=\"col-lg-2 col-md-3 col-sm-6 col-xs-12 btn btn-primary pull-right AddBlockbtn\" onClick={this.addBlock.bind(this)} id={block_id} >Add Block</button>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t    </div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Suspense fallback={<div>Loading...</div>} key={index}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t    \t\t<NewPageComponent block_id={block_id}/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t    \t</Suspense>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t    </div>\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t    \t)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tnull\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"savetemp col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n\t\t\t\t\t\t\t\t\t                            <button  type=\"submit\" className=\"col-lg-3 col-md-3 col-sm-6 col-xs-12 btn btn-primary pull-right sendtxtmsgbtn AddBlockbtn\" onClick={() => this.submitData()} >Add Multiple Blocks</button>\n\t\t\t\t\t\t\t\t\t                        </div>\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div> \n\t\t\t\t\t\t\t\t\t\t       \t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</section>\t\n\t\t\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t\t\tnull\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t{/*<!-- Modal -->*/}\n\t\t\t\t\t<div id=\"editBlockFormM\" className=\"modal\" role=\"dialog\">\n\t\t\t\t\t \t<div className=\"modal-dialog modal-lg\">\n\t\t\t\t\t    {/*<!-- Modal content-->*/}\n\t\t\t\t\t    \t<div className=\"modal-content\">\n\t\t\t\t\t\t        <div className=\"modal-header\">\n\t\t\t\t\t\t\t        <button type=\"button\" className=\"close\" data-dismiss=\"modal\">&times;</button>\n\t\t\t\t\t\t\t        <h4 className=\"modal-title\">Edit Block</h4>\n\t\t\t\t\t\t      \t</div>\n\t\t\t\t\t\t     \t<div className=\"modal-body\">\n\t\t\t\t\t\t      \t\t{/*console.log(\"in modal\",this.state.block_id)*/}\n\t\t\t\t\t\t        \t<CmsBlock block_id={this.state.block_id}/>\n\t\t\t\t\t\t      \t</div>\n\t\t\t\t\t\t      \t<div className=\"modal-footer\">\n\t\t\t\t\t\t        \t<button type=\"button\" className=\"btn btn-default\" data-dismiss=\"modal\">Close</button>\n\t\t\t\t\t\t      \t</div>\n\t\t\t\t\t    \t</div>\n\t\t\t\t\t    </div>\n\t\t\t\t\t</div>\n\t\t\t\t</div> \n        );\n    }\n}\n\nexport default withRouter(Viewpage);"]},"metadata":{},"sourceType":"module"}