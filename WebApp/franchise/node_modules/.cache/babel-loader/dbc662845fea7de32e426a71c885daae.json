{"ast":null,"code":"var _jsxFileName = \"/home/iassureit/PriyaiAssureITWork/eCommTwo/WebApp/franchise/src/coreadmin/userManagement/UM/DeletedUsers.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport _ from 'underscore';\nimport swal from 'sweetalert';\nimport $ from 'jquery';\nimport moment from 'moment';\nimport CreateUser from './CreateUser.js';\nimport DeletedUsers from './DeletedUsers.js';\nimport Roles from '../Roles/Roles.js';\nimport IAssureTableUM from '../../IAssureTableUM/IAssureTable.jsx';\nimport UMDelRolRow from './UMDelRolRow.jsx';\nimport UMAddRolRow from './UMAddRolRow.jsx';\nimport UMSelectRoleUsers from './UMSelectRoleUsers.jsx';\nimport './userManagement.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport 'font-awesome/css/font-awesome.min.css';\nimport 'bootstrap/js/modal.js';\nimport DeletedusersTable from '../../IAssureTableUM/DeletedUsersTable.js';\nimport Loader from '../../common/Loader/Loader.js';\n\nclass UMListOfUsers extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      allPosts: [],\n      \"twoLevelHeader\": {\n        apply: false\n      },\n      \"tableHeading\": {\n        fullName: 'User Details',\n        companyDetails: 'Company Details',\n        status: 'Status',\n        roles: 'Role',\n        createdAt: 'Registered Since',\n        lastLogin: \"Last Login\",\n        deletedOn: \"Deleted On\",\n        deletedBy: \"Deleted By\",\n        actions: 'Action'\n      },\n      \"tableObjects\": {\n        paginationArray: true\n      },\n      \"startRange\": 0,\n      \"limitRange\": 10,\n      blockActive: \"all\",\n      \"listofRoles\": \"\",\n      adminRolesListData: [],\n      checkedUser: [],\n      activeswal: false,\n      blockswal: false,\n      confirmDel: false,\n      unCheckedUser: false\n    };\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  handleChange(event) {\n    event.preventDefault();\n    const target = event.target;\n    const name = target.name;\n  }\n\n  componentDidMount() {\n    const user_ID = localStorage.getItem(\"user_ID\");\n    var userDetails = localStorage.getItem('userDetails');\n    var userData = JSON.parse(userDetails);\n    console.log(\"userData = \", userData);\n    const companyID = parseInt(userData.companyID);\n    this.setState({\n      user_ID: user_ID,\n      companyID: companyID\n    }, () => {\n      var data = {\n        \"startRange\": this.state.startRange,\n        \"limitRange\": this.state.limitRange,\n        \"companyID\": this.state.companyID\n      };\n      this.getData();\n    });\n  }\n\n  getData() {\n    var data = {\n      \"startRange\": this.state.startRange,\n      \"limitRange\": this.state.limitRange,\n      \"companyID\": this.state.companyID\n    };\n    console.log(\"1 data before delete this.state.companyID=>\", data);\n\n    if (data.companyID > 0) {\n      $('.fullpageloader').hide();\n      axios.post('/api/users/post/deleteduser/list', data).then(res => {\n        console.log(\"res.data in getdata==>\", res.data);\n\n        if (res.data.message == \"COMPANYID_NOT_AVAILABLE\") {\n          swal({\n            title: '',\n            text: \"Company Id not found.\"\n          });\n        } else {\n          var tableData = res.data.filter((data, i) => {\n            return data.status !== 'active' && data.status !== 'blocked' && data.status !== 'deleted';\n          });\n          var tableData = tableData.map((a, i) => {\n            console.log('tableData A==>>>', a);\n            return {\n              _id: a._id,\n              fullName: '<div class=\"col-lg-12 col-md-12 col-sm-6 col-xs-6 pull-left\"><b>' + a.fullName + '</b>' + '<p><i class=\"fa fa-envelope\"></i> ' + a.email + '&nbsp   &nbsp <br /><i class=\"fs16 fa fa-mobile\"></i> ' + a.mobNumber + '</p>',\n              companyDetails: a.companyName + ' | ' + a.companyID,\n              status: a.status === \"active\" ? '<span class=\"label label-success statusLabel\">' + a.status + '</span>' : '<span class=\"label label-default statusLabel\">' + a.status + \"</span>\",\n              roles: a.role.map((b, j) => '  <span>' + b + ' </span>').toString(),\n              createdAt: moment(a.createdAt).format(\"DD MMM YY\") + '<br/>' + moment(a.createdAt).fromNow(true),\n              lastLogin: a.lastLogin !== \"-\" ? moment(a.lastLogin).format(\"DD-MMM-YY\") : \"-\",\n              deletedOn: a.statusupdatedAt !== \"-\" ? moment(a.statusupdatedAt).format(\"DD-MMM-YY\") : \"-\",\n              deletedBy: a.statusupdatedBy\n            };\n          });\n          this.setState({\n            completeDataCount: res.data.length,\n            tableData: tableData\n          });\n        }\n      }).catch(error => {});\n    } else {\n      $('.fullpageloader').show();\n    }\n  }\n\n  getSearchText(searchText, startRange, limitRange) {\n    var data = {\n      searchText: searchText,\n      startRange: startRange,\n      limitRange: limitRange\n    };\n    axios.post('/api/users/get/searchlist', data).then(res => {\n      var tableData = res.data.filter((data, i) => {\n        return data.status !== 'deleted-active' && data.status !== 'deleted-blocked' && data.status !== 'deleted';\n      });\n      var tableData = tableData.map((a, i) => {\n        return {\n          _id: a._id,\n          fullName: '<div class=\"col-lg-10 col-md-10 col-sm-6 col-xs-6 pull-left\"><b>' + a.fullName + '</b>' + '<p><i class=\"fa fa-envelope\"></i> ' + a.email + '&nbsp  | &nbsp <i class=\"fs16 fa fa-mobile\"></i> ' + a.mobNumber + '</p>',\n          companyDetails: a.companyName + ' | ' + a.companyID,\n          status: a.status === \"active\" ? '<span class=\"label label-success statusLabel\">' + a.status + '</span>' : '<span class=\"label label-default statusLabel\">' + a.status + \"</span>\",\n          roles: a.role.map((b, j) => '  <span>' + b + ' </span>').toString(),\n          createdAt: moment(a.createdAt).format(\"DD MMM YY\") + '<br/>' + moment(a.createdAt).fromNow(true),\n          lastLogin: a.lastLogin !== \"-\" ? moment(a.lastLogin).format(\"DD-MMM-YY\") : \"-\",\n          deletedon: a.statusupdatedAt !== \"-\" ? moment(a.statusupdatedAt).format(\"DD-MMM-YY\") : \"-\",\n          deletedby: a.statusupdatedBy\n        };\n      });\n      console.log('tableData', tableData);\n      this.setState({\n        completeDataCount: res.data.length,\n        tableData: tableData\n      });\n    }).catch(error => {});\n    this.setState({\n      tableData: []\n    });\n  }\n\n  render() {\n    var adminRolesListDataList = this.state.adminRolesListData;\n    console.log(\"companyIDcompanyID==>>>\", this.state.companyID);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container-fluid\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"formWrapper\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(\"section\", {\n      className: \"content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-xs-12 col-sm-12 pageContent \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 8\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-xs-12 col-sm-12 titleaddcontact\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 10\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-xs-12 col-sm-12 contactdeilsmg pageHeader\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 11\n      }\n    }, \"Deleted Users\"), /*#__PURE__*/React.createElement(\"hr\", {\n      className: \"hr-head container-fluid row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(\"form\", {\n      className: \"newTemplateForm\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 10\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(DeletedusersTable // completeDataCount={this.state.completeDataCount}\n    // twoLevelHeader={this.state.twoLevelHeader}\n    , {\n      getData: this.getData.bind(this),\n      companyID: this.state.companyID,\n      tableHeading: this.state.tableHeading,\n      tableData: this.state.tableData,\n      tableObjects: this.state.tableObjects // selectedUser={this.selectedUser.bind(this)}\n      // setunCheckedUser={this.setunCheckedUser.bind(this)}\n      // unCheckedUser={this.state.unCheckedUser}\n      // DeletedUsersTable = {true}\n      ,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 12\n      }\n    })))))))));\n  }\n\n}\n\nexport default UMListOfUsers; // import React, { Component }   from 'react';\n// import $                      from \"jquery\";\n// import jQuery                 from 'jquery';\n// import axios                  from 'axios';\n// import moment                 from 'moment';\n// // import IAssureTableUM            from '../../IAssureTableUM/IAssureTable.jsx';\n// import DeletedusersTable            from '../../IAssureTableUM/DeletedUsersTable.js';\n// import swal                   from 'sweetalert';\n// import 'font-awesome/css/font-awesome.min.css';\n// import 'bootstrap/js/modal.js';\n// import './userManagement.css';\n// class DeletedUsers extends Component {\n//   constructor(props) {\n//     super(props);\n//     this.state = {\n//       \"tableData\"         : props && props.tableData ? props.tableData : [],\n//       \"startRange\"        : 0,\n//       \"limitRange\"        : 10000,\n//       \"twoLevelHeader\"    : {\n//           apply           : false,\n//       },\n//       \"tableHeading\"     : {\n//         fullName        : 'User Details',\n//         roles           : 'Role',\n//         createdAt       : 'Registered Since',\n//         lastLogin       : \"Last Login\",\n//         deletedOn       : \"Deleted On\",\n//         deletedBy       : \"Deleted By\",\n//         actions         : 'Action',\n//       },\n//       \"tableObjects\"    : {\n//         paginationApply : false,\n//       },\n//       checkedUser  : [],\n//       activeswal : false,\n//       blockswal : false,\n//       confirmDel : false,\n//       unCheckedUser:false\n//     };\n//     this.handleChange = this.handleChange.bind(this);\n//   }\n//   handleChange(event) {\n//     const datatype = event.target.getAttribute('data-text');\n//     const { name, value } = event.target;\n//     this.setState({\n//       [name]: value\n//     });\n//   }\n//   componentDidMount() {\n//     var data = {\n//       \"startRange\"        : parseInt(this.state.startRange),\n//       \"limitRange\"        : parseInt(this.state.limitRange),\n//       \"companyID\"         : parseInt(this.props.companyID)\n//     }   \n//     this.props.getuserData(this.state.startRange, this.state.limitRange)\n//     this.getData(data);\n//     this.setState({\n//       tableData     : this.props.tableData ,         \n//     })\n//   }\n//   componentWillReceiveProps(nextprops) {\n//     var data = {\n//       \"startRange\"        : parseInt(this.state.startRange),\n//       \"limitRange\"        : parseInt(this.state.limitRange),\n//       \"companyID\"         : parseInt(this.props.companyID)\n//     }\n//     this.getData(data);\n//     this.setState({\n//       tableData     : nextprops.tableData ,         \n//     })\n//   }\n//   getData(startRange, limitRange){   \n//     var data = {\n//       \"startRange\"        : parseInt(startRange),\n//       \"limitRange\"        : parseInt(limitRange),\n//       \"companyID\"         : parseInt(this.props.companyID)\n//     }   \n//     axios.post('/api/users/post/list', data)\n//       .then( (res)=>{\n//         var statusArr = ['deleted-active','deleted-blocked'];\n//                 var tableData=res.data.filter((data,i)=>{\n//                     if(statusArr.includes(data.status))\n//                         return data\n//                 });\n//           console.log('deleteres',tableData);\n//         var tableData = tableData.map((a, i)=>{\n//           return {\n//             _id             : a._id,\n//             fullName: '<div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-6 pull-left\"><b>'+a.fullName + '</b></div><div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-6 pull-right\"><medium>' + a.companyName + ' | ' + a.companyID + '</medium></div>' + \n// \t\t\t\t\t\t\t\t      '<p><i class=\"fa fa-envelope\"></i> ' + a.email + '&nbsp  | &nbsp <i class=\"fs16 fa fa-mobile\"></i> ' + a.mobNumber+'</p>',\n//             roles           : a.role.map((b,j)=> '  <span>'+b+' </span>').toString(),\n//             createdAt       : moment(a.createdAt).format(\"DD-MMM-YY LT\"),\n//             lastLogin       : a.lastLogin !==\"-\" ? moment(a.lastLogin).format(\"DD-MMM-YY LT\") : \"-\",\n//             deletedOn       : a.statusupdatedAt !==\"-\" ? moment(a.statusupdatedAt).format(\"DD-MMM-YY LT\") : \"-\",\n//             deletedBy       : a.statusupdatedBy,\n//           }\n//         })\n//         this.setState({\n//           completeDataCount : res.data.length,\n//           tableData     : tableData,         \n//         })\n//     })\n//     .catch((error)=>{});\n//   }\n//   setunCheckedUser(value){\n//     this.setState({\n//       unCheckedUser : value,\n//     })\n//   }\n//   selectedUser(checkedUsersList){\n//     this.setState({\n//       checkedUser : checkedUsersList,\n//     },()=>{\n//       console.log('checkedUser',this.state.checkedUser);\n//     })\n//   }\n//   close(event){\n//     this.setState({\n//       firstname: \"\",\n//       lastname: \"\",\n//       signupEmail: \"\",\n//       mobile: \"\",\n//       role: \"\",\n//     });\n//     var modal = document.getElementById(\"DeletedUsersModal\");\n//     modal.style.display = \"none\";\n//     $('.modal-backdrop').remove();\n//     $(\"#userInfo\").validate().resetForm();\n//   }\n//   render() {\n//     return (\n//       <div className=\"modal\" id=\"DeletedUsersModal\" role=\"dialog\">\n//         <div className=\"adminModal adminModal-dialog col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n//           <div className=\"modal-content adminModal-content col-lg-10 col-lg-offset-1 col-md-6 col-md-offset-3 col-sm-10 col-sm-offset-1 col-xs-12 noPadding\">\n//             <div className=\"modal-header adminModal-header col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n//                 <button type=\"button\" onClick={this.close.bind(this)} className=\"close \" data-dismiss=\"modal\" aria-label=\"Close\">\n//                 <span aria-hidden=\"true\">&times;</span>\n//               </button>\n//               <h4 className=\"modal-title row deleteTitle\" id=\"exampleModalLabel\">Deleted Users</h4>\n//             </div>\n//             <div className=\"modal-body adminModal-body col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n//               <DeletedusersTable\n//                 // completeDataCount={this.state.completeDataCount}\n//                 // twoLevelHeader={this.state.twoLevelHeader}\n//                 getData={this.getData.bind(this)}\n//                 companyID = {this.props.companyID}\n//                 tableHeading={this.state.tableHeading}\n//                 tableData={this.state.tableData}\n//                 // tableObjects={this.state.tableObjects}\n//                 // selectedUser={this.selectedUser.bind(this)}\n//                 // setunCheckedUser={this.setunCheckedUser.bind(this)}\n//                 // unCheckedUser={this.state.unCheckedUser}\n//                 // DeletedUsersTable = {true}\n//               />     \n//             </div>\n//           </div>\n//         </div>\n//       </div>\n//     );\n//   }\n// }\n// export default DeletedUsers;","map":{"version":3,"sources":["/home/iassureit/PriyaiAssureITWork/eCommTwo/WebApp/franchise/src/coreadmin/userManagement/UM/DeletedUsers.js"],"names":["React","Component","axios","_","swal","$","moment","CreateUser","DeletedUsers","Roles","IAssureTableUM","UMDelRolRow","UMAddRolRow","UMSelectRoleUsers","DeletedusersTable","Loader","UMListOfUsers","constructor","props","state","allPosts","apply","fullName","companyDetails","status","roles","createdAt","lastLogin","deletedOn","deletedBy","actions","paginationArray","blockActive","adminRolesListData","checkedUser","activeswal","blockswal","confirmDel","unCheckedUser","handleChange","bind","event","preventDefault","target","name","componentDidMount","user_ID","localStorage","getItem","userDetails","userData","JSON","parse","console","log","companyID","parseInt","setState","data","startRange","limitRange","getData","hide","post","then","res","message","title","text","tableData","filter","i","map","a","_id","email","mobNumber","companyName","role","b","j","toString","format","fromNow","statusupdatedAt","statusupdatedBy","completeDataCount","length","catch","error","show","getSearchText","searchText","deletedon","deletedby","render","adminRolesListDataList","tableHeading","tableObjects"],"mappings":"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L,CAAW8E,YAL1B;AAMC,MAAA,SAAS,EAAE,KAAK9E,KAAL,CAAWkD,SANvB;AAOC,MAAA,YAAY,EAAE,KAAKlD,KAAL,CAAW+E,YAP1B,CAQA;AACA;AACA;AACA;AAXA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADD,CADD,CAPD,CADD,CADD,CADD,CADD,CADD,CADD;AAsCA;;AA9LoC;;AAiMtC,eAAelF,aAAf,C,CAaA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios';\nimport _ from 'underscore';\nimport swal from 'sweetalert';\nimport $ from 'jquery';\nimport moment from 'moment';\nimport CreateUser from './CreateUser.js';\nimport DeletedUsers from './DeletedUsers.js';\nimport Roles from '../Roles/Roles.js';\nimport IAssureTableUM from '../../IAssureTableUM/IAssureTable.jsx';\nimport UMDelRolRow from './UMDelRolRow.jsx';\nimport UMAddRolRow from './UMAddRolRow.jsx';\nimport UMSelectRoleUsers from './UMSelectRoleUsers.jsx';\nimport './userManagement.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport 'font-awesome/css/font-awesome.min.css';\nimport 'bootstrap/js/modal.js';\nimport DeletedusersTable from '../../IAssureTableUM/DeletedUsersTable.js';\nimport Loader from '../../common/Loader/Loader.js';\nclass UMListOfUsers extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tallPosts: [],\n\t\t\t\"twoLevelHeader\": {\n\t\t\t\tapply: false,\n\t\t\t},\n\t\t\t\"tableHeading\": {\n\t\t\t\tfullName: 'User Details',\n\t\t\t\tcompanyDetails: 'Company Details',\n\t\t\t\tstatus: 'Status',\n\n\t\t\t\troles: 'Role',\n\t\t\t\tcreatedAt: 'Registered Since',\n\t\t\t\tlastLogin: \"Last Login\",\n\t\t\t\tdeletedOn: \"Deleted On\",\n\t\t\t\tdeletedBy: \"Deleted By\",\n\t\t\t\tactions: 'Action',\n\t\t\t},\n\t\t\t\"tableObjects\": {\n\t\t\t\tpaginationArray: true\n\t\t\t},\n\t\t\t\"startRange\": 0,\n\t\t\t\"limitRange\": 10,\n\t\t\tblockActive: \"all\",\n\t\t\t\"listofRoles\": \"\",\n\t\t\tadminRolesListData: [],\n\t\t\tcheckedUser: [],\n\t\t\tactiveswal: false,\n\t\t\tblockswal: false,\n\t\t\tconfirmDel: false,\n\t\t\tunCheckedUser: false\n\t\t}\n\t\tthis.handleChange = this.handleChange.bind(this);\n\n\t}\n\thandleChange(event) {\n\t\tevent.preventDefault();\n\t\tconst target = event.target;\n\t\tconst name = target.name;\n\t}\n\tcomponentDidMount() {\n\t\tconst user_ID = localStorage.getItem(\"user_ID\");\n\t\tvar userDetails = (localStorage.getItem('userDetails'));\n\t\tvar userData = JSON.parse(userDetails);\n\t\tconsole.log(\"userData = \", userData);\n\t\tconst companyID = parseInt(userData.companyID);\n\t\tthis.setState({\n\t\t\tuser_ID: user_ID,\n\t\t\tcompanyID: companyID\n\t\t}, () => {\n\t\t\tvar data = {\n\t\t\t\t\"startRange\": this.state.startRange,\n\t\t\t\t\"limitRange\": this.state.limitRange,\n\t\t\t\t\"companyID\": this.state.companyID\n\t\t\t}\n\t\t\tthis.getData();\n\n\t\t})\n\n\t}\n\n\tgetData() {\n\t\tvar data = {\n\t\t\t\"startRange\": this.state.startRange,\n\t\t\t\"limitRange\": this.state.limitRange,\n\t\t\t\"companyID\": this.state.companyID\n\t\t}\n\t\tconsole.log(\"1 data before delete this.state.companyID=>\", data)\n\t\tif (data.companyID > 0) {\n\t\t\t$('.fullpageloader').hide()\n\t\t\taxios.post('/api/users/post/deleteduser/list', data)\n\t\t\t\t.then((res) => {\n\t\t\t\t\tconsole.log(\"res.data in getdata==>\", res.data);\n\t\t\t\t\tif (res.data.message == \"COMPANYID_NOT_AVAILABLE\") {\n\t\t\t\t\t\tswal({\n\t\t\t\t\t\t\ttitle: '',\n\t\t\t\t\t\t\ttext: \"Company Id not found.\",\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvar tableData = res.data.filter((data, i) => {\n\t\t\t\t\t\t\treturn (data.status !== 'active' && data.status !== 'blocked' && data.status !== 'deleted');\n\t\t\t\t\t\t});\n\t\t\t\t\t\tvar tableData = tableData.map((a, i) => {\n\t\t\t\t\t\t\tconsole.log('tableData A==>>>', a);\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t_id: a._id,\n\t\t\t\t\t\t\t\tfullName: '<div class=\"col-lg-12 col-md-12 col-sm-6 col-xs-6 pull-left\"><b>' + a.fullName + '</b>' +\n\t\t\t\t\t\t\t\t\t\t\t'<p><i class=\"fa fa-envelope\"></i> ' + a.email + '&nbsp   &nbsp <br /><i class=\"fs16 fa fa-mobile\"></i> ' + a.mobNumber + '</p>',\n\t\t\t\t\t\t\t\tcompanyDetails: a.companyName + ' | ' + a.companyID,\n\t\t\t\t\t\t\t\tstatus: a.status === \"active\" ? '<span class=\"label label-success statusLabel\">' + a.status + '</span>' : '<span class=\"label label-default statusLabel\">' + a.status + \"</span>\",\n\t\t\t\t\t\t\t\troles: a.role.map((b, j) => '  <span>' + b + ' </span>').toString(),\n\t\t\t\t\t\t\t\tcreatedAt: moment(a.createdAt).format(\"DD MMM YY\") + '<br/>' + moment(a.createdAt).fromNow(true),\n\t\t\t\t\t\t\t\tlastLogin: a.lastLogin !== \"-\" ? moment(a.lastLogin).format(\"DD-MMM-YY\") : \"-\",\n\t\t\t\t\t\t\t\tdeletedOn: a.statusupdatedAt !== \"-\" ? moment(a.statusupdatedAt).format(\"DD-MMM-YY\") : \"-\",\n\t\t\t\t\t\t\t\tdeletedBy: a.statusupdatedBy\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\tcompleteDataCount: res.data.length,\n\t\t\t\t\t\t\ttableData: tableData,\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t});\n\t\t} else {\n\t\t\t$('.fullpageloader').show();\n\t\t}\n\t}\n\tgetSearchText(searchText, startRange, limitRange) {\n\t\tvar data = {\n\t\t\tsearchText: searchText,\n\t\t\tstartRange: startRange,\n\t\t\tlimitRange: limitRange\n\t\t}\n\t\taxios.post('/api/users/get/searchlist', data)\n\t\t\t.then((res) => {\n\t\t\t\tvar tableData = res.data.filter((data, i) => {\n\t\t\t\t\treturn (data.status !== 'deleted-active' && data.status !== 'deleted-blocked' && data.status !== 'deleted');\n\t\t\t\t});\n\t\t\t\tvar tableData = tableData.map((a, i) => {\n\t\t\t\t\treturn {\n\t\t\t\t\t\t_id: a._id,\n\t\t\t\t\t\tfullName: '<div class=\"col-lg-10 col-md-10 col-sm-6 col-xs-6 pull-left\"><b>' + a.fullName + '</b>' +\n\t\t\t\t\t\t\t'<p><i class=\"fa fa-envelope\"></i> ' + a.email + '&nbsp  | &nbsp <i class=\"fs16 fa fa-mobile\"></i> ' + a.mobNumber + '</p>',\n\t\t\t\t\t\tcompanyDetails: a.companyName + ' | ' + a.companyID,\n\t\t\t\t\t\tstatus: a.status === \"active\" ? '<span class=\"label label-success statusLabel\">' + a.status + '</span>' : '<span class=\"label label-default statusLabel\">' + a.status + \"</span>\",\n\t\t\t\t\t\troles: a.role.map((b, j) => '  <span>' + b + ' </span>').toString(),\n\t\t\t\t\t\tcreatedAt: moment(a.createdAt).format(\"DD MMM YY\") + '<br/>' + moment(a.createdAt).fromNow(true),\n\t\t\t\t\t\tlastLogin: a.lastLogin !== \"-\" ? moment(a.lastLogin).format(\"DD-MMM-YY\") : \"-\",\n\t\t\t\t\t\tdeletedon: a.statusupdatedAt !== \"-\" ? moment(a.statusupdatedAt).format(\"DD-MMM-YY\") : \"-\",\n\t\t\t\t\t\tdeletedby: a.statusupdatedBy,\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\tconsole.log('tableData', tableData);\n\t\t\t\tthis.setState({\n\t\t\t\t\tcompleteDataCount: res.data.length,\n\t\t\t\t\ttableData: tableData,\n\t\t\t\t})\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t})\n\t\tthis.setState({\n\t\t\ttableData: []\n\t\t});\n\t}\n\n\trender() {\n\t\tvar adminRolesListDataList = this.state.adminRolesListData;\n\t\tconsole.log(\"companyIDcompanyID==>>>\",this.state.companyID)\n\t\treturn (\n\t\t\t<div className=\"container-fluid\">\n\t\t\t\t<div className=\"row\">\n\t\t\t\t\t<div className=\"formWrapper\">\n\t\t\t\t\t\t<section className=\"content\">\n\t\t\t\t\t\t\t<div className=\"col-lg-12 col-md-12 col-xs-12 col-sm-12 pageContent \">\n\t\t\t\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t\t\t\t<div className=\"col-lg-12 col-md-12 col-xs-12 col-sm-12 titleaddcontact\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-lg-12 col-md-12 col-xs-12 col-sm-12 contactdeilsmg pageHeader\">\n\t\t\t\t\t\t\t\t\t\t\tDeleted Users\n                \t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<hr className=\"hr-head container-fluid row\" />\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<form className=\"newTemplateForm\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n\t\t\t\t\t\t\t\t\t\t\t<DeletedusersTable\n\t\t\t\t\t\t\t\t\t\t\t\t// completeDataCount={this.state.completeDataCount}\n\t\t\t\t\t\t\t\t\t\t\t\t// twoLevelHeader={this.state.twoLevelHeader}\n\t\t\t\t\t\t\t\t\t\t\t\tgetData={this.getData.bind(this)}\n\t\t\t\t\t\t\t\t\t\t\t\tcompanyID={this.state.companyID}\n\t\t\t\t\t\t\t\t\t\t\t\ttableHeading={this.state.tableHeading}\n\t\t\t\t\t\t\t\t\t\t\t\ttableData={this.state.tableData}\n\t\t\t\t\t\t\t\t\t\t\t\ttableObjects={this.state.tableObjects}\n\t\t\t\t\t\t\t\t\t\t\t// selectedUser={this.selectedUser.bind(this)}\n\t\t\t\t\t\t\t\t\t\t\t// setunCheckedUser={this.setunCheckedUser.bind(this)}\n\t\t\t\t\t\t\t\t\t\t\t// unCheckedUser={this.state.unCheckedUser}\n\t\t\t\t\t\t\t\t\t\t\t// DeletedUsersTable = {true}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</section>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t);\n\t}\n\n}\nexport default UMListOfUsers;\n\n\n\n\n\n\n\n\n\n\n\n\n// import React, { Component }   from 'react';\n// import $                      from \"jquery\";\n// import jQuery                 from 'jquery';\n// import axios                  from 'axios';\n// import moment                 from 'moment';\n// // import IAssureTableUM            from '../../IAssureTableUM/IAssureTable.jsx';\n// import DeletedusersTable            from '../../IAssureTableUM/DeletedUsersTable.js';\n// import swal                   from 'sweetalert';\n// import 'font-awesome/css/font-awesome.min.css';\n// import 'bootstrap/js/modal.js';\n// import './userManagement.css';\n\n// class DeletedUsers extends Component {\n\n\n//   constructor(props) {\n//     super(props);\n//     this.state = {\n//       \"tableData\"         : props && props.tableData ? props.tableData : [],\n//       \"startRange\"        : 0,\n//       \"limitRange\"        : 10000,\n//       \"twoLevelHeader\"    : {\n//           apply           : false,\n//       },\n//       \"tableHeading\"     : {\n//         fullName        : 'User Details',\n//         roles           : 'Role',\n//         createdAt       : 'Registered Since',\n//         lastLogin       : \"Last Login\",\n//         deletedOn       : \"Deleted On\",\n//         deletedBy       : \"Deleted By\",\n//         actions         : 'Action',\n//       },\n//       \"tableObjects\"    : {\n//         paginationApply : false,\n//       },\n//       checkedUser  : [],\n//       activeswal : false,\n//       blockswal : false,\n//       confirmDel : false,\n//       unCheckedUser:false\n//     };\n//     this.handleChange = this.handleChange.bind(this);\n//   }\n\n//   handleChange(event) {\n//     const datatype = event.target.getAttribute('data-text');\n//     const { name, value } = event.target;\n//     this.setState({\n//       [name]: value\n//     });\n//   }\n//   componentDidMount() {\n//     var data = {\n//       \"startRange\"        : parseInt(this.state.startRange),\n//       \"limitRange\"        : parseInt(this.state.limitRange),\n//       \"companyID\"         : parseInt(this.props.companyID)\n//     }   \n//     this.props.getuserData(this.state.startRange, this.state.limitRange)\n//     this.getData(data);\n//     this.setState({\n//       tableData     : this.props.tableData ,         \n//     })\n//   }\n//   componentWillReceiveProps(nextprops) {\n//     var data = {\n//       \"startRange\"        : parseInt(this.state.startRange),\n//       \"limitRange\"        : parseInt(this.state.limitRange),\n//       \"companyID\"         : parseInt(this.props.companyID)\n//     }\n//     this.getData(data);\n//     this.setState({\n//       tableData     : nextprops.tableData ,         \n//     })\n//   }\n//   getData(startRange, limitRange){   \n//     var data = {\n//       \"startRange\"        : parseInt(startRange),\n//       \"limitRange\"        : parseInt(limitRange),\n//       \"companyID\"         : parseInt(this.props.companyID)\n//     }   \n//     axios.post('/api/users/post/list', data)\n//       .then( (res)=>{\n//         var statusArr = ['deleted-active','deleted-blocked'];\n//                 var tableData=res.data.filter((data,i)=>{\n//                     if(statusArr.includes(data.status))\n//                         return data\n//                 });\n//           console.log('deleteres',tableData);\n//         var tableData = tableData.map((a, i)=>{\n//           return {\n//             _id             : a._id,\n//             fullName: '<div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-6 pull-left\"><b>'+a.fullName + '</b></div><div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-6 pull-right\"><medium>' + a.companyName + ' | ' + a.companyID + '</medium></div>' + \n// \t\t\t\t\t\t\t\t      '<p><i class=\"fa fa-envelope\"></i> ' + a.email + '&nbsp  | &nbsp <i class=\"fs16 fa fa-mobile\"></i> ' + a.mobNumber+'</p>',\n//             roles           : a.role.map((b,j)=> '  <span>'+b+' </span>').toString(),\n//             createdAt       : moment(a.createdAt).format(\"DD-MMM-YY LT\"),\n//             lastLogin       : a.lastLogin !==\"-\" ? moment(a.lastLogin).format(\"DD-MMM-YY LT\") : \"-\",\n//             deletedOn       : a.statusupdatedAt !==\"-\" ? moment(a.statusupdatedAt).format(\"DD-MMM-YY LT\") : \"-\",\n//             deletedBy       : a.statusupdatedBy,\n//           }\n//         })\n//         this.setState({\n//           completeDataCount : res.data.length,\n//           tableData     : tableData,         \n//         })\n//     })\n//     .catch((error)=>{});\n//   }\n\n//   setunCheckedUser(value){\n//     this.setState({\n//       unCheckedUser : value,\n//     })\n//   }\n//   selectedUser(checkedUsersList){\n//     this.setState({\n//       checkedUser : checkedUsersList,\n//     },()=>{\n//       console.log('checkedUser',this.state.checkedUser);\n//     })\n//   }\n//   close(event){\n//     this.setState({\n//       firstname: \"\",\n//       lastname: \"\",\n//       signupEmail: \"\",\n//       mobile: \"\",\n//       role: \"\",\n//     });\n//     var modal = document.getElementById(\"DeletedUsersModal\");\n//     modal.style.display = \"none\";\n\n//     $('.modal-backdrop').remove();\n//     $(\"#userInfo\").validate().resetForm();\n//   }\n//   render() {\n//     return (\n//       <div className=\"modal\" id=\"DeletedUsersModal\" role=\"dialog\">\n//         <div className=\"adminModal adminModal-dialog col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n//           <div className=\"modal-content adminModal-content col-lg-10 col-lg-offset-1 col-md-6 col-md-offset-3 col-sm-10 col-sm-offset-1 col-xs-12 noPadding\">\n//             <div className=\"modal-header adminModal-header col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n//                 <button type=\"button\" onClick={this.close.bind(this)} className=\"close \" data-dismiss=\"modal\" aria-label=\"Close\">\n//                 <span aria-hidden=\"true\">&times;</span>\n//               </button>\n//               <h4 className=\"modal-title row deleteTitle\" id=\"exampleModalLabel\">Deleted Users</h4>\n//             </div>\n//             <div className=\"modal-body adminModal-body col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n//               <DeletedusersTable\n//                 // completeDataCount={this.state.completeDataCount}\n//                 // twoLevelHeader={this.state.twoLevelHeader}\n//                 getData={this.getData.bind(this)}\n//                 companyID = {this.props.companyID}\n//                 tableHeading={this.state.tableHeading}\n//                 tableData={this.state.tableData}\n//                 // tableObjects={this.state.tableObjects}\n//                 // selectedUser={this.selectedUser.bind(this)}\n//                 // setunCheckedUser={this.setunCheckedUser.bind(this)}\n//                 // unCheckedUser={this.state.unCheckedUser}\n//                 // DeletedUsersTable = {true}\n//               />     \n//             </div>\n//           </div>\n//         </div>\n//       </div>\n//     );\n//   }\n// }\n\n// export default DeletedUsers;\n"]},"metadata":{},"sourceType":"module"}