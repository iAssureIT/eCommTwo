{"ast":null,"code":"var _jsxFileName = \"/home/iassureit/PriyaiAssureITWork/eCommTwo/WebApp/franchise/src/storeAdmin/TaxRate/TaxRate.js\";\nimport React, { Component } from 'react';\nimport $ from 'jquery';\nimport jQuery from 'jquery';\nimport axios from 'axios';\nimport swal from 'sweetalert';\nimport IAssureTable from '../../coreadmin/IAssureTable/IAssureTable.jsx'; // import _                      from 'underscore';\n\nimport moment from 'moment';\nimport 'bootstrap/js/tab.js';\nvar newDate = new Date();\n\nclass TaxRate extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      taxName: \"\",\n      \"tableHeading\": {\n        taxName: \"Tax Name\",\n        taxRate: \"Tax Rate\",\n        effectiveFrom: \"Effective From\",\n        effectiveTo: \"Effective To\",\n        actions: 'Action'\n      },\n      \"tableObjects\": {\n        deleteMethod: 'delete',\n        apiLink: '/api/preference/deleterate',\n        paginationApply: false,\n        searchApply: false,\n        editUrl: '/taxrate'\n      },\n      \"startRange\": 0,\n      \"limitRange\": 10,\n      \"effectiveFrom\": moment(newDate).format('YYYY-MM-DD'),\n      \"editId\": this.props.match.params ? this.props.match.params.id : ''\n    };\n  }\n\n  componentDidMount() {\n    // this.getTaxData();\n    var editId = this.props.match.params.id; // console.log(\"split = \",editId.split(\".\")[1]);\n\n    this.getData(this.state.startRange, this.state.limitRange);\n    this.getTaxData();\n\n    if (this.props.match.params.id) {\n      this.edit(editId.split(\".\")[1]);\n    }\n\n    window.scrollTo(0, 0);\n    $.validator.addMethod(\"regxA1\", function (value, element, regexpr) {\n      return regexpr.test(value);\n    }, \"Tax rate should only contain positive number.\");\n    jQuery.validator.setDefaults({\n      debug: true,\n      success: \"valid\"\n    });\n    $(\"#taxRateMaster\").validate({\n      rules: {\n        taxRate: {\n          required: true,\n          regxA1: /^[0-9 ][0-9]*$/\n        },\n        effectiveFrom: {\n          required: true\n        },\n        effectiveTo: {\n          required: true\n        }\n      },\n      errorPlacement: function (error, element) {\n        if (element.attr(\"name\") === \"taxRate\") {\n          error.insertAfter(\"#taxRate\");\n        }\n\n        if (element.attr(\"name\") === \"effectiveFrom\") {\n          error.insertAfter(\"#effectiveFrom\");\n        }\n\n        if (element.attr(\"name\") === \"effectiveTo\") {\n          error.insertAfter(\"#effectiveTo\");\n        }\n      }\n    });\n  }\n\n  componentWillReceiveProps(nextProps) {\n    this.getTaxData();\n    var editId = nextProps.match.params.id;\n\n    if (nextProps.match.params.id) {\n      this.setState({\n        editId: editId\n      });\n      this.edit(editId.split(\".\")[1]);\n    }\n  }\n\n  handleChange(event) {\n    event.preventDefault();\n    const target = event.target;\n    const name = target.name;\n    this.setState({\n      [name]: event.target.value\n    });\n  }\n\n  submit(event) {\n    event.preventDefault();\n    var formValues = {\n      \"preferenceID\": this.state.taxData && this.state.taxData.length > 0 ? this.state.taxData[0]._id : 'Tax',\n      \"taxDetails\": {\n        \"taxRate\": this.state.taxRate,\n        \"effectiveFrom\": this.state.effectiveFrom,\n        \"effectiveTo\": this.state.effectiveTo\n      }\n    }; // console.log('formValues', formValues);\n\n    if ($(\"#taxRateMaster\").valid()) {\n      axios.patch('/api/preference/postrate', formValues).then(response => {\n        this.getData(this.state.startRange, this.state.limitRange);\n        swal(response.data.message);\n        this.setState({\n          taxName: \"\",\n          taxRate: \"\",\n          effectiveFrom: moment(newDate).format('YYYY-MM-DD'),\n          effectiveTo: \"\"\n        });\n      }).catch(error => {\n        console.log('error', error);\n      });\n    }\n  }\n\n  update(event) {\n    event.preventDefault();\n    var formValues = {\n      \"preferenceID\": this.state.editId.split(\".\")[0],\n      \"taxRateID\": this.state.editId.split(\".\")[1],\n      \"taxRate\": this.state.taxRate,\n      \"effectiveFrom\": this.state.effectiveFrom,\n      \"effectiveTo\": this.state.effectiveTo\n    };\n    console.log(\"Update Formvalues = \", formValues);\n\n    if ($(\"#taxRateMaster\").valid()) {\n      axios.patch('/api/preference/patchrate', formValues).then(response => {\n        this.props.history.push('/taxrate');\n        swal(response.data.message);\n        this.getData(this.state.startRange, this.state.limitRange);\n        this.setState({\n          editId: \"\",\n          taxName: \"\",\n          taxRate: \"\",\n          effectiveFrom: moment(newDate).format('YYYY-MM-DD'),\n          effectiveTo: \"\"\n        });\n      }).catch(error => {\n        console.log('error', error);\n      });\n    }\n  }\n\n  getDataCount() {\n    axios.get('/api/preference/get/list').then(response => {\n      this.setState({\n        dataCount: response.data[0].taxDetails.length\n      });\n    }).catch(error => {\n      console.log('error', error);\n    });\n  }\n\n  getData(startRange, limitRange) {\n    var data = {\n      startRange: startRange,\n      limitRange: limitRange\n    };\n    axios.patch('/api/preference/get/list', data).then(response => {\n      this.getDataCount();\n      var taxName = response.data[0].taxName;\n      var id = response.data[0]._id;\n      var tableData = response.data[0].taxDetails.map((a, i) => {\n        return {\n          _id: id + \".\" + a._id,\n          taxName: taxName,\n          taxRate: a.taxRate.toString(),\n          effectiveFrom: a.effectiveFrom ? moment(a.effectiveFrom).format('DD-MMM-YYYY') : \"-\",\n          effectiveTo: a.effectiveTo ? moment(a.effectiveTo).format('DD-MMM-YYYY') : \"-\"\n        };\n      }); // console.log('table', tableData);\n\n      this.setState({\n        tableData: tableData\n      });\n    }).catch(error => {\n      console.log('error', error);\n    });\n  }\n\n  getTaxData() {\n    axios.get('/api/preference/get/list').then(response => {\n      this.setState({\n        taxData: response.data\n      });\n    }).catch(error => {\n      console.log('error', error);\n    });\n  }\n\n  edit(id) {\n    $(\"#taxRateMaster\").validate().resetForm();\n    axios.get('/api/preference/get/onerate/' + id).then(response => {\n      console.log('edit response = ', response.data);\n      var editData = response.data.taxDetails.filter(a => a._id === this.props.match.params.id.split(\".\")[1]);\n      console.log(\"editData = \", editData);\n      this.setState({\n        \"taxName\": response.data.taxName,\n        \"taxRate\": editData[0].taxRate,\n        \"effectiveFrom\": moment(editData[0].effectiveFrom).format(\"YYYY-MM-DD\"),\n        \"effectiveTo\": moment(editData[0].effectiveTo).format(\"YYYY-MM-DD\")\n      }); // moment(selectedDate1).subtract(1, \"days\").format(\"YYYY-MM-DD\")\n    }).catch(error => {\n      console.log('error', error);\n    });\n  }\n\n  render() {\n    var minEffectiveTo = moment(this.state.effectiveFrom).add(1, \"days\").format('YYYY-MM-DD'); // console.log(minEffectiveTo);\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container-fluid col-lg-12 col-md-12 col-xs-12 col-sm-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"section\", {\n      className: \"content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-xs-12 col-sm-12 pageContent\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-xs-12 col-sm-12 paddingZeroo\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"box-header with-border col-lg-12 col-md-12 col-xs-12 col-sm-12 NOpadding-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      className: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 45\n      }\n    }, \"Tax Rate Master\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 45\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 45\n      }\n    }), /*#__PURE__*/React.createElement(\"form\", {\n      className: \"col-lg-10 col-lg-offset-1 col-md-10 col-md-offset-1 col-sm-12 col-xs-12\",\n      id: \"taxRateMaster\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group col-lg-3 col-md-3 col-sm-12 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 NOpadding-left\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 49\n      }\n    }, \"Tax Name \", /*#__PURE__*/React.createElement(\"i\", {\n      className: \"astrick\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 132\n      }\n    }, \"*\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-control col-lg-12 col-md-12 col-sm-12 col-xs-12 textAlignLeft\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 53\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 NOpadding-left\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 57\n      }\n    }, this.state.taxData && this.state.taxData.length > 0 ? this.state.taxData[0].taxName : 'Tax'))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group col-lg-3 col-md-3 col-sm-12 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 NOpadding-left\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 53\n      }\n    }, \"Tax Rate (%) \", /*#__PURE__*/React.createElement(\"i\", {\n      className: \"astrick\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 140\n      }\n    }, \"*\")), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"number\",\n      min: \"1\",\n      max: \"99\",\n      id: \"taxRate\",\n      className: \"form-control col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      value: this.state.taxRate,\n      ref: \"taxRate\",\n      name: \"taxRate\",\n      onChange: this.handleChange.bind(this),\n      placeholder: \"Enter tax rate..\",\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 53\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group col-lg-3 col-md-3 col-sm-12 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 NOpadding-left\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 53\n      }\n    }, \"Effective From\", /*#__PURE__*/React.createElement(\"i\", {\n      className: \"astrick\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 141\n      }\n    }, \"*\")), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"date\",\n      id: \"effectiveFrom\",\n      min: moment().format('YYYY-MM-DD'),\n      className: \"form-control col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      value: this.state.effectiveFrom,\n      ref: \"effectiveFrom\",\n      name: \"effectiveFrom\",\n      onChange: this.handleChange.bind(this),\n      placeholder: \"Select date..\",\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 53\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group col-lg-3 col-md-3 col-sm-12 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 NOpadding-left\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 53\n      }\n    }, \"Effective To \", /*#__PURE__*/React.createElement(\"i\", {\n      className: \"astrick\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 140\n      }\n    }, \"*\")), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"date\",\n      id: \"effectiveTo\",\n      min: minEffectiveTo,\n      className: \"form-control col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      value: this.state.effectiveTo,\n      ref: \"effectiveTo\",\n      name: \"effectiveTo\",\n      onChange: this.handleChange.bind(this),\n      placeholder: \"Select date..\",\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 53\n      }\n    })), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 49\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 49\n      }\n    }, this.state.editId ? /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.update.bind(this),\n      className: \"btn button3 btn-primary pull-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 57\n      }\n    }, \"Update\") : /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.submit.bind(this),\n      className: \"btn button3 btn-primary pull-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 57\n      }\n    }, \"Submit\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-10 col-lg-offset-1 col-md-10 col-md-offset-1 col-sm-12 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(IAssureTable, {\n      tableHeading: this.state.tableHeading,\n      twoLevelHeader: this.state.twoLevelHeader,\n      dataCount: this.state.dataCount,\n      tableData: this.state.tableData,\n      getData: this.getData.bind(this),\n      tableObjects: this.state.tableObjects,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 49\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 284,\n        columnNumber: 41\n      }\n    })))))))));\n  }\n\n}\n\nexport default TaxRate;","map":{"version":3,"sources":["/home/iassureit/PriyaiAssureITWork/eCommTwo/WebApp/franchise/src/storeAdmin/TaxRate/TaxRate.js"],"names":["React","Component","$","jQuery","axios","swal","IAssureTable","moment","newDate","Date","TaxRate","constructor","props","state","taxName","taxRate","effectiveFrom","effectiveTo","actions","deleteMethod","apiLink","paginationApply","searchApply","editUrl","format","match","params","id","componentDidMount","editId","getData","startRange","limitRange","getTaxData","edit","split","window","scrollTo","validator","addMethod","value","element","regexpr","test","setDefaults","debug","success","validate","rules","required","regxA1","errorPlacement","error","attr","insertAfter","componentWillReceiveProps","nextProps","setState","handleChange","event","preventDefault","target","name","submit","formValues","taxData","length","_id","valid","patch","then","response","data","message","catch","console","log","update","history","push","getDataCount","get","dataCount","taxDetails","tableData","map","a","i","toString","resetForm","editData","filter","render","minEffectiveTo","add","bind","tableHeading","twoLevelHeader","tableObjects"],"mappings":"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","sourcesContent":["import React, { Component }   from 'react';\nimport $                      from 'jquery';\nimport jQuery                 from 'jquery';\nimport axios                  from 'axios';\nimport swal                   from 'sweetalert';\nimport IAssureTable           from '../../coreadmin/IAssureTable/IAssureTable.jsx';\n// import _                      from 'underscore';\nimport moment from 'moment';\nimport 'bootstrap/js/tab.js';\nvar newDate = new Date();\nclass TaxRate extends Component {\n    constructor(props) {\n        \n        super(props);\n        this.state = {\n            taxName                        : \"\",\n            \"tableHeading\"                 : {\n                taxName                    : \"Tax Name\",\n                taxRate                    : \"Tax Rate\",\n                effectiveFrom              : \"Effective From\",\n                effectiveTo                : \"Effective To\",\n                actions                    : 'Action',\n              },\n              \"tableObjects\"              : {\n                deleteMethod              : 'delete',\n                apiLink                   : '/api/preference/deleterate',\n                paginationApply           : false,\n                searchApply               : false,\n                editUrl                   : '/taxrate'\n              },\n              \"startRange\"                : 0,\n              \"limitRange\"                : 10,\n              \"effectiveFrom\"             : moment(newDate).format('YYYY-MM-DD'),\n              \"editId\"                    : this.props.match.params ? this.props.match.params.id : ''\n        };\n        \n    }\n    componentDidMount() {\n        // this.getTaxData();\n        var editId = this.props.match.params.id;\n        // console.log(\"split = \",editId.split(\".\")[1]);\n        this.getData(this.state.startRange, this.state.limitRange);\n        this.getTaxData();\n        if(this.props.match.params.id){\n            this.edit(editId.split(\".\")[1]);\n        }\n        window.scrollTo(0, 0);\n        $.validator.addMethod(\"regxA1\", function(value, element, regexpr) {          \n        return regexpr.test(value);\n        }, \"Tax rate should only contain positive number.\");\n        \n        jQuery.validator.setDefaults({\n        debug: true,\n        success: \"valid\"\n        });\n        $(\"#taxRateMaster\").validate({\n        rules: {\n            taxRate: {\n                required: true,\n                regxA1: /^[0-9 ][0-9]*$/,\n            },\n            effectiveFrom: {\n                required: true,\n            },\n            effectiveTo: {\n                required: true,\n            },\n        },\n            errorPlacement: function(error, element) {\n                if (element.attr(\"name\") === \"taxRate\"){\n                    error.insertAfter(\"#taxRate\");\n                }\n                if (element.attr(\"name\") === \"effectiveFrom\"){\n                    error.insertAfter(\"#effectiveFrom\");\n                }\n                if (element.attr(\"name\") === \"effectiveTo\"){\n                    error.insertAfter(\"#effectiveTo\");\n                }\n            }\n        });\n    }  \n    \n    componentWillReceiveProps(nextProps) {\n        this.getTaxData();\n        var editId = nextProps.match.params.id;\n        if(nextProps.match.params.id){\n          this.setState({\n            editId : editId\n          })\n          this.edit(editId.split(\".\")[1]);\n        }\n    }\n    handleChange(event) {\n        event.preventDefault();\n        const target = event.target;\n        const name = target.name;\n        this.setState({\n            [name]: event.target.value\n        });   \n    }\n    submit(event){\n        event.preventDefault();\n        var formValues = {\n            \"preferenceID\" : this.state.taxData && this.state.taxData.length>0? this.state.taxData[0]._id : 'Tax',\n            \"taxDetails\"   : {\n                \"taxRate\"         : this.state.taxRate,\n                \"effectiveFrom\"   : this.state.effectiveFrom,\n                \"effectiveTo\"     : this.state.effectiveTo,\n            }\n        }\n        // console.log('formValues', formValues);\n        if($(\"#taxRateMaster\").valid()){\n            axios.patch('/api/preference/postrate', formValues)\n            .then((response)=>{\n                this.getData(this.state.startRange, this.state.limitRange);\n                swal(response.data.message);\n                this.setState({\n                    taxName         : \"\",\n                    taxRate         : \"\",\n                    effectiveFrom   : moment(newDate).format('YYYY-MM-DD'),\n                    effectiveTo     : \"\"\n                })\n            })\n            .catch((error)=>{\n                console.log('error', error);\n            })\n        }\n    }\n    update(event){\n        event.preventDefault();\n        var formValues = {\n            \"preferenceID\"  : this.state.editId.split(\".\")[0],\n            \"taxRateID\"     : this.state.editId.split(\".\")[1],\n            \"taxRate\"       : this.state.taxRate,\n            \"effectiveFrom\" : this.state.effectiveFrom,\n            \"effectiveTo\"   : this.state.effectiveTo,\n        }\n        console.log(\"Update Formvalues = \", formValues);\n        if($(\"#taxRateMaster\").valid()){\n            axios.patch('/api/preference/patchrate', formValues)\n            .then((response)=>{\n                this.props.history.push('/taxrate');\n                swal(response.data.message);\n                this.getData(this.state.startRange, this.state.limitRange);\n                this.setState({\n                    editId          : \"\",\n                    taxName         : \"\",\n                    taxRate         : \"\",\n                    effectiveFrom   : moment(newDate).format('YYYY-MM-DD'),\n                    effectiveTo     : \"\"\n                })\n            })\n            .catch((error)=>{\n                console.log('error', error);\n            })\n        }\n    }\n    getDataCount(){\n        axios.get('/api/preference/get/list')\n        .then((response)=>{\n          this.setState({\n            dataCount : response.data[0].taxDetails.length\n          })\n        })\n        .catch((error)=>{\n          console.log('error', error);\n        });\n    }\n    getData(startRange, limitRange){\n        var data={\n            startRange : startRange,\n            limitRange : limitRange\n        }\n        axios.patch('/api/preference/get/list', data)\n        .then((response)=>{\n            this.getDataCount();\n            var taxName = response.data[0].taxName;\n            var id = response.data[0]._id;\n            var tableData = response.data[0].taxDetails.map((a, i)=>{\n                return {\n                    _id             : id+\".\"+a._id,\n                    taxName         : taxName,\n                    taxRate         : (a.taxRate).toString(),\n                    effectiveFrom   : a.effectiveFrom ? moment( a.effectiveFrom).format('DD-MMM-YYYY') : \"-\",\n                    effectiveTo     : a.effectiveTo ? moment( a.effectiveTo).format('DD-MMM-YYYY') : \"-\"\n                }\n            })\n            // console.log('table', tableData);\n            this.setState({\n                tableData : tableData\n            });\n        })\n        .catch((error)=>{\n            console.log('error', error);\n        });\n    }\n    getTaxData(){\n        axios.get('/api/preference/get/list')\n        .then((response)=>{\n            this.setState({\n                taxData : response.data\n            })\n        })\n        .catch((error)=>{\n            console.log('error', error);\n        });\n    }\n    edit(id){\n        $(\"#taxRateMaster\").validate().resetForm();\n        axios.get('/api/preference/get/onerate/'+id)\n        .then((response)=>{\n            console.log('edit response = ', response.data);\n            var editData =  response.data.taxDetails.filter(a=>a._id === this.props.match.params.id.split(\".\")[1])\n            console.log(\"editData = \",editData);\n            this.setState({\n                \"taxName\"                  : response.data.taxName,\n                \"taxRate\"                  : editData[0].taxRate,\n                \"effectiveFrom\"            : moment(editData[0].effectiveFrom).format(\"YYYY-MM-DD\"),\n                \"effectiveTo\"              : moment(editData[0].effectiveTo).format(\"YYYY-MM-DD\")\n            });\n            // moment(selectedDate1).subtract(1, \"days\").format(\"YYYY-MM-DD\")\n        })\n        .catch((error)=>{\n            console.log('error', error);\n        });\n    }\n    render() {\n        var minEffectiveTo = moment(this.state.effectiveFrom).add(1, \"days\").format('YYYY-MM-DD');\n        // console.log(minEffectiveTo);\n        return (\n            <div className=\"container-fluid col-lg-12 col-md-12 col-xs-12 col-sm-12\">\n                <div className=\"row\">\n                    <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n                    <section className=\"content\">\n                        <div className=\"col-lg-12 col-md-12 col-xs-12 col-sm-12 pageContent\">\n                            <div className=\"row\">\n                                <div className=\"\">\n                                    <div className=\"col-lg-12 col-md-12 col-xs-12 col-sm-12 paddingZeroo\">\n                                        <div className=\"box-header with-border col-lg-12 col-md-12 col-xs-12 col-sm-12 NOpadding-right\">\n                                            <h4 className=\"\">Tax Rate Master</h4>\n                                        </div>\n                                        <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 \">\n                                            <br/>\n                                            <br/>\n                                            <form className=\"col-lg-10 col-lg-offset-1 col-md-10 col-md-offset-1 col-sm-12 col-xs-12\" id=\"taxRateMaster\">\n                                                <div className=\"form-group col-lg-3 col-md-3 col-sm-12 col-xs-12\"> \n                                                <label className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 NOpadding-left\">Tax Name <i className=\"astrick\">*</i></label>\n                                                    <div className=\"form-control col-lg-12 col-md-12 col-sm-12 col-xs-12 textAlignLeft\">\n                                                        <label className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 NOpadding-left\">{this.state.taxData && this.state.taxData.length>0? this.state.taxData[0].taxName : 'Tax'}</label>\n                                                    </div>\n                                                </div>\n                                                <div className=\"form-group col-lg-3 col-md-3 col-sm-12 col-xs-12\"> \n                                                    <label className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 NOpadding-left\">Tax Rate (%) <i className=\"astrick\">*</i></label>\n                                                    <input type=\"number\" min=\"1\" max=\"99\" id=\"taxRate\" className=\"form-control col-lg-12 col-md-12 col-sm-12 col-xs-12\" value={this.state.taxRate}  ref=\"taxRate\" name=\"taxRate\" onChange={this.handleChange.bind(this)} placeholder=\"Enter tax rate..\" required/>\n                                                </div>\n                                                <div className=\"form-group col-lg-3 col-md-3 col-sm-12 col-xs-12\"> \n                                                    <label className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 NOpadding-left\">Effective From<i className=\"astrick\">*</i></label>\n                                                    <input type=\"date\" id=\"effectiveFrom\" min={moment().format('YYYY-MM-DD')} className=\"form-control col-lg-12 col-md-12 col-sm-12 col-xs-12\" value={this.state.effectiveFrom}  ref=\"effectiveFrom\" name=\"effectiveFrom\" onChange={this.handleChange.bind(this)} placeholder=\"Select date..\" required/>\n                                                </div>\n                                                <div className=\"form-group col-lg-3 col-md-3 col-sm-12 col-xs-12\"> \n                                                    <label className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 NOpadding-left\">Effective To <i className=\"astrick\">*</i></label>\n                                                    <input type=\"date\" id=\"effectiveTo\" min={minEffectiveTo} className=\"form-control col-lg-12 col-md-12 col-sm-12 col-xs-12\" value={this.state.effectiveTo}  ref=\"effectiveTo\" name=\"effectiveTo\" onChange={this.handleChange.bind(this)} placeholder=\"Select date..\" required/>\n                                                </div>\n                                                <br/>\n                                                <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n                                                    {this.state.editId ?\n                                                        <button onClick={this.update.bind(this)} className=\"btn button3 btn-primary pull-right\">Update</button>\n                                                        :\n                                                        <button onClick={this.submit.bind(this)} className=\"btn button3 btn-primary pull-right\">Submit</button>\n                                                    }\n                                                </div> \n                                            </form>\n                                            <div className=\"col-lg-10 col-lg-offset-1 col-md-10 col-md-offset-1 col-sm-12 col-xs-12\">\n                                                <IAssureTable \n                                                    tableHeading={this.state.tableHeading}\n                                                    twoLevelHeader={this.state.twoLevelHeader} \n                                                    dataCount={this.state.dataCount}\n                                                    tableData={this.state.tableData}\n                                                    getData={this.getData.bind(this)}\n                                                    tableObjects={this.state.tableObjects}\n                                                /> \n                                            </div>\n                                        </div>\n                                        <div>\n                                         \n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </section>\n                    </div>\n                </div> \n            </div> \n        );\n    } \n}\nexport default TaxRate;\n\n"]},"metadata":{},"sourceType":"module"}