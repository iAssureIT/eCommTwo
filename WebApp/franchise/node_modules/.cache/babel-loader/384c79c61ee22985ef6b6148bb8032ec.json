{"ast":null,"code":"var _jsxFileName = \"/home/iassureit/PriyaiAssureITWork/eCommTwo/WebApp/franchise/src/coreadmin/userManagement/UM/EditUserProfile.js\";\nimport React, { Component } from 'react';\nimport PhoneInput from 'react-phone-input-2';\nimport axios from 'axios';\nimport swal from 'sweetalert';\nimport $ from \"jquery\";\nimport \"./userManagement.css\";\n\nclass EditUserProfile extends Component {\n  constructor(props) {\n    super(props);\n    var UserId = this.props.match.params.id;\n    this.state = {\n      UserId: UserId,\n      fullname: \"\",\n      username: \"\",\n      mobNumber: \"\",\n      userProfile: \"\",\n      firstName: \"\",\n      lastName: \"\",\n      centerName: \"\"\n    };\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  handleSubmit(event) {\n    if ($('#editUser').valid()) {\n      var userid = this.state.UserId;\n      var formvalues = {\n        \"firstname\": this.refs.firstName.value,\n        \"lastname\": this.refs.lastName.value,\n        \"mobNumber\": this.state.mobNumber.replace(\"-\", \"\")\n      };\n      axios.patch('/api/users/patch/' + userid, formvalues).then(response => {\n        swal({\n          title: \" \",\n          text: \"User updated successfully\"\n        });\n        this.props.history.push('/dashboard');\n      }).catch(error => {\n        window.location = '/dashboard';\n      });\n    }\n  }\n\n  handleChange(event) {\n    const target = event.target.value;\n    const name = event.target.name;\n    this.setState({\n      [name]: target\n    }, () => {});\n  }\n\n  componentDidMount() {\n    const firstnameRegex = RegExp(/^[A-za-z']+( [A-Za-z']+)*$/);\n    const lastnameRegex = RegExp(/^[A-za-z']+( [A-Za-z']+)*$/);\n    const mobileRegex = RegExp(/^[0-9][0-9]{9}$|^$/);\n    const emailRegex = RegExp(/^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$|^$/);\n    $.validator.addMethod(\"regxCenter\", function (value, element, regexpr) {\n      return value !== regexpr;\n    }, \"This field is required.\");\n    $.validator.addMethod(\"regxEmail\", function (value, element, regexpr) {\n      return regexpr.test(value);\n    }, \"Please enter a valid email address.\");\n    $.validator.addMethod(\"regxMobile\", function (value, element, regexpr) {\n      return regexpr.test(value);\n    }, \"Please enter a valid mobile number.\");\n    $.validator.addMethod(\"regxName\", function (value, element, regexpr) {\n      return regexpr.test(value);\n    }, \"It should only contain alphabets.\");\n    $(\"#editUser\").validate({\n      rules: {\n        firstName: {\n          required: true,\n          regxName: firstnameRegex\n        },\n        lastName: {\n          required: true,\n          regxName: lastnameRegex\n        },\n        username: {\n          required: true,\n          regxEmail: emailRegex\n        }\n      },\n      errorPlacement: function (error, element) {\n        if (element.attr(\"name\") === \"firstName\") {\n          error.insertAfter(\"#firstNameErr\");\n        }\n\n        if (element.attr(\"name\") === \"lastName\") {\n          error.insertAfter(\"#lastNameErr\");\n        }\n\n        if (element.attr(\"name\") === \"username\") {\n          error.insertAfter(\"#usernameErr\");\n        }\n      }\n    });\n    var userid = this.state.UserId;\n    axios.get('/api/users/get/' + userid).then(res => {\n      this.setState({\n        firstName: res.data.firstname,\n        lastName: res.data.lastname,\n        username: res.data.email,\n        mobNumber: res.data.mobile\n      });\n    }).catch(error => {});\n  }\n\n  handleChangeCenter(event) {\n    event.preventDefault();\n    this.setState({\n      centerName: event.target.value\n    }, () => {});\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container-fluid\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"formWrapper\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(\"section\", {\n      className: \"content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-xs-12 col-sm-12 pageContent \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 8\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-xs-12 col-sm-12 contactdeilsmg pageHeader\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 9\n      }\n    }, \"Edit User Data\"), /*#__PURE__*/React.createElement(\"hr\", {\n      className: \"hr-head container-fluid row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"box-body\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 10\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      id: \"editUser\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 col-sm-12 col-xs-12 col-md-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 12\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 col-sm-12 col-xs-12 col-md-12 NOpadding\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-margin col-lg-6 col-md-6 col-xs-6 col-sm-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 14\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"col-lg-12 col-sm-12 col-xs-12 col-md-12 NOpadding\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 15\n      }\n    }, \"First Name \", /*#__PURE__*/React.createElement(\"label\", {\n      className: \"requiredsign\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 95\n      }\n    }, \"*\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 col-sm-12 col-xs-12 col-md-12 NOpadding\",\n      id: \"firstNameErr\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      style: {\n        textTransform: 'capitalize'\n      },\n      className: \"form-control\",\n      id: \"firstName\",\n      ref: \"firstName\",\n      name: \"firstName\",\n      value: this.state.firstName,\n      onChange: this.handleChange,\n      placeholder: \"First Name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 16\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-margin col-lg-6 col-md-6 col-xs-6 col-sm-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 14\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"col-lg-12 col-sm-12 col-xs-12 col-md-12 NOpadding\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 15\n      }\n    }, \"Last Name \", /*#__PURE__*/React.createElement(\"label\", {\n      className: \"requiredsign\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 94\n      }\n    }, \"*\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 col-sm-12 col-xs-12 col-md-12 NOpadding\",\n      id: \"lastNameErr\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      id: \"lastName\",\n      ref: \"lastName\",\n      name: \"lastName\",\n      value: this.state.lastName,\n      onChange: this.handleChange,\n      placeholder: \"Last Name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 16\n      }\n    })))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 col-sm-12 col-xs-12 col-md-12 NOpadding\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-margin col-lg-6 col-md-6 col-xs-6 col-sm-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 14\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"col-lg-12 col-sm-12 col-xs-12 col-md-12 NOpadding\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 15\n      }\n    }, \"Username/Email \", /*#__PURE__*/React.createElement(\"label\", {\n      className: \"requiredsign\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 99\n      }\n    }, \"*\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 col-sm-12 col-xs-12 col-md-12 NOpadding\",\n      id: \"usernameErr\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      disabled: true,\n      value: this.state.username,\n      onChange: this.handleChange,\n      className: \"form-control\",\n      ref: \"username\",\n      name: \"username\",\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 16\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-margin col-lg-6 col-sm-6 col-xs-6 col-md-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 14\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"col-lg-12 col-sm-12 col-xs-12 col-md-12 NOpadding\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 15\n      }\n    }, \"Mobile Number \", /*#__PURE__*/React.createElement(\"label\", {\n      className: \"requiredsign\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 98\n      }\n    }, \"*\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 col-sm-12 col-xs-12 col-md-12 NOpadding\",\n      id: \"mobNumberErr\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(PhoneInput, {\n      country: 'in',\n      value: this.state.mobNumber,\n      name: \"mobNumber\",\n      inputProps: {\n        name: 'mobNumber',\n        required: true\n      },\n      onChange: mobNumber => {\n        this.setState({\n          mobNumber\n        });\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 16\n      }\n    })))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-margin col-lg-12 col-sm-12 col-xs-12 col-md-12 pull-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.handleSubmit.bind(this),\n      className: \"col-lg-2 col-sm-2 col-xs-2 col-md-2 btn resetBtn pull-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 14\n      }\n    }, \"Update\")))))))))));\n  }\n\n}\n\nexport default EditUserProfile;","map":{"version":3,"sources":["/home/iassureit/PriyaiAssureITWork/eCommTwo/WebApp/franchise/src/coreadmin/userManagement/UM/EditUserProfile.js"],"names":["React","Component","PhoneInput","axios","swal","$","EditUserProfile","constructor","props","UserId","match","params","id","state","fullname","username","mobNumber","userProfile","firstName","lastName","centerName","handleChange","bind","handleSubmit","event","valid","userid","formvalues","refs","value","replace","patch","then","response","title","text","history","push","catch","error","window","location","target","name","setState","componentDidMount","firstnameRegex","RegExp","lastnameRegex","mobileRegex","emailRegex","validator","addMethod","element","regexpr","test","validate","rules","required","regxName","regxEmail","errorPlacement","attr","insertAfter","get","res","data","firstname","lastname","email","mobile","handleChangeCenter","preventDefault","render","textTransform"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport PhoneInput from 'react-phone-input-2';\nimport axios from 'axios';\nimport swal from 'sweetalert';\nimport $ from \"jquery\";\nimport \"./userManagement.css\";\nclass EditUserProfile extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tvar UserId = this.props.match.params.id;\n\n\t\tthis.state = {\n\t\t\tUserId: UserId,\n\t\t\tfullname: \"\",\n\t\t\tusername: \"\",\n\t\t\tmobNumber: \"\",\n\t\t\tuserProfile: \"\",\n\t\t\tfirstName: \"\",\n\t\t\tlastName: \"\",\n\t\t\tcenterName: \"\",\n\t\t}\n\t\tthis.handleChange = this.handleChange.bind(this);\n\t}\n\n\thandleSubmit(event) {\n\t\tif ($('#editUser').valid()) {\n\t\t\tvar userid = this.state.UserId;\n\n\t\t\tvar formvalues = {\n\t\t\t\t\"firstname\": this.refs.firstName.value,\n\t\t\t\t\"lastname\": this.refs.lastName.value,\n\t\t\t\t\"mobNumber\": (this.state.mobNumber).replace(\"-\", \"\"),\n\t\t\t}\n\t\t\taxios.patch('/api/users/patch/' + userid, formvalues)\n\t\t\t\t.then((response) => {\n\t\t\t\t\tswal({\n\t\t\t\t\t\ttitle: \" \",\n\t\t\t\t\t\ttext: \"User updated successfully\",\n\t\t\t\t\t});\n\t\t\t\t\tthis.props.history.push('/dashboard');\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\twindow.location = '/dashboard';\n\t\t\t\t});\n\t\t}\n\t}\n\n\n\thandleChange(event) {\n\t\tconst target = event.target.value;\n\t\tconst name = event.target.name;\n\t\tthis.setState({\n\t\t\t[name]: target,\n\t\t}, () => {\n\t\t})\n\t}\n\n\tcomponentDidMount() {\n\t\tconst firstnameRegex = RegExp(/^[A-za-z']+( [A-Za-z']+)*$/);\n\t\tconst lastnameRegex = RegExp(/^[A-za-z']+( [A-Za-z']+)*$/);\n\t\tconst mobileRegex = RegExp(/^[0-9][0-9]{9}$|^$/);\n\t\tconst emailRegex = RegExp(/^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$|^$/);\n\t\t$.validator.addMethod(\"regxCenter\", function (value, element, regexpr) {\n\t\t\treturn value !== regexpr;\n\t\t}, \"This field is required.\");\n\t\t$.validator.addMethod(\"regxEmail\", function (value, element, regexpr) {\n\t\t\treturn regexpr.test(value);\n\t\t}, \"Please enter a valid email address.\");\n\t\t$.validator.addMethod(\"regxMobile\", function (value, element, regexpr) {\n\t\t\treturn regexpr.test(value);\n\t\t}, \"Please enter a valid mobile number.\");\n\t\t$.validator.addMethod(\"regxName\", function (value, element, regexpr) {\n\t\t\treturn regexpr.test(value);\n\t\t}, \"It should only contain alphabets.\");\n\t\t$(\"#editUser\").validate({\n\t\t\trules: {\n\t\t\t\tfirstName: {\n\t\t\t\t\trequired: true,\n\t\t\t\t\tregxName: firstnameRegex\n\t\t\t\t},\n\t\t\t\tlastName: {\n\t\t\t\t\trequired: true,\n\t\t\t\t\tregxName: lastnameRegex\n\t\t\t\t},\n\t\t\t\tusername: {\n\t\t\t\t\trequired: true,\n\t\t\t\t\tregxEmail: emailRegex\n\t\t\t\t}\n\t\t\t},\n\t\t\terrorPlacement: function (error, element) {\n\t\t\t\tif (element.attr(\"name\") === \"firstName\") {\n\t\t\t\t\terror.insertAfter(\"#firstNameErr\");\n\t\t\t\t}\n\t\t\t\tif (element.attr(\"name\") === \"lastName\") {\n\t\t\t\t\terror.insertAfter(\"#lastNameErr\");\n\t\t\t\t}\n\t\t\t\tif (element.attr(\"name\") === \"username\") {\n\t\t\t\t\terror.insertAfter(\"#usernameErr\");\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\tvar userid = this.state.UserId;\n\t\taxios.get('/api/users/get/' + userid)\n\t\t\t.then((res) => {\n\t\t\t\tthis.setState({\n\t\t\t\t\tfirstName: res.data.firstname,\n\t\t\t\t\tlastName: res.data.lastname,\n\t\t\t\t\tusername: res.data.email,\n\t\t\t\t\tmobNumber: res.data.mobile\n\t\t\t\t})\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t});\n\t}\n\thandleChangeCenter(event) {\n\t\tevent.preventDefault();\n\t\tthis.setState({\n\t\t\tcenterName: event.target.value,\n\t\t}, () => {\n\t\t})\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"container-fluid\">\n\t\t\t\t<div className=\"row\">\n\t\t\t\t\t<div className=\"formWrapper\">\n\t\t\t\t\t\t<section className=\"content\">\n\t\t\t\t\t\t\t<div className=\"col-lg-12 col-md-12 col-xs-12 col-sm-12 pageContent \">\n\t\t\t\t\t\t\t\t<div className=\"col-lg-12 col-md-12 col-xs-12 col-sm-12 contactdeilsmg pageHeader\">\n\t\t\t\t\t\t\t\t\tEdit User Data\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<hr className=\"hr-head container-fluid row\" />\n\t\t\t\t\t\t\t\t<div className=\"box-body\">\n\t\t\t\t\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t\t\t\t\t<form id=\"editUser\">\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-lg-12 col-sm-12 col-xs-12 col-md-12\">\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-lg-12 col-sm-12 col-xs-12 col-md-12 NOpadding\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"form-margin col-lg-6 col-md-6 col-xs-6 col-sm-6\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label className=\"col-lg-12 col-sm-12 col-xs-12 col-md-12 NOpadding\">First Name <label className=\"requiredsign\">*</label></label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-lg-12 col-sm-12 col-xs-12 col-md-12 NOpadding\" id=\"firstNameErr\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" style={{ textTransform: 'capitalize' }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"firstName\" ref=\"firstName\" name=\"firstName\" value={this.state.firstName} onChange={this.handleChange} placeholder=\"First Name\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"form-margin col-lg-6 col-md-6 col-xs-6 col-sm-6\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label className=\"col-lg-12 col-sm-12 col-xs-12 col-md-12 NOpadding\">Last Name <label className=\"requiredsign\">*</label></label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-lg-12 col-sm-12 col-xs-12 col-md-12 NOpadding\" id=\"lastNameErr\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" className=\"form-control\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"lastName\" ref=\"lastName\" name=\"lastName\" value={this.state.lastName} onChange={this.handleChange} placeholder=\"Last Name\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-lg-12 col-sm-12 col-xs-12 col-md-12 NOpadding\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"form-margin col-lg-6 col-md-6 col-xs-6 col-sm-6\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label className=\"col-lg-12 col-sm-12 col-xs-12 col-md-12 NOpadding\">Username/Email <label className=\"requiredsign\">*</label></label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-lg-12 col-sm-12 col-xs-12 col-md-12 NOpadding\" id=\"usernameErr\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" disabled value={this.state.username} onChange={this.handleChange} className=\"form-control\" ref=\"username\" name=\"username\" required />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"form-margin col-lg-6 col-sm-6 col-xs-6 col-md-6\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label className=\"col-lg-12 col-sm-12 col-xs-12 col-md-12 NOpadding\">Mobile Number <label className=\"requiredsign\">*</label></label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-lg-12 col-sm-12 col-xs-12 col-md-12 NOpadding\" id=\"mobNumberErr\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<PhoneInput\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcountry={'in'}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.mobNumber} \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"mobNumber\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tinputProps={{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'mobNumber',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired: true\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={mobNumber=>{this.setState({mobNumber})}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"form-margin col-lg-12 col-sm-12 col-xs-12 col-md-12 pull-right\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<button onClick={this.handleSubmit.bind(this)} className=\"col-lg-2 col-sm-2 col-xs-2 col-md-2 btn resetBtn pull-right\">Update</button>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</section>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default EditUserProfile;\n\n\n"]},"metadata":{},"sourceType":"module"}