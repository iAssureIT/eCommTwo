{"ast":null,"code":"var _jsxFileName = \"/home/iassureit/PriyaiAssureITWork/eCommTwo/WebApp/franchise/src/StoreManagement/orders/component/dispatchModal.js\";\nimport React, { Component } from 'react';\nimport $ from 'jquery';\nimport axios from 'axios';\nimport ReactTable from \"react-table\";\nimport moment from \"moment\"; // import IAssureTable           from \"../../IAssureTable/IAssureTable.jsx\";\n\nimport swal from 'sweetalert';\nimport _ from 'underscore';\n\nclass dispatchModal extends Component {\n  constructor(props) {\n    super(props);\n\n    if (!this.props.loading) {\n      this.state = {\n        \"orderData\": [] // \"notificationData\" :Meteor.subscribe(\"notificationTemplate\"),\n\n      };\n    } else {\n      this.state = {\n        \"orderData\": []\n      };\n    }\n\n    window.scrollTo(0, 0);\n  }\n\n  componentDidMount() {}\n\n  addDispatchDetails(event) {\n    event.preventDefault();\n    var id = $(event.currentTarget).attr('id');\n    var businessAssociate = $('.dispatchForm').find('#businessAssociate').val();\n    var expDeliveryDate = $('.expDeliveryDate').val();\n\n    if (businessAssociate !== '') {\n      var formValues = {\n        \"orderID\": id,\n        \"userid\": localStorage.getItem('admin_ID'),\n        \"businessAssociateId\": businessAssociate\n      };\n      console.log(formValues);\n      axios.patch('/api/orders/patch/dispatchOrder', formValues).then(response => {\n        console.log('response', response);\n        swal({\n          title: response.data.message\n        });\n\n        if (response.status === 200) {\n          swal({\n            title: 'Order is dispatched Successflly'\n          }); // this.getOrders();\n\n          var modal = document.getElementById('adminModal');\n          modal.style.display = \"none\";\n          $('#businessAssociate').val('');\n          $('.expDeliveryDate').val('');\n          window.location.reload();\n        }\n      }).catch(error => {\n        console.log('error', error);\n      });\n    } else {\n      swal({\n        title: 'Please fill all fields'\n      });\n    }\n  }\n\n  closeModal(event) {\n    event.preventDefault(); // console.log('event',event);\n\n    var modal = document.getElementById('dispatchModal');\n    modal.style.display = \"none\";\n    $('.dispatchCompanyName').val('');\n    $('.deliveryPersonName').val('');\n    $('.deliveryPersonContact').val('');\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"modal-dialog adminModal addressModal-dialog\",\n      id: \"adminModal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"modal-content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"modal-header adminModal-header col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      className: \"WightFont textAlignCenter col-lg-11 col-md-11 col-sm-11 col-xs-11\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 23\n      }\n    }, \"DISPATCH ORDER\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"adminCloseCircleDiv pull-right  col-lg-1 col-md-1 col-sm-1 col-xs-12 NOpadding-left NOpadding-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      className: \"adminCloseButton\",\n      \"data-dismiss\": \"modal\",\n      onClick: this.closeModal.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 25\n      }\n    }, \"\\xD7\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"modal-body\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      className: \"dispatchForm\",\n      onSubmit: this.addDispatchDetails.bind(this),\n      id: this.props.orderId,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row inputrow\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-8 col-md-8 col-sm-8 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 31\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 31\n      }\n    }, \"Business Associate\"), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"astrick\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 64\n      }\n    }, \"*\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 31\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"input-group-addon\",\n      id: \"basic-addon1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 31\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fa fa-gg\",\n      \"aria-hidden\": \"true\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 85\n      }\n    })), /*#__PURE__*/React.createElement(\"select\", {\n      className: \"form-control\",\n      id: \"businessAssociate\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 33\n      }\n    }, this.props.baList && this.props.baList.length > 0 ? this.props.baList.map((data, index) => {\n      return /*#__PURE__*/React.createElement(\"option\", {\n        key: index,\n        value: data.userID,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 43\n        }\n      }, data.companyName, data.locationDetails.length > 0 ? ' ( ' + data.locationDetails[0].area + '' + '-' + data.locationDetails[0].pincode + ' )' : '');\n    }) : null))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row inputrow\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-8 col-md-8 col-sm-8 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 31\n      }\n    }, \"Expected Delivery Date\"), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"astrick\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 68\n      }\n    }, \"*\"), /*#__PURE__*/React.createElement(\"input\", {\n      name: \"expDeliveryDate\",\n      type: \"date\",\n      min: moment().format('YYYY-MM-DD'),\n      className: \"expDeliveryDate form-control\",\n      placeholder: \"\",\n      \"aria-label\": \"Brand\",\n      \"aria-describedby\": \"basic-addon1\",\n      ref: \"expDeliveryDate\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 33\n      }\n    }))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"modal-footer adminModal-footer col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-6 col-md-6 col-sm-6 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      className: \"btn adminCancel-btn col-lg-4 col-lg-offset-1 col-md-4 col-md-offset-1 col-sm-8 col-sm-offset-1 col-xs-10 col-xs-offset-1\",\n      onClick: this.closeModal.bind(this),\n      \"data-dismiss\": \"modal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 29\n      }\n    }, \"CANCEL\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-6 col-md-6 col-sm-6 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"submit\",\n      className: \"btn adminFinish-btn col-lg-6 col-lg-offset-6 col-md-6 col-md-offset-6 col-sm-8 col-sm-offset-3 col-xs-10 col-xs-offset-1\",\n      value: \"DISPATCH\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 31\n      }\n    })))), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 23\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"modal-footer\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 21\n      }\n    }))));\n  }\n\n}\n\nexport default dispatchModal;","map":{"version":3,"sources":["/home/iassureit/PriyaiAssureITWork/eCommTwo/WebApp/franchise/src/StoreManagement/orders/component/dispatchModal.js"],"names":["React","Component","$","axios","ReactTable","moment","swal","_","dispatchModal","constructor","props","loading","state","window","scrollTo","componentDidMount","addDispatchDetails","event","preventDefault","id","currentTarget","attr","businessAssociate","find","val","expDeliveryDate","formValues","localStorage","getItem","console","log","patch","then","response","title","data","message","status","modal","document","getElementById","style","display","location","reload","catch","error","closeModal","render","bind","orderId","baList","length","map","index","userID","companyName","locationDetails","area","pincode","format"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAmC,OAAnC;AACA,OAAOC,CAAP,MAAmC,QAAnC;AACA,OAAOC,KAAP,MAAmC,OAAnC;AACA,OAAOC,UAAP,MAAmC,aAAnC;AACA,OAAOC,MAAP,MAAmC,QAAnC,C,CACA;;AACA,OAAOC,IAAP,MAAmC,YAAnC;AACA,OAAOC,CAAP,MAAmC,YAAnC;;AAGA,MAAMC,aAAN,SAA4BP,SAA5B,CAAqC;AACjCQ,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;;AAEA,QAAG,CAAC,KAAKA,KAAL,CAAWC,OAAf,EAAuB;AACnB,WAAKC,KAAL,GAAa;AACT,qBAAY,EADH,CAET;;AAFS,OAAb;AAIH,KALD,MAKM;AACF,WAAKA,KAAL,GAAa;AACT,qBAAY;AADH,OAAb;AAGH;;AACDC,IAAAA,MAAM,CAACC,QAAP,CAAgB,CAAhB,EAAmB,CAAnB;AACH;;AAEDC,EAAAA,iBAAiB,GAAG,CAEnB;;AACDC,EAAAA,kBAAkB,CAACC,KAAD,EAAO;AACrBA,IAAAA,KAAK,CAACC,cAAN;AAEA,QAAIC,EAAE,GAAGjB,CAAC,CAACe,KAAK,CAACG,aAAP,CAAD,CAAuBC,IAAvB,CAA4B,IAA5B,CAAT;AAEA,QAAIC,iBAAiB,GAAGpB,CAAC,CAAC,eAAD,CAAD,CAAmBqB,IAAnB,CAAwB,oBAAxB,EAA8CC,GAA9C,EAAxB;AAEA,QAAIC,eAAe,GAAGvB,CAAC,CAAC,kBAAD,CAAD,CAAsBsB,GAAtB,EAAtB;;AAEA,QAAGF,iBAAiB,KAAK,EAAzB,EAA6B;AAC3B,UAAII,UAAU,GAAG;AACD,mBAAyBP,EADxB;AAED,kBAAyBQ,YAAY,CAACC,OAAb,CAAqB,UAArB,CAFxB;AAGD,+BAAwBN;AAHvB,OAAjB;AAKAO,MAAAA,OAAO,CAACC,GAAR,CAAYJ,UAAZ;AAEAvB,MAAAA,KAAK,CAAC4B,KAAN,CAAY,iCAAZ,EAA+CL,UAA/C,EACCM,IADD,CACOC,QAAD,IAAY;AAChBJ,QAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ,EAAwBG,QAAxB;AACA3B,QAAAA,IAAI,CAAC;AACH4B,UAAAA,KAAK,EAAGD,QAAQ,CAACE,IAAT,CAAcC;AADnB,SAAD,CAAJ;;AAGC,YAAGH,QAAQ,CAACI,MAAT,KAAoB,GAAvB,EAA2B;AAEpB/B,UAAAA,IAAI,CAAC;AACD4B,YAAAA,KAAK,EAAE;AADN,WAAD,CAAJ,CAFoB,CAKpB;;AACA,cAAII,KAAK,GAAGC,QAAQ,CAACC,cAAT,CAAwB,YAAxB,CAAZ;AACAF,UAAAA,KAAK,CAACG,KAAN,CAAYC,OAAZ,GAAsB,MAAtB;AACAxC,UAAAA,CAAC,CAAC,oBAAD,CAAD,CAAwBsB,GAAxB,CAA4B,EAA5B;AACAtB,UAAAA,CAAC,CAAC,kBAAD,CAAD,CAAsBsB,GAAtB,CAA0B,EAA1B;AAEAX,UAAAA,MAAM,CAAC8B,QAAP,CAAgBC,MAAhB;AACH;AACN,OAnBD,EAoBCC,KApBD,CAoBQC,KAAD,IAAS;AACdjB,QAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBgB,KAArB;AACD,OAtBD;AAwBD,KAhCD,MAgCK;AACDxC,MAAAA,IAAI,CAAC;AACD4B,QAAAA,KAAK,EAAE;AADN,OAAD,CAAJ;AAGH;AAEJ;;AACDa,EAAAA,UAAU,CAAC9B,KAAD,EAAO;AACdA,IAAAA,KAAK,CAACC,cAAN,GADc,CAEb;;AACA,QAAIoB,KAAK,GAAGC,QAAQ,CAACC,cAAT,CAAwB,eAAxB,CAAZ;AAEAF,IAAAA,KAAK,CAACG,KAAN,CAAYC,OAAZ,GAAsB,MAAtB;AAGAxC,IAAAA,CAAC,CAAC,sBAAD,CAAD,CAA0BsB,GAA1B,CAA8B,EAA9B;AACAtB,IAAAA,CAAC,CAAC,qBAAD,CAAD,CAAyBsB,GAAzB,CAA6B,EAA7B;AACAtB,IAAAA,CAAC,CAAC,wBAAD,CAAD,CAA4BsB,GAA5B,CAAgC,EAAhC;AACH;;AAEDwB,EAAAA,MAAM,GAAE;AACJ,wBACE;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAwEM;AAAK,MAAA,SAAS,EAAC,6CAAf;AAA6D,MAAA,EAAE,EAAC,YAAhE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,SAAS,EAAC,wEAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAI,MAAA,SAAS,EAAC,mEAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADF,eAEE;AAAK,MAAA,SAAS,EAAC,qGAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAQ,MAAA,IAAI,EAAC,QAAb;AAAsB,MAAA,SAAS,EAAC,kBAAhC;AAAmD,sBAAa,OAAhE;AAAwE,MAAA,OAAO,EAAE,KAAKD,UAAL,CAAgBE,IAAhB,CAAqB,IAArB,CAAjF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,CAFF,CADF,eAOE;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAM,MAAA,SAAS,EAAC,cAAhB;AAA+B,MAAA,QAAQ,EAAE,KAAKjC,kBAAL,CAAwBiC,IAAxB,CAA6B,IAA7B,CAAzC;AAA6E,MAAA,EAAE,EAAE,KAAKvC,KAAL,CAAWwC,OAA5F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACA;AAAK,MAAA,SAAS,EAAC,yCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAEA;AAAK,MAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAK,MAAA,SAAS,EAAC,sCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACA;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,eAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BAFJ,eAEqC;AAAM,MAAA,SAAS,EAAC,SAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAFrC,eAGI;AAAK,MAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACA;AAAM,MAAA,SAAS,EAAC,mBAAhB;AAAoC,MAAA,EAAE,EAAC,cAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAsD;AAAG,MAAA,SAAS,EAAC,UAAb;AAAwB,qBAAY,MAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAtD,CADA,eAEE;AAAQ,MAAA,SAAS,EAAC,cAAlB;AAAiC,MAAA,EAAE,EAAC,mBAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,KAAKxC,KAAL,CAAWyC,MAAX,IAAqB,KAAKzC,KAAL,CAAWyC,MAAX,CAAkBC,MAAlB,GAA2B,CAAhD,GACE,KAAK1C,KAAL,CAAWyC,MAAX,CAAkBE,GAAlB,CAAuB,CAAClB,IAAD,EAAOmB,KAAP,KAAe;AAClC,0BACE;AAAQ,QAAA,GAAG,EAAEA,KAAb;AAAoB,QAAA,KAAK,EAAEnB,IAAI,CAACoB,MAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAyCpB,IAAI,CAACqB,WAA9C,EAA4DrB,IAAI,CAACsB,eAAL,CAAqBL,MAArB,GAA8B,CAA9B,GAAmC,QAAOjB,IAAI,CAACsB,eAAL,CAAqB,CAArB,EAAwBC,IAA/B,GAAqC,EAArC,GAAwC,GAAxC,GAA8CvB,IAAI,CAACsB,eAAL,CAAqB,CAArB,EAAwBE,OAAtE,GAA+E,IAAlH,GAAyH,EAArL,CADF;AAGD,KAJH,CADF,GAOI,IARN,CAFF,CAHJ,CADA,CADJ,CAFA,eAyBA;AAAK,MAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAK,MAAA,SAAS,EAAC,sCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACA;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gCADJ,eACyC;AAAM,MAAA,SAAS,EAAC,SAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WADzC,eAIM;AAAO,MAAA,IAAI,EAAC,iBAAZ;AAA8B,MAAA,IAAI,EAAC,MAAnC;AAA0C,MAAA,GAAG,EAAEtD,MAAM,GAAGuD,MAAT,CAAgB,YAAhB,CAA/C;AAA8E,MAAA,SAAS,EAAC,8BAAxF;AAAuH,MAAA,WAAW,EAAC,EAAnI;AAAsI,oBAAW,OAAjJ;AAAyJ,0BAAiB,cAA1K;AAAyL,MAAA,GAAG,EAAC,iBAA7L;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJN,CADA,CADJ,CAzBA,CADA,eAuCA;AAAK,MAAA,SAAS,EAAC,wEAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAK,MAAA,SAAS,EAAC,sCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAQ,MAAA,IAAI,EAAC,QAAb;AAAsB,MAAA,SAAS,EAAC,0HAAhC;AAA2J,MAAA,OAAO,EAAE,KAAKb,UAAL,CAAgBE,IAAhB,CAAqB,IAArB,CAApK;AAAgM,sBAAa,OAA7M;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,CADJ,eAII;AAAK,MAAA,SAAS,EAAC,sCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAQ,MAAA,IAAI,EAAC,QAAb;AAAsB,MAAA,SAAS,EAAC,0HAAhC;AAA2J,MAAA,KAAK,EAAC,UAAjK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CAJJ,CAvCA,CADF,eAiDE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAjDF,CAPF,eA0DE;AAAK,MAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MA1DF,CADF,CAxEN,CADF;AA4IH;;AA9NgC;;AAiOrC,eAAezC,aAAf","sourcesContent":["import React, { Component }   from 'react';\nimport $                      from 'jquery';\nimport axios                  from 'axios';\nimport ReactTable             from \"react-table\";\nimport moment                 from \"moment\";\n// import IAssureTable           from \"../../IAssureTable/IAssureTable.jsx\";\nimport swal                   from 'sweetalert';\nimport _                      from 'underscore';\n\n\nclass dispatchModal extends Component{\n    constructor(props) {\n        super(props);\n\n        if(!this.props.loading){\n            this.state = {\n                \"orderData\":[],\n                // \"notificationData\" :Meteor.subscribe(\"notificationTemplate\"),\n            };\n        } else{\n            this.state = {\n                \"orderData\":[],\n            };\n        }\n        window.scrollTo(0, 0);\n    }\n\n    componentDidMount() {\n\n    }\n    addDispatchDetails(event){\n        event.preventDefault();\n        \n        var id = $(event.currentTarget).attr('id');\n\n        var businessAssociate = $('.dispatchForm').find('#businessAssociate').val();\n\n        var expDeliveryDate = $('.expDeliveryDate').val();\n        \n        if(businessAssociate !== '' ){\n          var formValues = {\n                          \"orderID\"             :  id,\n                          \"userid\"              :  localStorage.getItem('admin_ID'),\n                          \"businessAssociateId\" : businessAssociate\n                          }\n          console.log(formValues);\n\n          axios.patch('/api/orders/patch/dispatchOrder', formValues)\n          .then((response)=>{\n            console.log('response', response);\n            swal({\n              title : response.data.message,\n            });\n             if(response.status === 200){\n                \n                    swal({\n                        title: 'Order is dispatched Successflly',\n                    });\n                    // this.getOrders();\n                    var modal = document.getElementById('adminModal');\n                    modal.style.display = \"none\";\n                    $('#businessAssociate').val('');\n                    $('.expDeliveryDate').val('');\n                    \n                    window.location.reload();\n                }\n          })\n          .catch((error)=>{\n            console.log('error', error);\n          })\n            \n        }else{\n            swal({\n                title: 'Please fill all fields',\n            });\n        } \n  \n    }\n    closeModal(event){\n       event.preventDefault();\n        // console.log('event',event);\n        var modal = document.getElementById('dispatchModal');\n        \n        modal.style.display = \"none\";\n        \n       \n        $('.dispatchCompanyName').val('');\n        $('.deliveryPersonName').val('');\n        $('.deliveryPersonContact').val('');\n    }\n    \n    render(){\n        return( \n          <div className=\"col-lg-12\">\n            {\n              /*<div  id=\"dispatchDetails\" role=\"dialog\">\n              <div className=\"modal-dialog adminModal addressModal-dialog\" id=\"adminModal\">\n              <div className=\"modal-content adminModal-content col-lg-12 col-md-12  col-sm-12 col-xs-12 noPadding\">\n                  <div className=\"modal-header adminModal-header col-lg-12 col-md-12 col-sm-12 col-xs-12\">                                                                              \n                  <h4 className=\"WightFont textAlignCenter col-lg-11 col-md-11 col-sm-11 col-xs-11\">DISPATCH ORDER</h4>\n                  <div className=\"adminCloseCircleDiv pull-right  col-lg-1 col-md-1 col-sm-1 col-xs-12 NOpadding-left NOpadding-right\">\n                    <button type=\"button\" className=\"adminCloseButton\" data-dismiss=\"modal\" onClick={this.closeModal.bind(this)} >&times;</button>\n                  </div>\n                  </div>\n                  <div className=\"modal-body adminModal-body col-lg-12 col-md-12 col-sm-12 col-xs-12 NOpadding\">\n\n                  <form className=\"dispatchForm\" onSubmit={this.addDispatchDetails.bind(this)} id={this.props.orderId}>\n                      <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n                      \n                      <div className=\"row inputrow\">\n                          <div className=\"col-lg-8 col-md-8 col-sm-8 col-xs-12\">\n                          <div className=\"form-group\">\n                              <br/>\n                              <label>Business Associate</label><span className=\"astrick\">*</span>\n                              <div className=\"input-group\">\n                              <span className=\"input-group-addon\" id=\"basic-addon1\"><i className=\"fa fa-gg\" aria-hidden=\"true\"></i></span>\n                                <select className=\"form-control\" id=\"businessAssociate\">\n                                { this.props.baList && this.props.baList.length > 0 ?\n                                    this.props.baList.map( (data, index)=>{\n                                        return (\n                                          <option key={index} value={data.userID}>{data.companyName}{ data.locationDetails.length > 0 ?  ' ( '+ data.locationDetails[0].area +''+'-'+  data.locationDetails[0].pincode +' )' : ''}</option>\n                                        );\n                                      })\n                                      :\n                                      null\n                                }\n                                </select>\n                              \n                              </div>\n                          </div>\n                          </div>\n                      </div>\n                      <div className=\"row inputrow\">\n                          <div className=\"col-lg-8 col-md-8 col-sm-8 col-xs-12\">\n                          <div className=\"form-group\">\n                              <label>Expected Delivery Date</label><span className=\"astrick\">*</span>\n                              {\n                                \n                                <input name=\"expDeliveryDate\" type=\"date\" min={moment().format('YYYY-MM-DD')} className=\"expDeliveryDate form-control\" placeholder=\"\" aria-label=\"Brand\" aria-describedby=\"basic-addon1\" ref=\"expDeliveryDate\"  />\n                         \n                              }\n                               </div>\n                          </div>\n                      </div>\n                      </div>\n                      <div className=\"modal-footer adminModal-footer col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n                          <div className=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\n                            <button type=\"button\" className=\"btn adminCancel-btn col-lg-4 col-lg-offset-1 col-md-4 col-md-offset-1 col-sm-8 col-sm-offset-1 col-xs-10 col-xs-offset-1\" onClick={this.closeModal.bind(this)} data-dismiss=\"modal\">CANCEL</button>\n                          </div>\n                          <div className=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\n                              <input  type=\"submit\" className=\"btn adminFinish-btn col-lg-6 col-lg-offset-6 col-md-6 col-md-offset-6 col-sm-8 col-sm-offset-3 col-xs-10 col-xs-offset-1\" value=\"DISPATCH\" />\n                          </div>\n                      </div>\n                  </form>\n\n                  </div>\n                  <div className=\"modal-footer\">\n                      \n                    </div>\n                  </div>\n                </div>\n              </div>*/\n              \n                }  \n                {\n                <div className=\"modal-dialog adminModal addressModal-dialog\" id=\"adminModal\">\n                  <div className=\"modal-content\">\n                    <div className=\"modal-header adminModal-header col-lg-12 col-md-12 col-sm-12 col-xs-12\">                                                                              \n                      <h4 className=\"WightFont textAlignCenter col-lg-11 col-md-11 col-sm-11 col-xs-11\">DISPATCH ORDER</h4>\n                      <div className=\"adminCloseCircleDiv pull-right  col-lg-1 col-md-1 col-sm-1 col-xs-12 NOpadding-left NOpadding-right\">\n                        <button type=\"button\" className=\"adminCloseButton\" data-dismiss=\"modal\" onClick={this.closeModal.bind(this)} >&times;</button>\n                      </div>\n                    </div>\n                    <div className=\"modal-body\">\n                      <form className=\"dispatchForm\" onSubmit={this.addDispatchDetails.bind(this)} id={this.props.orderId}>\n                      <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n                      \n                      <div className=\"row inputrow\">\n                          <div className=\"col-lg-8 col-md-8 col-sm-8 col-xs-12\">\n                          <div className=\"form-group\">\n                              <br/>\n                              <label>Business Associate</label><span className=\"astrick\">*</span>\n                              <div className=\"input-group\">\n                              <span className=\"input-group-addon\" id=\"basic-addon1\"><i className=\"fa fa-gg\" aria-hidden=\"true\"></i></span>\n                                <select className=\"form-control\" id=\"businessAssociate\">\n                                { this.props.baList && this.props.baList.length > 0 ?\n                                    this.props.baList.map( (data, index)=>{\n                                        return (\n                                          <option key={index} value={data.userID}>{data.companyName}{ data.locationDetails.length > 0 ?  ' ( '+ data.locationDetails[0].area +''+'-'+  data.locationDetails[0].pincode +' )' : ''}</option>\n                                        );\n                                      })\n                                      :\n                                      null\n                                }\n                                </select>\n                              \n                              </div>\n                          </div>\n                          </div>\n                      </div>\n                      <div className=\"row inputrow\">\n                          <div className=\"col-lg-8 col-md-8 col-sm-8 col-xs-12\">\n                          <div className=\"form-group\">\n                              <label>Expected Delivery Date</label><span className=\"astrick\">*</span>\n                              {\n                                \n                                <input name=\"expDeliveryDate\" type=\"date\" min={moment().format('YYYY-MM-DD')} className=\"expDeliveryDate form-control\" placeholder=\"\" aria-label=\"Brand\" aria-describedby=\"basic-addon1\" ref=\"expDeliveryDate\"  />\n                         \n                              }\n                               </div>\n                          </div>\n                      </div>\n                      </div>\n                      <div className=\"modal-footer adminModal-footer col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n                          <div className=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\n                            <button type=\"button\" className=\"btn adminCancel-btn col-lg-4 col-lg-offset-1 col-md-4 col-md-offset-1 col-sm-8 col-sm-offset-1 col-xs-10 col-xs-offset-1\" onClick={this.closeModal.bind(this)} data-dismiss=\"modal\">CANCEL</button>\n                          </div>\n                          <div className=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\n                              <input  type=\"submit\" className=\"btn adminFinish-btn col-lg-6 col-lg-offset-6 col-md-6 col-md-offset-6 col-sm-8 col-sm-offset-3 col-xs-10 col-xs-offset-1\" value=\"DISPATCH\" />\n                          </div>\n                      </div>\n                  </form>\n                      <br/>\n                    </div>\n                    <div className=\"modal-footer\">\n                      \n                    </div>\n                  </div>\n                </div>\n              }\n            </div>\n        );\n    }\n}\n\nexport default dispatchModal\n"]},"metadata":{},"sourceType":"module"}