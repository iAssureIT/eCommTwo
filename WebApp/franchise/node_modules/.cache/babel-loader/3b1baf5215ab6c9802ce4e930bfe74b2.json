{"ast":null,"code":"var _jsxFileName = \"/home/iassureit/PriyaiAssureITWork/eCommTwo/WebApp/franchise/src/StoreManagement/orders/component/viewOrder.js\";\nimport React, { Component } from 'react';\nimport $ from 'jquery';\nimport axios from 'axios';\nimport moment from \"moment\";\nimport _ from 'underscore';\nimport '../css/viewOrder.css';\n\nclass viewOrder extends Component {\n  constructor(props) {\n    super(props);\n\n    if (!this.props.loading) {\n      this.state = {\n        \"orderData\": [],\n        companyInfo: [] // \"notificationData\" :Meteor.subscribe(\"notificationTemplate\"),\n\n      };\n    } else {\n      this.state = {\n        \"orderData\": [],\n        companyInfo: []\n      };\n    }\n\n    window.scrollTo(0, 0);\n  }\n\n  componentDidMount() {\n    console.log('orderID', this.props.match.params.orderID);\n    var orderID = this.props.match.params.orderID;\n    this.getOneOrder(orderID);\n    this.getCompanyDetails();\n  }\n\n  getOneOrder(orderID) {\n    axios.get(\"/api/orders/get/one/\" + orderID).then(response => {\n      this.setState({\n        orderData: response.data\n      });\n    }).catch(error => {\n      console.log('error', error);\n    });\n  }\n\n  getCompanyDetails() {\n    axios.get(\"/api/companysettings/list\").then(response => {\n      this.setState({\n        companyInfo: response.data[0]\n      });\n    }).catch(error => {\n      console.log('error', error);\n    });\n  }\n\n  componentWillUnmount() {\n    $(\"body\").find(\"script[src='/js/adminLte.js']\").remove();\n    if (this.basicPageTracker) this.basicPageTracker.stop();\n  }\n\n  isEmpty(obj) {\n    for (var key in obj) {\n      if (obj.hasOwnProperty(key)) return false;\n    }\n\n    return true;\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container-fluid\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"section\", {\n      className: \"content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-xs-12 col-sm-12 pageContent\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"backtoMyOrdersDiv\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      href: \"/allorders\",\n      className: \"backtoMyOrders\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      class: \"fa fa-chevron-circle-left\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 65\n      }\n    }), \" Back to Orders\")), /*#__PURE__*/React.createElement(\"h4\", {\n      className: \"table-caption\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 15\n      }\n    }, \"Order Details\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 15\n      }\n    }, \"Ordered on \", moment(this.state.orderData.createdAt).format(\"DD MMMM YYYY\"), \"  | Order \", this.state.orderData.orderID), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 outerbox\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-4 col-md-4 col-sm-4 col-xs-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      class: \"box-title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 23\n      }\n    }, \"Shipping Address\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"box-content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 19\n      }\n    }, this.state.orderData.deliveryAddress && this.state.orderData.deliveryAddress.name, \" \", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 106\n      }\n    }), this.state.orderData.deliveryAddress && this.state.orderData.deliveryAddress.addressLine1, \" \", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 114\n      }\n    }), this.state.orderData.deliveryAddress && this.state.orderData.deliveryAddress.addressLine2, \" \", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 114\n      }\n    }), this.state.orderData.deliveryAddress && this.state.orderData.deliveryAddress.district + ', ' + this.state.orderData.deliveryAddress.state + ', ' + this.state.orderData.deliveryAddress.pincode, \" \", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 216\n      }\n    }), this.state.orderData.deliveryAddress && this.state.orderData.deliveryAddress.country, \" \", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 109\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-4 col-md-4 col-sm-4 col-xs-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      class: \"box-title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 21\n      }\n    }, \"Payment Method\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"box-content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 19\n      }\n    }, this.state.orderData.paymentMethod)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-3 col-md-3 col-sm-3 col-xs-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      class: \"box-title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 21\n      }\n    }, \"Order Summary\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"box-content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-6 col-md-6 col-sm-6 col-xs-6 NOpadding\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 86\n      }\n    }, \"Subtotal:\"), \"  \"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-6 col-md-6 col-sm-6 col-xs-6 NOpadding text-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 97\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fa fa-\" + this.state.orderData.currency,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 103\n      }\n    }, \" \", this.state.orderData.cartTotal)), \" \")), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-6 col-md-6 col-sm-6 col-xs-6 NOpadding\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 86\n      }\n    }, \"Shipping:  \")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-6 col-md-6 col-sm-6 col-xs-6 NOpadding text-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 97\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fa fa-\" + this.state.orderData.currency,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 103\n      }\n    }, \" 0\")), \" \")), this.state.companyInfo ? /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 47\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-6 col-md-6 col-sm-6 col-xs-6 NOpadding\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 84\n      }\n    }, \"GST (\", this.state.companyInfo.taxSettings && this.state.companyInfo.taxSettings[0].taxRating, \" %):  \")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-6 col-md-6 col-sm-6 col-xs-6 NOpadding text-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fa fa-\" + this.state.orderData.currency,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 29\n      }\n    }, \" \", this.state.orderData.cartTotal * 18 / 100, \" \")))) : null, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-6 col-md-6 col-sm-6 col-xs-6 NOpadding\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 86\n      }\n    }, \"Total: \")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-6 col-md-6 col-sm-6 col-xs-6 NOpadding text-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fa fa-\" + this.state.orderData.currency,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 31\n      }\n    }, \" \", parseInt(this.state.orderData.total).toFixed(2)))))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 outerbox\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 15\n      }\n    }, this.state.orderData.products && this.state.orderData.products.length > 0 ? this.state.orderData.products.map((data, index) => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n        style: {\n          marginBottom: \"10px\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-lg-2 col-md-2 col-sm-2 col-xs-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: data.productImage[0],\n        style: {\n          width: \"100%\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 31\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-lg-6 col-md-6 col-sm-6 col-xs-6\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 31\n        }\n      }, \" \", /*#__PURE__*/React.createElement(\"a\", {\n        href: \"/productdetails/\" + data.product_ID,\n        className: \"productname\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 35\n        }\n      }, data.productName)), /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 31\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"fa fa-inr\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 37\n        }\n      }), \"\\xA0\", data.discountedPrice), \" \\xA0\", /*#__PURE__*/React.createElement(\"span\", {\n        className: \"oldprice\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 31\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"fa fa-inr oldprice\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 58\n        }\n      }), \"\\xA0\", data.originalPrice), /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 31\n        }\n      }, \"Total: \\xA0\", /*#__PURE__*/React.createElement(\"i\", {\n        className: \"fa fa-\" + this.state.orderData.currency,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 47\n        }\n      }, \" \", data.total)), /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 31\n        }\n      }, \"Quantity: \", data.quantity)));\n    }) : null), /*#__PURE__*/React.createElement(\"hr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 15\n      }\n    }))));\n  }\n\n}\n\nexport default viewOrder;","map":{"version":3,"sources":["/home/iassureit/PriyaiAssureITWork/eCommTwo/WebApp/franchise/src/StoreManagement/orders/component/viewOrder.js"],"names":["React","Component","$","axios","moment","_","viewOrder","constructor","props","loading","state","companyInfo","window","scrollTo","componentDidMount","console","log","match","params","orderID","getOneOrder","getCompanyDetails","get","then","response","setState","orderData","data","catch","error","componentWillUnmount","find","remove","basicPageTracker","stop","isEmpty","obj","key","hasOwnProperty","render","createdAt","format","deliveryAddress","name","addressLine1","addressLine2","district","pincode","country","paymentMethod","currency","cartTotal","taxSettings","taxRating","parseInt","total","toFixed","products","length","map","index","marginBottom","productImage","width","product_ID","productName","discountedPrice","originalPrice","quantity"],"mappings":"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","sourcesContent":["import React, { Component }   from 'react';\nimport $                      from 'jquery';\nimport axios                  from 'axios';\nimport moment                 from \"moment\";\nimport _                      from 'underscore';\nimport '../css/viewOrder.css';\n\nclass viewOrder extends Component{\n    constructor(props) {\n        super(props);\n\n        if(!this.props.loading){\n            this.state = {\n                \"orderData\":[],\n                companyInfo:[]\n                // \"notificationData\" :Meteor.subscribe(\"notificationTemplate\"),\n            };\n        } else{\n            this.state = {\n                \"orderData\":[],\n                companyInfo:[]\n            };\n        }\n        window.scrollTo(0, 0);\n    }\n\n    componentDidMount() {\n      console.log('orderID',this.props.match.params.orderID);\n      var orderID = this.props.match.params.orderID;\n      this.getOneOrder(orderID);\n      this.getCompanyDetails(); \n    }\n    getOneOrder(orderID){\n      axios.get(\"/api/orders/get/one/\"+orderID)\n            .then((response)=>{\n              this.setState({\n                  orderData : response.data\n              })\n            })\n            .catch((error)=>{\n                console.log('error', error);\n            })\n    }\n    getCompanyDetails() {\n        \n        axios.get(\"/api/companysettings/list\")\n            .then((response) => {\n\n                this.setState({\n                    companyInfo: response.data[0]\n                })\n            })\n            .catch((error) => {\n                console.log('error', error);\n            })\n    }\n    componentWillUnmount() {\n        $(\"body\").find(\"script[src='/js/adminLte.js']\").remove();\n        if(this.basicPageTracker)\n          this.basicPageTracker.stop();\n    }\n\n    \n    \n    isEmpty(obj) {\n      for(var key in obj) {\n          if(obj.hasOwnProperty(key))\n              return false;\n      }\n      return true;\n    }\n    render(){\n      \n        return(         \n        <div className=\"container-fluid\">\n          <section className=\"content\">\n          <div className=\"col-lg-12 col-md-12 col-xs-12 col-sm-12 pageContent\">\n            <br/>\n            <br/>\n            <div className=\"backtoMyOrdersDiv\">\n                <a href=\"/allorders\" className=\"backtoMyOrders\"><i class=\"fa fa-chevron-circle-left\"></i> Back to Orders</a>\n              </div>\n              <h4 className=\"table-caption\">Order Details</h4>\n\n              <p>Ordered on {moment(this.state.orderData.createdAt).format(\"DD MMMM YYYY\")}  | Order {this.state.orderData.orderID}</p>\n              <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 outerbox\">\n                <div className=\"col-lg-4 col-md-4 col-sm-4 col-xs-4\">\n                  <strong class=\"box-title\">\n                      <span>Shipping Address</span>\n                  </strong>\n                  <div className=\"box-content\"> \n                   { this.state.orderData.deliveryAddress && this.state.orderData.deliveryAddress.name } <br/>\n                   { this.state.orderData.deliveryAddress && this.state.orderData.deliveryAddress.addressLine1 } <br/>\n                   { this.state.orderData.deliveryAddress && this.state.orderData.deliveryAddress.addressLine2 } <br/>\n                   { this.state.orderData.deliveryAddress && this.state.orderData.deliveryAddress.district + ', ' +  this.state.orderData.deliveryAddress.state +', ' + this.state.orderData.deliveryAddress.pincode } <br/>\n                   { this.state.orderData.deliveryAddress && this.state.orderData.deliveryAddress.country } <br/>\n                  </div>\n                </div>\n                <div className=\"col-lg-4 col-md-4 col-sm-4 col-xs-6\">\n                  <strong class=\"box-title\">\n                    <span>Payment Method</span>\n                  </strong>\n                  <div className=\"box-content\">\n                  {\n                    this.state.orderData.paymentMethod\n                  }\n                  </div>\n                </div>\n                <div className=\"col-lg-3 col-md-3 col-sm-3 col-xs-6\">\n                  <strong class=\"box-title\">\n                    <span>Order Summary</span>\n                  </strong>\n                  <div className=\"box-content\"> \n                    <div>\n                      <div className=\"col-lg-6 col-md-6 col-sm-6 col-xs-6 NOpadding\"><span>Subtotal:</span>  </div>\n                      <div className=\"col-lg-6 col-md-6 col-sm-6 col-xs-6 NOpadding text-right\"><span><i className={\"fa fa-\"+this.state.orderData.currency}> {this.state.orderData.cartTotal}</i></span> </div> \n                    </div>\n                    <div>\n                      <div className=\"col-lg-6 col-md-6 col-sm-6 col-xs-6 NOpadding\"><span>Shipping:  </span></div>\n                      <div className=\"col-lg-6 col-md-6 col-sm-6 col-xs-6 NOpadding text-right\"><span><i className={\"fa fa-\"+this.state.orderData.currency}> 0</i></span> </div>\n                    </div>\n                    {this.state.companyInfo ? <div>\n                    <div className=\"col-lg-6 col-md-6 col-sm-6 col-xs-6 NOpadding\"><span>GST ({ this.state.companyInfo.taxSettings && this.state.companyInfo.taxSettings[0].taxRating} %):  </span></div>\n                      <div className=\"col-lg-6 col-md-6 col-sm-6 col-xs-6 NOpadding text-right\">\n                      <span><i className={\"fa fa-\"+this.state.orderData.currency}> { (this.state.orderData.cartTotal*18)/100 } </i></span> \n                      </div>\n                    </div> : \n                      null\n                    }\n\n                    {/* <div>\n                    <div className=\"col-lg-6 col-md-6 col-sm-6 col-xs-6 NOpadding\"><span>GST ({ this.state.companyInfo.taxSettings && this.state.companyInfo.taxSettings[0].taxRating} %):  </span></div>\n                      <div className=\"col-lg-6 col-md-6 col-sm-6 col-xs-6 NOpadding text-right\">\n                      <span><i className={\"fa fa-\"+this.state.orderData.currency}> { (this.state.orderData.cartTotal*18)/100 } </i></span> \n                      </div>\n                    </div> */}\n                    <div>\n                      <div className=\"col-lg-6 col-md-6 col-sm-6 col-xs-6 NOpadding\"><span>Total: </span></div>\n                      <div className=\"col-lg-6 col-md-6 col-sm-6 col-xs-6 NOpadding text-right\">\n                        <span><i className={\"fa fa-\"+this.state.orderData.currency}> { parseInt(this.state.orderData.total).toFixed(2) }</i></span>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n               \n              </div>\n\n              <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 outerbox\">\n\n              {\n                this.state.orderData.products && this.state.orderData.products.length > 0 ?\n                      this.state.orderData.products.map((data, index)=>{\n                        return(\n                          <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\" style={{marginBottom:\"10px\"}}>\n                            <div className=\"col-lg-2 col-md-2 col-sm-2 col-xs-3\">\n                              <img src={data.productImage[0]} style={{width:\"100%\"}}/>\n                            </div>\n                            <div className=\"col-lg-6 col-md-6 col-sm-6 col-xs-6\">\n\n                              <p> <a href={\"/productdetails/\"+data.product_ID} className=\"productname\">{data.productName}</a></p>\n                              <span><i className=\"fa fa-inr\"></i>&nbsp;{data.discountedPrice}</span> &nbsp;\n                              <span className=\"oldprice\"><i className=\"fa fa-inr oldprice\"></i>&nbsp;{data.originalPrice}</span> \n                                              \n                              <p>Total: &nbsp;<i className={\"fa fa-\"+this.state.orderData.currency}> {data.total}</i></p>\n                              <p>Quantity: {data.quantity}</p>\n                            </div>\n                          </div>\n                          );\n                      })\n                      : null\n               }\n                \n              </div>\n              \n              \n              <hr/>\n             \n          </div>\n          </section>\n        </div>\n\n        );\n    }\n}\n\nexport default viewOrder\n"]},"metadata":{},"sourceType":"module"}