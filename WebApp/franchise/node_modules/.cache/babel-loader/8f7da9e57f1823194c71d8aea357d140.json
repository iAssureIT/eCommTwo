{"ast":null,"code":"var _jsxFileName = \"/home/iassureit/PriyaiAssureITWork/eCommTwo/WebApp/franchise/src/coreadmin/Master/TwoFieldForm/TwoFieldForm.js\";\nimport React, { Component } from 'react';\nimport $ from 'jquery';\nimport jQuery from 'jquery';\nimport axios from 'axios';\nimport swal from 'sweetalert';\nimport _ from 'underscore';\nimport IAssureTable from '../../IAssureTable/IAssureTable.jsx';\nimport { withRouter } from 'react-router-dom'; // import DocumentEntityMaster     from '../../../projectadmin/DocumentRequiredfor/DocumentEntityMaster.js';\n\nimport OneFieldForm from '../OneFieldForm/OneFieldForm.js';\nimport BulkUpload from \"../BulkUpload/BulkUpload.js\";\nimport PlacesAutocomplete, { geocodeByAddress, getLatLng } from \"react-places-autocomplete\";\nimport './TwoFieldForm.css';\n\nclass TwoFieldForm extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChangePlaces = address => {\n      var array = {\n        attributeName: address\n      };\n      this.setState({\n        attributeName: address,\n        tripArray: array\n      });\n    };\n\n    this.handleSelectLocation = address => {\n      console.log(address);\n      geocodeByAddress(address).then(results => {\n        for (var i = 0; i < results[0].address_components.length; i++) {\n          for (var b = 0; b < results[0].address_components[i].types.length; b++) {\n            switch (results[0].address_components[i].types[b]) {\n              case 'sublocality_level_1':\n                var area = results[0].address_components[i].long_name;\n                break;\n\n              case 'sublocality_level_2':\n                var area = results[0].address_components[i].long_name;\n                break;\n\n              case 'locality':\n                var city = results[0].address_components[i].long_name;\n                break;\n\n              case 'administrative_area_level_1':\n                var state = results[0].address_components[i].long_name;\n                break;\n\n              case 'country':\n                var country = results[0].address_components[i].long_name;\n                break;\n\n              case 'postal_code':\n                var pincode = results[0].address_components[i].long_name;\n                break;\n            }\n          }\n        }\n      }).catch(error => console.error('Error', error));\n      geocodeByAddress(address).then(results => getLatLng(results[0])).then(latLng => this.setState({\n        'fromLatLng': latLng\n      })).catch(error => console.error('Error', error));\n      var array = {\n        attributeName: address\n      };\n      console.log(\"address\", address);\n      this.setState({\n        attributeName: address ? address.split(\",\")[0] : \"\",\n        tripArray: array\n      });\n    };\n\n    this.state = {\n      \"user_ID\": \"\",\n      \"secondField\": \"\",\n      \"secondFieldData\": [],\n      \"selectedIndex\": \"\",\n      \"startRange\": 0,\n      \"limitRange\": 10000,\n      \"editId\": ''\n    };\n  }\n\n  componentDidMount() {\n    console.log(\"props two field form = \", this.props); // console.log(\"this.props.oneTableObjects two form field oneeditId = \", this.props.oneeditId);\n\n    const user_ID = localStorage.getItem(\"user_ID\");\n    this.setState({\n      user_ID: user_ID\n    });\n    this.getData(this.state.startRange, this.state.limitRange);\n    this.getSecondFieldData(this.state.startRange, this.state.limitRange);\n    $.validator.addMethod(\"regxonefield\", function (value, element, regexpr) {\n      return regexpr.test(value);\n    }, \"Please enter valid field value\");\n    jQuery.validator.setDefaults({\n      debug: true,\n      success: \"valid\"\n    });\n    $(\"#twoFieldFormValid\").validate({\n      rules: {\n        selectField: {\n          required: true\n        },\n        textFieldOne: {\n          regxonefield: /^[-a-zA-Z0-9-()]+(\\s+[-a-zA-Z0-9-()]+)*$/,\n          required: true\n        }\n      },\n      errorPlacement: function (error, element) {\n        // console.log(\"element\",element);\n        if (element.attr(\"data_name\") === \"selectField\") {\n          error.insertAfter(\"#selectField\");\n        }\n\n        if (element.attr(\"name\") === \"attributeName\") {\n          error.insertAfter(\"#textFieldOne\");\n        }\n      }\n    });\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.editId) {\n      this.edit(nextProps.editId); // console.log(\"nextProps\",nextProps)\n    } else {\n      this.setState({\n        attributeName: \"\",\n        [this.props.fields.secondAttributeName]: \"-- Select --\"\n      }); // console.log(\"nextProps\",nextProps)\n    }\n  }\n\n  handleChange(event) {\n    event.preventDefault();\n    const target = event.target;\n    const name = target.name;\n    this.setState({\n      attributeName: event.target.value\n    });\n  }\n\n  handleSelect(event) {\n    event.preventDefault();\n    const target = event.target;\n    var index = event.target.selectedIndex;\n    const id = event.target.options[index].id;\n    const name = target.name;\n    this.setState({\n      [name]: event.target.value,\n      \"selectedIndex\": id\n    }, () => {\n      console.log(\"selectedIndex = \", this.state.selectedIndex);\n    });\n  }\n\n  submitType(event) {\n    event.preventDefault();\n    var formValues = {\n      \"dropdownID\": this.state.selectedIndex,\n      \"fieldValue\": this.state.attributeName,\n      \"createdBy\": this.state.user_ID\n    };\n\n    if ($('#twoFieldFormValid').valid()) {\n      var postapiurl = this.props.tableObjects.apiLink + \"post\"; // console.log(\"postapiurl = \", postapiurl);\n\n      axios.post(postapiurl, formValues).then(response => {\n        console.log(\"response = \", response.data);\n\n        if (response.data.created) {\n          swal(\" \", this.state.attributeName + \" submitted Successfully\");\n          this.getData(this.state.startRange, this.state.limitRange);\n          this.setState({\n            attributeName: \"\",\n            [this.props.fields.secondAttributeName]: \"-- Select --\"\n          });\n        } else {\n          swal(\" \", this.state.attributeName + \" already exist\");\n        }\n      }).catch(error => {\n        console.log(\"Error in Post API of Two field = \", error);\n      });\n    }\n  }\n\n  updateType(event) {\n    event.preventDefault();\n    console.log(\"In Update two field this.props = \", this.props);\n    var formValues = {\n      \"fieldID\": this.state.fieldId,\n      \"dropdownID\": this.state.selectedIndex,\n      \"fieldValue\": this.state.attributeName\n    };\n    console.log(\"In Update two field formValues = \", formValues);\n\n    if ($('#twoFieldFormValid').valid()) {\n      axios.patch(this.props.tableObjects.apiLink + 'patch', formValues).then(response => {\n        this.setState({\n          attributeName: \"\",\n          editId: \"\",\n          [this.props.fields.secondAttributeName]: \"-- Select --\"\n        }, () => {\n          // console.log(\"Here\")\n          if (!this.state.editId) {\n            // this.props.history.push(this.props.tableObjects.editUrl);\n            this.setState({\n              attributeName: \"\",\n              [this.props.fields.secondAttributeName]: \"-- Select --\"\n            });\n          }\n\n          swal(\" \", \"Record updated Successfully\");\n        });\n        this.getData(this.state.startRange, this.state.limitRange);\n        swal(\" \", response.data.message);\n      }).catch(error => {});\n    }\n  }\n\n  getDataCount() {\n    axios.get('/api/vendorLocationType/get/count').then(response => {\n      this.setState({\n        dataCount: response.data.dataCount\n      });\n    }).catch(error => {});\n  }\n\n  getData(startRange, limitRange) {\n    var data = {\n      startRange: startRange,\n      limitRange: limitRange\n    };\n    axios.post(this.props.tableObjects.apiLink + 'get/list', data).then(response => {\n      // console.log(\"response---\",response);\n      this.setState({\n        tableData: response.data\n      });\n    }).catch(error => {});\n  }\n\n  getSecondFieldData(startRange, limitRange) {\n    var data = {\n      startRange: startRange,\n      limitRange: limitRange\n    };\n    axios.post(this.props.tableObjects.apiLink2 + 'get/list', data).then(response => {\n      this.setState({\n        secondFieldData: response.data,\n        secondFieldId: response.data._id\n      });\n    }).catch(error => {});\n  }\n\n  edit(id) {\n    var fieldName = this.props.fields.attributeName;\n    var secondAttributeId = this.props.fields.secondAttributeId;\n    var secondAttributeName = this.props.fields.secondAttributeName;\n    axios.get(this.props.tableObjects.apiLink + 'get/one/' + id).then(response => {\n      if (response.data) {\n        axios.get(this.props.tableObjects.apiLink2 + 'get/one/' + response.data[secondAttributeId]).then(response => {\n          if (response.data) {\n            this.setState({\n              [this.props.fields.secondAttributeName]: response.data[this.props.fields.secondAttributeName],\n              \"selectedIndex\": response.data._id\n            });\n          }\n        }).catch(error => {});\n        this.setState({\n          \"attributeName\": response.data[fieldName],\n          \"fieldId\": response.data._id\n        });\n      }\n    }).catch(error => {});\n  }\n\n  render() {\n    const searchOptions = {\n      types: ['(cities)'],\n      componentRestrictions: {\n        country: \"in\"\n      }\n    };\n    var bulkReq = this.props.bulkRequired ? true : false;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 300,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"box-header with-border col-lg-12 col-md-12 col-xs-12 col-sm-12 NOpadding-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 301,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      className: \"weighttitle col-lg-9 col-md-9 col-xs-12 col-sm-12 NOpadding-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 302,\n        columnNumber: 21\n      }\n    }, this.props.fields.title === \"Location Type\" ? this.props.fields.title + \"s\" : this.props.fields.title, \" \"), this.props.twofieldBulkRequired ? /*#__PURE__*/React.createElement(\"ul\", {\n      className: \"nav tabNav nav-pills col-lg-3 col-md-3 col-sm-12 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 305,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"li\", {\n      className: \"active col-lg-5 col-md-5 col-xs-5 col-sm-5 NOpadding text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 306,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      className: \"fieldTab\",\n      \"data-toggle\": \"tab\",\n      href: \".manual\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 307,\n        columnNumber: 37\n      }\n    }, \"Manual\")), /*#__PURE__*/React.createElement(\"li\", {\n      className: \"col-lg-6 col-md-6 col-xs-6 col-sm-6 NOpadding  text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 309,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      className: \"fieldTab\",\n      \"data-toggle\": \"tab\",\n      href: \".bulk\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 310,\n        columnNumber: 37\n      }\n    }, \"Bulk Upload\"))) : null), this.props.oneFields ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"modal\",\n      id: \"addOneField\",\n      role: \"dialog\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 319,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"adminModal adminModal-dialog marginTopModal col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 320,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"modal-content adminModal-content col-lg-8 col-lg-offset-2 col-md-6 col-md-offset-3 col-sm-10 col-sm-offset-1 col-xs-12 noPadding\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 321,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"modal-header adminModal-header col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 322,\n        columnNumber: 31\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"adminCloseCircleDiv pull-right  col-lg-1 col-lg-offset-11 col-md-1 col-md-offset-11 col-sm-1 col-sm-offset-11 col-xs-12 NOpadding-left NOpadding-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 323,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      className: \"adminCloseButton\",\n      \"data-dismiss\": \"modal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 324,\n        columnNumber: 37\n      }\n    }, \"\\xD7\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"modal-body adminModal-body OneFieldModal col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 327,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(OneFieldForm, {\n      fields: this.props.oneFields,\n      tableHeading: this.props.oneTableHeading,\n      tableObjects: this.props.oneTableObjects,\n      editId: this.props.oneeditId,\n      getSecondFieldData: this.getSecondFieldData.bind(this),\n      bulkRequired: bulkReq,\n      masterFieldForm: true,\n      url: this.props.onefieldurl,\n      fileurl: this.props.onefieldfileurl,\n      data: this.props.data,\n      uploadedData: this.props.oneFielduploadedData,\n      getFileDetails: this.props.getOneFieldFileDetails,\n      fileDetails: this.props.oneFieldfileDetails,\n      goodRecordsHeading: this.props.oneFieldgoodRecordsHeading,\n      failedtableHeading: this.props.oneFieldfailedtableHeading,\n      failedRecordsTable: this.props.oneFieldfailedRecordsTable,\n      failedRecordsCount: this.props.oneFieldfailedRecordsCount,\n      goodRecordsTable: this.props.oneFieldgoodRecordsTable,\n      goodDataCount: this.props.oneFieldgoodDataCount // history={this.props.history}\n      ,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 328,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"modal-footer adminModal-footer col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 351,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-6 col-md-6 col-sm-6 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 352,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      className: \"btn adminCancel-btn col-lg-7 col-lg-offset-1 col-md-4 col-md-offset-1 col-sm-8 col-sm-offset-1 col-xs-10 col-xs-offset-1\",\n      \"data-dismiss\": \"modal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 353,\n        columnNumber: 37\n      }\n    }, \"CANCEL\")))))) : null, /*#__PURE__*/React.createElement(\"section\", {\n      className: \"Content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 361,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row tab-content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 362,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      id: \"manual\",\n      className: \"tab-pane fade in manual active mt\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 363,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      id: \"twoFieldFormValid\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 364,\n        columnNumber: 29\n      }\n    }, this.props.oneFields ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-margin form-group col-lg-6 col-md-6 col-sm-12 col-xs-12 pdcls\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 367,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"labelform col-lg-12 col-md-12 col-sm-12 col-xs-12 NOpadding-left\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 368,\n        columnNumber: 45\n      }\n    }, this.props.fields.secondtitle, \" \", /*#__PURE__*/React.createElement(\"i\", {\n      className: \"astrick\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 368,\n        columnNumber: 161\n      }\n    }, \"*\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group\",\n      id: \"selectField\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 369,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"select\", {\n      className: \"addonDiv col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      value: this.state[this.props.fields.secondAttributeName],\n      data_name: \"selectField\",\n      name: this.props.fields.secondAttributeName,\n      onChange: this.handleSelect.bind(this),\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 370,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      selected: true,\n      disabled: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 371,\n        columnNumber: 53\n      }\n    }, \"-- Select --\"), this.state.secondFieldData && this.state.secondFieldData.length > 0 ? this.state.secondFieldData.map((data, index) => {\n      return /*#__PURE__*/React.createElement(\"option\", {\n        key: index,\n        id: data._id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 376,\n          columnNumber: 61\n        }\n      }, data[this.props.fields.secondAttributeName]);\n    }) : null), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group-addon inputIcon plusIconBooking\",\n      \"data-toggle\": \"modal\",\n      \"data-target\": \"#addOneField\",\n      title: \"Add \" + this.props.fields.secondtitle,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 384,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fa fa-plus \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 384,\n        columnNumber: 204\n      }\n    })))) : /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-margin form-group col-lg-6 col-md-6 col-sm-12 col-xs-12 pdcls\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 390,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\",\n      id: \"selectField\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 391,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"labelform col-lg-12 col-md-12 col-sm-12 col-xs-12 NOpadding-left\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 392,\n        columnNumber: 45\n      }\n    }, this.props.fields.secondtitle, \" \", /*#__PURE__*/React.createElement(\"i\", {\n      className: \"astrick\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 392,\n        columnNumber: 161\n      }\n    }, \"*\")), /*#__PURE__*/React.createElement(\"select\", {\n      className: \"addonDiv col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      value: this.state[this.props.fields.secondAttributeName],\n      data_name: \"selectField\",\n      name: this.props.fields.secondAttributeName,\n      onChange: this.handleSelect.bind(this),\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 393,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      selected: true,\n      disabled: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 394,\n        columnNumber: 49\n      }\n    }, \"-- Select --\"), this.state.secondFieldData && this.state.secondFieldData.length > 0 ? this.state.secondFieldData.map((data, index) => {\n      return /*#__PURE__*/React.createElement(\"option\", {\n        key: index,\n        id: data._id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 399,\n          columnNumber: 57\n        }\n      }, data[this.props.fields.secondAttributeName]);\n    }) : null))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-margin col-lg-6  col-md-6 col-sm-12 col-xs-12 pdcls\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 411,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      id: \"textFieldOne\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 412,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"labelform col-lg-12 col-md-12 col-sm-12 col-xs-12 NOpadding-left\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 413,\n        columnNumber: 41\n      }\n    }, this.props.fields.title, \" \", /*#__PURE__*/React.createElement(\"i\", {\n      className: \"astrick\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 413,\n        columnNumber: 151\n      }\n    }, \"*\")), this.props.fields.secondtitle == \"City Name\" ? /*#__PURE__*/React.createElement(PlacesAutocomplete, {\n      value: this.state.attributeName,\n      onChange: this.handleChangePlaces,\n      onSelect: this.handleSelectLocation,\n      searchOptions: searchOptions,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 415,\n        columnNumber: 57\n      }\n    }, ({\n      getInputProps,\n      suggestions,\n      getSuggestionItemProps,\n      loading\n    }) => /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 423,\n        columnNumber: 63\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", Object.assign({}, getInputProps({\n      placeholder: 'Search cities ...',\n      className: 'location-search-input col-lg-12 form-control'\n    }), {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 424,\n        columnNumber: 65\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"autocomplete-dropdown-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 430,\n        columnNumber: 65\n      }\n    }, loading && /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 431,\n        columnNumber: 79\n      }\n    }, \"Loading...\"), suggestions.map(suggestion => {\n      const className = suggestion.active ? 'suggestion-item--active' : 'suggestion-item'; // inline style for demonstration purpose\n\n      const style = suggestion.active ? {\n        backgroundColor: '#fafafa',\n        cursor: 'pointer'\n      } : {\n        backgroundColor: '#ffffff',\n        cursor: 'pointer'\n      };\n      return /*#__PURE__*/React.createElement(\"div\", Object.assign({}, getSuggestionItemProps(suggestion, {\n        className,\n        style\n      }), {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 441,\n          columnNumber: 71\n        }\n      }), /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 448,\n          columnNumber: 69\n        }\n      }, suggestion.description ? suggestion.description.split(\",\")[0] : \"\"));\n    })))) : /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      value: this.state.attributeName,\n      ref: this.props.fields.attributeName,\n      name: \"attributeName\",\n      onChange: this.handleChange.bind(this),\n      placeholder: this.props.fields.placeholder,\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 458,\n        columnNumber: 57\n      }\n    }))), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 462,\n        columnNumber: 33\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-margin col-lg-6 col-lg-offset-6 col-md-6 col-sm-12 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 463,\n        columnNumber: 33\n      }\n    }, this.props.editId ? /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.updateType.bind(this),\n      className: \"btn button3 pull-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 466,\n        columnNumber: 41\n      }\n    }, \"Update\") : /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.submitType.bind(this),\n      className: \"btn button3 pull-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 468,\n        columnNumber: 41\n      }\n    }, \"Submit\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"oneFieldTable col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 472,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(IAssureTable, {\n      tableHeading: this.props.tableHeading,\n      twoLevelHeader: this.state.twoLevelHeader,\n      dataCount: this.state.dataCount,\n      tableData: this.state.tableData,\n      getData: this.getData.bind(this),\n      tableObjects: this.props.tableObjects,\n      getSecondFieldData: this.getSecondFieldData.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 473,\n        columnNumber: 33\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"bulk\",\n      className: \"tab-pane fade in bulk col-lg-12 col-md-12 col-sm-12 col-xs-12 mt\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 484,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"outerForm\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 485,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(BulkUpload, {\n      url: this.props.url,\n      data: this.props.data,\n      uploadedData: this.props.uploadedData,\n      fileurl: this.props.twofieldfileurl,\n      getFileDetails: this.props.getTwoFieldFileDetails,\n      getData: this.getData.bind(this),\n      fileDetails: this.props.fileDetails,\n      goodRecordsHeading: this.props.goodRecordsHeading,\n      failedtableHeading: this.props.failedtableHeading,\n      failedRecordsTable: this.props.failedRecordsTable,\n      failedRecordsCount: this.props.failedRecordsCount,\n      goodRecordsTable: this.props.goodRecordsTable,\n      goodDataCount: this.props.goodDataCount,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 486,\n        columnNumber: 33\n      }\n    }))))));\n  }\n\n}\n\nexport default TwoFieldForm;","map":{"version":3,"sources":["/home/iassureit/PriyaiAssureITWork/eCommTwo/WebApp/franchise/src/coreadmin/Master/TwoFieldForm/TwoFieldForm.js"],"names":["React","Component","$","jQuery","axios","swal","_","IAssureTable","withRouter","OneFieldForm","BulkUpload","PlacesAutocomplete","geocodeByAddress","getLatLng","TwoFieldForm","constructor","props","handleChangePlaces","address","array","attributeName","setState","tripArray","handleSelectLocation","console","log","then","results","i","address_components","length","b","types","area","long_name","city","state","country","pincode","catch","error","latLng","split","componentDidMount","user_ID","localStorage","getItem","getData","startRange","limitRange","getSecondFieldData","validator","addMethod","value","element","regexpr","test","setDefaults","debug","success","validate","rules","selectField","required","textFieldOne","regxonefield","errorPlacement","attr","insertAfter","componentWillReceiveProps","nextProps","editId","edit","fields","secondAttributeName","handleChange","event","preventDefault","target","name","handleSelect","index","selectedIndex","id","options","submitType","formValues","valid","postapiurl","tableObjects","apiLink","post","response","data","created","updateType","fieldId","patch","message","getDataCount","get","dataCount","tableData","apiLink2","secondFieldData","secondFieldId","_id","fieldName","secondAttributeId","render","searchOptions","componentRestrictions","bulkReq","bulkRequired","title","twofieldBulkRequired","oneFields","oneTableHeading","oneTableObjects","oneeditId","bind","onefieldurl","onefieldfileurl","oneFielduploadedData","getOneFieldFileDetails","oneFieldfileDetails","oneFieldgoodRecordsHeading","oneFieldfailedtableHeading","oneFieldfailedRecordsTable","oneFieldfailedRecordsCount","oneFieldgoodRecordsTable","oneFieldgoodDataCount","secondtitle","map","getInputProps","suggestions","getSuggestionItemProps","loading","placeholder","className","suggestion","active","style","backgroundColor","cursor","description","tableHeading","twoLevelHeader","url","uploadedData","twofieldfileurl","getTwoFieldFileDetails","fileDetails","goodRecordsHeading","failedtableHeading","failedRecordsTable","failedRecordsCount","goodRecordsTable","goodDataCount"],"mappings":"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","sourcesContent":["import React, { Component }     from 'react';\nimport $                        from 'jquery';\nimport jQuery                   from 'jquery';\nimport axios                    from 'axios';\nimport swal                     from 'sweetalert';\nimport _                        from 'underscore';\nimport IAssureTable             from '../../IAssureTable/IAssureTable.jsx';\nimport { withRouter }           from 'react-router-dom';\n// import DocumentEntityMaster     from '../../../projectadmin/DocumentRequiredfor/DocumentEntityMaster.js';\nimport OneFieldForm             from '../OneFieldForm/OneFieldForm.js';\nimport BulkUpload               from \"../BulkUpload/BulkUpload.js\";\nimport PlacesAutocomplete, {\n  geocodeByAddress,\n  getLatLng\n} from \"react-places-autocomplete\";\n\nimport './TwoFieldForm.css'\n\nclass TwoFieldForm extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            \"user_ID\"              : \"\",\n            \"secondField\"          : \"\",\n            \"secondFieldData\"      : [], \n            \"selectedIndex\"        : \"\",\n            \"startRange\"           : 0,\n            \"limitRange\"           : 10000,\n             \"editId\"              :  ''\n        };\n    }\n    componentDidMount() {\n        console.log(\"props two field form = \", this.props);\n        // console.log(\"this.props.oneTableObjects two form field oneeditId = \", this.props.oneeditId);\n        const user_ID = localStorage.getItem(\"user_ID\")\n        this.setState({\n            user_ID : user_ID,\n        })\n        this.getData(this.state.startRange, this.state.limitRange);\n        this.getSecondFieldData(this.state.startRange, this.state.limitRange);\n        \n        $.validator.addMethod(\"regxonefield\", function (value, element, regexpr) {\n          return regexpr.test(value);\n        }, \"Please enter valid field value\");\n        \n        jQuery.validator.setDefaults({\n          debug: true,\n          success: \"valid\"\n        });\n        $(\"#twoFieldFormValid\").validate({\n        rules: {\n            selectField: {\n              required: true,\n            },\n            textFieldOne: {\n              regxonefield  :/^[-a-zA-Z0-9-()]+(\\s+[-a-zA-Z0-9-()]+)*$/,\n              required: true,\n            },\n        },\n        errorPlacement: function (error, element) {\n            // console.log(\"element\",element);\n            if (element.attr(\"data_name\") === \"selectField\") {\n              error.insertAfter(\"#selectField\");\n            }\n            if (element.attr(\"name\") === \"attributeName\") {\n              error.insertAfter(\"#textFieldOne\");\n            }\n          }\n        });\n    }\n   \n    componentWillReceiveProps(nextProps) {\n        if(nextProps.editId)\n        {\n            this.edit(nextProps.editId);\n            // console.log(\"nextProps\",nextProps)\n        }\n        else{\n            this.setState({\n                attributeName                              : \"\",\n                [this.props.fields.secondAttributeName]    : \"-- Select --\"\n            })\n            // console.log(\"nextProps\",nextProps)\n        }\n    }\n    handleChange(event) {\n        event.preventDefault();\n        const target = event.target;\n        const name = target.name;\n        this.setState({\n            attributeName : event.target.value\n        });\n    }\n    handleSelect(event){\n        event.preventDefault();\n        const target = event.target;\n        var index = event.target.selectedIndex\n        const id = event.target.options[index].id;\n\n        const name = target.name;\n        this.setState({\n            [name] : event.target.value,\n            \"selectedIndex\" : id,\n        },()=>{console.log(\"selectedIndex = \",this.state.selectedIndex);});\n    }\n    submitType(event) {\n        event.preventDefault();\n\n        var formValues ={ \n            \"dropdownID\"       : this.state.selectedIndex,\n            \"fieldValue\"       : this.state.attributeName,\n            \"createdBy\"        : this.state.user_ID\n        }\n     if ($('#twoFieldFormValid').valid()) {\n        var postapiurl = this.props.tableObjects.apiLink+\"post\";\n        // console.log(\"postapiurl = \", postapiurl);\n        axios.post(postapiurl, formValues)\n            .then((response) => {\n                console.log(\"response = \", response.data);\n\n                if (response.data.created) {\n                    swal(\" \",this.state.attributeName+\" submitted Successfully\");\n                    this.getData(this.state.startRange, this.state.limitRange);\n                    this.setState({\n                       attributeName    : \"\",\n                       [this.props.fields.secondAttributeName]            : \"-- Select --\"\n                     })\n\n                }else{\n                    swal(\" \",this.state.attributeName+\" already exist\");\n                }\n            })\n            .catch((error) => {\n                console.log(\"Error in Post API of Two field = \",error);\n            })\n     }      \n    }\n    updateType(event) {\n        event.preventDefault();\n        console.log(\"In Update two field this.props = \",this.props);\n        var formValues ={\n                \"fieldID\"       : this.state.fieldId,\n                \"dropdownID\"    : this.state.selectedIndex,\n                \"fieldValue\"    : this.state.attributeName,\n            }\n            console.log(\"In Update two field formValues = \",formValues);\n        if ($('#twoFieldFormValid').valid()) {\n            axios.patch(this.props.tableObjects.apiLink+'patch', formValues)\n                .then((response) => {\n                    this.setState({\n                        attributeName: \"\",\n                        editId: \"\",\n                        [this.props.fields.secondAttributeName]            : \"-- Select --\"\n                    },()=>{\n                    // console.log(\"Here\")\n                        if(!this.state.editId)\n                        {\n                            // this.props.history.push(this.props.tableObjects.editUrl);\n                            this.setState({\n                                attributeName                              : \"\",\n                                [this.props.fields.secondAttributeName]    : \"-- Select --\"\n                             })\n                        }\n                        swal(\" \",\"Record updated Successfully\");\n\n                    })\n\n                    this.getData(this.state.startRange, this.state.limitRange);\n                    swal(\" \",response.data.message);\n                })\n                .catch((error) => {\n                })\n        }       \n    }\n    getDataCount() {\n        axios.get('/api/vendorLocationType/get/count')\n            .then((response) => {\n                this.setState({\n                    dataCount: response.data.dataCount\n                })\n            })\n            .catch((error) => {\n                \n            });\n    }\n    getData(startRange, limitRange) {\n        var data = {\n            startRange: startRange,\n            limitRange: limitRange\n        }\n        axios.post(this.props.tableObjects.apiLink+'get/list', data)\n            .then((response) => {\n                // console.log(\"response---\",response);\n                this.setState({\n                    tableData: response.data\n                })\n            })\n            .catch((error) => {          \n            });\n    }\n    getSecondFieldData(startRange, limitRange) {\n        var data = {\n            startRange: startRange,\n            limitRange: limitRange\n        }\n        axios.post(this.props.tableObjects.apiLink2+'get/list', data)\n            .then((response) => {\n                this.setState({\n                    secondFieldData: response.data,\n                    secondFieldId: response.data._id\n                })\n            })\n            .catch((error) => {         \n            });\n    }\n    edit(id) {\n        var fieldName = this.props.fields.attributeName;\n        var secondAttributeId = this.props.fields.secondAttributeId;\n        var secondAttributeName = this.props.fields.secondAttributeName;\n\n        axios.get(this.props.tableObjects.apiLink+'get/one/' + id)\n            .then((response) => {\n                if (response.data) {\n                    axios.get(this.props.tableObjects.apiLink2+'get/one/' + response.data[secondAttributeId])\n                        .then((response) => {\n                           if (response.data) {\n                                this.setState({\n                                    [this.props.fields.secondAttributeName] : response.data[this.props.fields.secondAttributeName],\n                                    \"selectedIndex\"     : response.data._id\n                                });\n                            }\n                        })\n                    .catch((error) => {\n                    });\n                    this.setState({\n                        \"attributeName\"     : response.data[fieldName],\n                        \"fieldId\"           : response.data._id\n                    });\n                }\n            })\n        .catch((error) => {\n        });\n    }\n    handleChangePlaces = address => {\n      var array = {\n          attributeName    : address,\n       }\n    this.setState({ attributeName : address, tripArray : array });\n    };\n    handleSelectLocation = address => {\n        console.log(address)\n    geocodeByAddress(address)\n     .then((results) =>{ \n\n      for (var i = 0; i < results[0].address_components.length; i++) {\n          for (var b = 0; b < results[0].address_components[i].types.length; b++) {\n              switch (results[0].address_components[i].types[b]) {\n                  case 'sublocality_level_1':\n                      var area = results[0].address_components[i].long_name;\n                      break;\n                  case 'sublocality_level_2':\n                      var area = results[0].address_components[i].long_name;\n                      break;\n                  case 'locality':\n                      var city = results[0].address_components[i].long_name;\n                      break;\n                  case 'administrative_area_level_1':\n                      var state = results[0].address_components[i].long_name;\n                      break;\n                  case 'country':\n                     var country = results[0].address_components[i].long_name;\n                      break;\n                  case 'postal_code':\n                     var pincode = results[0].address_components[i].long_name;\n                      break;\n              }\n          }\n        }\n    })\n    .catch(error => console.error('Error', error));\n    geocodeByAddress(address)\n      .then(results => getLatLng(results[0]))\n      .then(latLng => this.setState({'fromLatLng': latLng}))\n      .catch(error => console.error('Error', error));\n      var array = {\n          attributeName    : address,\n        }\n        console.log(\"address\",address)\n      this.setState({ attributeName : address ? address.split(\",\")[0] :\"\" , tripArray : array });\n    };\n\n\n    render() {\n      const searchOptions = {\n          types: ['(cities)'],\n          componentRestrictions: {country: \"in\"}\n        }\n        var bulkReq = this.props.bulkRequired ? true : false \n        return (\n            <div className=\"row\">\n                <div className=\"box-header with-border col-lg-12 col-md-12 col-xs-12 col-sm-12 NOpadding-right\">\n                    <h4 className=\"weighttitle col-lg-9 col-md-9 col-xs-12 col-sm-12 NOpadding-right\">{this.props.fields.title === \"Location Type\"? this.props.fields.title+\"s\" : this.props.fields.title } </h4>\n                    {\n                        this.props.twofieldBulkRequired ?\n                            <ul className=\"nav tabNav nav-pills col-lg-3 col-md-3 col-sm-12 col-xs-12\">\n                                <li className=\"active col-lg-5 col-md-5 col-xs-5 col-sm-5 NOpadding text-center\">\n                                    <a className=\"fieldTab\" data-toggle=\"tab\" href=\".manual\">Manual</a>\n                                </li>\n                                <li className=\"col-lg-6 col-md-6 col-xs-6 col-sm-6 NOpadding  text-center\">\n                                    <a className=\"fieldTab\" data-toggle=\"tab\" href=\".bulk\">Bulk Upload</a>\n                                </li>\n                            </ul>\n                        : null \n                    }\n                </div>\n                {   \n                    this.props.oneFields ?  \n\n                        <div className=\"modal\" id=\"addOneField\" role=\"dialog\">\n                          <div className=\"adminModal adminModal-dialog marginTopModal col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n                            <div className=\"modal-content adminModal-content col-lg-8 col-lg-offset-2 col-md-6 col-md-offset-3 col-sm-10 col-sm-offset-1 col-xs-12 noPadding\">\n                              <div className=\"modal-header adminModal-header col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n                                <div className=\"adminCloseCircleDiv pull-right  col-lg-1 col-lg-offset-11 col-md-1 col-md-offset-11 col-sm-1 col-sm-offset-11 col-xs-12 NOpadding-left NOpadding-right\">\n                                    <button type=\"button\" className=\"adminCloseButton\" data-dismiss=\"modal\" >&times;</button>\n                               </div>\n                              </div>\n                            <div className=\"modal-body adminModal-body OneFieldModal col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n                                <OneFieldForm fields={this.props.oneFields}\n                                    tableHeading={this.props.oneTableHeading}\n                                    tableObjects={this.props.oneTableObjects}\n                                    editId ={this.props.oneeditId}\n                                    getSecondFieldData={this.getSecondFieldData.bind(this)}\n                                    bulkRequired = {bulkReq}\n                                    masterFieldForm = {true}\n\n                                    url ={this.props.onefieldurl}\n                                    fileurl ={this.props.onefieldfileurl}\n                                    data ={this.props.data}\n                                    uploadedData ={this.props.oneFielduploadedData}\n                                    getFileDetails ={this.props.getOneFieldFileDetails}\n                                    fileDetails ={this.props.oneFieldfileDetails}\n                                    goodRecordsHeading ={this.props.oneFieldgoodRecordsHeading}\n                                    failedtableHeading ={this.props.oneFieldfailedtableHeading}\n                                    failedRecordsTable ={this.props.oneFieldfailedRecordsTable}\n                                    failedRecordsCount ={this.props.oneFieldfailedRecordsCount}\n                                    goodRecordsTable ={this.props.oneFieldgoodRecordsTable}\n                                    goodDataCount ={this.props.oneFieldgoodDataCount}\n                                  // history={this.props.history}\n                                   />\n                            </div>\n                            <div className=\"modal-footer adminModal-footer col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n                                <div className=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\n                                    <button type=\"button\" className=\"btn adminCancel-btn col-lg-7 col-lg-offset-1 col-md-4 col-md-offset-1 col-sm-8 col-sm-offset-1 col-xs-10 col-xs-offset-1\" data-dismiss=\"modal\" >CANCEL</button>\n                                </div>\n                            </div>\n                            </div>\n                          </div>\n                        </div>\n                    :null\n                }\n                <section className=\"Content\">\n                    <div className=\"row tab-content\">\n                        <div id=\"manual\" className=\"tab-pane fade in manual active mt\">\n                            <form className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\" id=\"twoFieldFormValid\" >\n                                {\n                                    this.props.oneFields ? \n                                        <div className=\"form-margin form-group col-lg-6 col-md-6 col-sm-12 col-xs-12 pdcls\" >\n                                            <label className=\"labelform col-lg-12 col-md-12 col-sm-12 col-xs-12 NOpadding-left\">{this.props.fields.secondtitle} <i className=\"astrick\">*</i></label>\n                                            <div className=\"input-group\" id=\"selectField\" >\n                                                <select className=\"addonDiv col-lg-12 col-md-12 col-sm-12 col-xs-12\" value={this.state[this.props.fields.secondAttributeName]} data_name =\"selectField\" name={this.props.fields.secondAttributeName} onChange={this.handleSelect.bind(this)} required>\n                                                    <option selected={true} disabled={true}>-- Select --</option>\n                                                    {\n                                                    this.state.secondFieldData && this.state.secondFieldData.length > 0 ?\n                                                      this.state.secondFieldData.map((data, index)=>{\n                                                        return(\n                                                            <option key={index} id={data._id}>{data[this.props.fields.secondAttributeName]}</option>\n                                                        );\n                                                      })\n                                                    :\n                                                    null\n                                                    }\n                                                   \n                                                </select>\n                                                <div className=\"input-group-addon inputIcon plusIconBooking\" data-toggle=\"modal\"  data-target=\"#addOneField\" title={\"Add \"+this.props.fields.secondtitle} ><i className=\"fa fa-plus \"></i>\n                                                </div>\n                                               \n                                            </div>\n                                        </div>\n                                    :\n                                    <div className=\"form-margin form-group col-lg-6 col-md-6 col-sm-12 col-xs-12 pdcls\" >\n                                        <div className=\"\" id=\"selectField\" >\n                                            <label className=\"labelform col-lg-12 col-md-12 col-sm-12 col-xs-12 NOpadding-left\">{this.props.fields.secondtitle} <i className=\"astrick\">*</i></label>\n                                            <select className=\"addonDiv col-lg-12 col-md-12 col-sm-12 col-xs-12\" value={this.state[this.props.fields.secondAttributeName]} data_name =\"selectField\" name={this.props.fields.secondAttributeName} onChange={this.handleSelect.bind(this)} required>\n                                                <option selected={true} disabled={true}>-- Select --</option>\n                                                {\n                                                this.state.secondFieldData && this.state.secondFieldData.length > 0 ?\n                                                  this.state.secondFieldData.map((data, index)=>{\n                                                    return(\n                                                        <option  key={index} id={data._id}>{data[this.props.fields.secondAttributeName]}</option>\n                                                    );\n                                                  })\n                                                :\n                                                null\n                                                }\n                                               \n                                            </select>\n                                        </div>\n                                    </div>\n                                }\n\n                                <div className=\"form-margin col-lg-6  col-md-6 col-sm-12 col-xs-12 pdcls\">\n                                    <div  id=\"textFieldOne\">\n                                        <label className=\"labelform col-lg-12 col-md-12 col-sm-12 col-xs-12 NOpadding-left\">{this.props.fields.title} <i className=\"astrick\">*</i></label>\n                                         {this.props.fields.secondtitle == \"City Name\" ?\n                                                        <PlacesAutocomplete\n                                                            value={this.state.attributeName}\n                                                            onChange={this.handleChangePlaces}\n                                                            onSelect={this.handleSelectLocation}\n                                                            searchOptions={searchOptions}\n\n                                                          >\n                                                            {({ getInputProps, suggestions, getSuggestionItemProps, loading }) => (\n                                                              <div>\n                                                                <input\n                                                                  {...getInputProps({\n                                                                    placeholder: 'Search cities ...',\n                                                                    className: 'location-search-input col-lg-12 form-control',\n                                                                  })}\n                                                                />\n                                                                <div className=\"autocomplete-dropdown-container\">\n                                                                  {loading && <div>Loading...</div>}\n                                                                  {suggestions.map(suggestion => {\n                                                                    const className = suggestion.active\n                                                                      ? 'suggestion-item--active'\n                                                                      : 'suggestion-item';\n                                                                    // inline style for demonstration purpose\n                                                                    const style = suggestion.active\n                                                                      ? { backgroundColor: '#fafafa', cursor: 'pointer' }\n                                                                      : { backgroundColor: '#ffffff', cursor: 'pointer' };\n                                                                    return (\n                                                                      <div\n                                                                        {...getSuggestionItemProps(suggestion, {\n                                                                          className,\n                                                                          style,\n                                                                        })}\n                                                                      >\n                                                                        {/*<span>{suggestion.description}</span>*/}\n                                                                    <span>{(suggestion.description ? suggestion.description.split(\",\")[0]:\"\")}</span>\n\n                                                                      </div>\n                                                                    );\n                                                                  })}\n                                                                </div>\n                                                              </div>\n                                                            )}\n                                                          </PlacesAutocomplete>\n                                                          :\n                                                        <input type=\"text\"  className=\"form-control col-lg-12 col-md-12 col-sm-12 col-xs-12\" value={this.state.attributeName} ref={this.props.fields.attributeName} name=\"attributeName\" onChange={this.handleChange.bind(this)} placeholder={this.props.fields.placeholder} required />\n                                                      }\n                                    </div>\n                                </div>\n                                <br />\n                                <div className=\"form-margin col-lg-6 col-lg-offset-6 col-md-6 col-sm-12 col-xs-12\">\n\n                                    {this.props.editId ?\n                                        <button onClick={this.updateType.bind(this)} className=\"btn button3 pull-right\">Update</button>\n                                        :\n                                        <button onClick={this.submitType.bind(this)} className=\"btn button3 pull-right\">Submit</button>\n                                    }\n                                </div>\n                            </form> \n                            <div className=\"oneFieldTable col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n                                <IAssureTable\n                                    tableHeading={this.props.tableHeading}\n                                    twoLevelHeader={this.state.twoLevelHeader}\n                                    dataCount={this.state.dataCount}\n                                    tableData={this.state.tableData}\n                                    getData={this.getData.bind(this)}\n                                    tableObjects={this.props.tableObjects}\n                                    getSecondFieldData={this.getSecondFieldData.bind(this)}\n                                />\n                            </div>\n                        </div>\n                        <div id=\"bulk\" className=\"tab-pane fade in bulk col-lg-12 col-md-12 col-sm-12 col-xs-12 mt\">\n                            <div className=\"outerForm\">\n                                <BulkUpload \n                                    url ={this.props.url}\n                                    data ={this.props.data}\n                                    uploadedData ={this.props.uploadedData}\n                                    fileurl ={this.props.twofieldfileurl}\n                                    getFileDetails ={this.props.getTwoFieldFileDetails}\n                                    getData={this.getData.bind(this)}\n                                    fileDetails ={this.props.fileDetails}\n                                    goodRecordsHeading ={this.props.goodRecordsHeading}\n                                    failedtableHeading ={this.props.failedtableHeading}\n                                    failedRecordsTable ={this.props.failedRecordsTable}\n                                    failedRecordsCount ={this.props.failedRecordsCount}\n                                    goodRecordsTable ={this.props.goodRecordsTable}\n                                    goodDataCount ={this.props.goodDataCount}\n                                    />\n\n                            </div>\n                        </div>\n                    </div>\n                </section>\n            </div>\n\n\n        \n        );\n    }\n}\nexport default TwoFieldForm;\n\n"]},"metadata":{},"sourceType":"module"}