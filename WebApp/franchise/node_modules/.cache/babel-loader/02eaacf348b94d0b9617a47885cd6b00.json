{"ast":null,"code":"(function (root, factory) {\n  if (typeof module !== 'undefined' && module.exports) {\n    module.exports = factory();\n  } else {\n    root.ImageZoom = factory();\n  }\n})(this, function () {\n  /**\n   * @param {Object} container DOM element, which contains an image to be zoomed (required)\n   * @param {Object} options js-image-zoom options (required)\n   *          @param {number} width Image width (required)\n   *          @param {number} height Image height (optional)\n   *          @param {number} zoomWidth  Zoomed image width optional if scale param is provided\n   *          @param {string} img Url of image to zoom. If provided container children is ignored (optional)\n   *          @param {number} scale Zoom scale. If provided zoomWidth param is ignored (optional if zoomWidth param is provided)\n   *          @param {object} offset {vertical, horizontal} offset in pixels between original image and zoomed image (optional)\n   *          @param {string} zoomStyle custom style applied to the zoomed image (i.e. 'opacity: 0.1;background-color: white;')\n   *          @param {string} zoomLensStyle custom style applied to to zoom lents (i.e. 'opacity: 0.1;background-color: white;')\n   */\n  return function ImageZoom(container, opts) {\n    \"use strict\";\n\n    var options = JSON.parse(JSON.stringify(opts));\n\n    if (!container) {\n      return;\n    }\n\n    var data = {\n      sourceImg: {\n        element: null,\n        width: 0,\n        height: 0,\n        naturalWidth: 0,\n        naturalHeight: 0\n      },\n      zoomedImgOffset: {\n        vertical: 0,\n        horizontal: 0\n      },\n      zoomedImg: {\n        element: null,\n        width: 0,\n        height: 0\n      },\n      zoomLens: {\n        element: null,\n        width: 0,\n        height: 0\n      }\n    };\n    var div = document.createElement('div');\n    var lensDiv = document.createElement('div');\n    var scaleX;\n    var scaleY;\n    var offset;\n    data.zoomedImgOffset = options.offset || {\n      vertical: 0,\n      horizontal: 0\n    };\n\n    function getOffset(el) {\n      if (el) {\n        var elRect = el.getBoundingClientRect();\n        return {\n          left: elRect.left,\n          top: elRect.top\n        };\n      }\n\n      return {\n        left: 0,\n        top: 0\n      };\n    }\n\n    function leftLimit(min) {\n      return options.width - min;\n    }\n\n    function topLimit(min) {\n      return options.height - min;\n    }\n\n    function getValue(val, min, max) {\n      if (val < min) {\n        return min;\n      }\n\n      if (val > max) {\n        return max;\n      }\n\n      return val;\n    }\n\n    function getPosition(v, min, max) {\n      var value = getValue(v, min, max);\n      return value - min;\n    }\n\n    function zoomLensLeft(left) {\n      var leftMin = data.zoomLens.width / 2;\n      return getPosition(left, leftMin, leftLimit(leftMin));\n    }\n\n    function zoomLensTop(top) {\n      var topMin = data.zoomLens.height / 2;\n      return getPosition(top, topMin, topLimit(topMin));\n    }\n\n    function setZoomedImgSize(options, data) {\n      if (options.scale) {\n        data.zoomedImg.element.style.width = options.width * options.scale + 'px';\n        data.zoomedImg.element.style.height = options.height * options.scale + 'px';\n      } else {\n        data.zoomedImg.element.style.width = options.zoomWidth + 'px';\n        data.zoomedImg.element.style.height = data.sourceImg.element.style.height;\n      }\n    }\n\n    function onSourceImgLoad() {\n      // use height, determined by browser if height is not set in options\n      options.height = options.height || data.sourceImg.element.height;\n      data.sourceImg.element.style.height = options.height + 'px';\n      setZoomedImgSize(options, data);\n      data.sourceImg.naturalWidth = data.sourceImg.element.naturalWidth;\n      data.sourceImg.naturalHeight = data.sourceImg.element.naturalHeight;\n      data.zoomedImg.element.style.backgroundSize = data.sourceImg.naturalWidth + 'px ' + data.sourceImg.naturalHeight + 'px';\n\n      if (options.zoomStyle) {\n        data.zoomedImg.element.style.cssText += options.zoomStyle;\n      }\n\n      if (options.zoomLensStyle) {\n        data.zoomLens.element.style.cssText += options.zoomLensStyle;\n      } else {\n        data.zoomLens.element.style.background = 'white';\n        data.zoomLens.element.style.opacity = 0.4;\n      }\n\n      scaleX = data.sourceImg.naturalWidth / options.width;\n      scaleY = data.sourceImg.naturalHeight / options.height;\n      offset = getOffset(data.sourceImg.element);\n\n      if (options.scale) {\n        data.zoomLens.width = options.width / (data.sourceImg.naturalWidth / (options.width * options.scale));\n        data.zoomLens.height = options.height / (data.sourceImg.naturalHeight / (options.height * options.scale));\n      } else {\n        data.zoomLens.width = options.zoomWidth / scaleX;\n        data.zoomLens.height = options.height / scaleY;\n      }\n\n      data.zoomLens.element.style.position = 'absolute';\n      data.zoomLens.element.style.width = data.zoomLens.width + 'px';\n      data.zoomLens.element.style.height = data.zoomLens.height + 'px';\n      data.zoomLens.element.pointerEvents = 'none';\n    }\n\n    ;\n\n    function setup() {\n      if (options.img) {\n        var img = document.createElement('img');\n        img.src = options.img;\n        data.sourceImg.element = container.appendChild(img);\n      } else {\n        data.sourceImg.element = container.children[0];\n      }\n\n      data.sourceImg.element.onload = onSourceImgLoad;\n      options = options || {};\n      container.style.position = 'relative';\n      data.sourceImg.element.style.width = options.width + 'px' || 'auto';\n      data.sourceImg.element.style.height = options.height ? options.height + 'px' : 'auto';\n      data.zoomLens.element = container.appendChild(lensDiv);\n      data.zoomLens.element.style.display = 'none';\n      data.zoomedImg.element = container.appendChild(div);\n      data.zoomedImg.element.style.position = 'absolute';\n      data.zoomedImg.element.style.top = data.zoomedImgOffset.vertical + 'px';\n      data.zoomedImg.element.style.left = options.width + data.zoomedImgOffset.horizontal + 'px';\n      data.zoomedImg.element.style.backgroundImage = 'url(' + data.sourceImg.element.src + ')';\n      data.zoomedImg.element.style.backgroundRepeat = 'no-repeat';\n      data.zoomedImg.element.style.display = 'none';\n      container.addEventListener('mousemove', events, false);\n      container.addEventListener('mouseenter', events, false);\n      container.addEventListener('mouseleave', events, false);\n      data.zoomLens.element.addEventListener('mouseenter', events, false);\n      data.zoomLens.element.addEventListener('mouseleave', events, false);\n      window.addEventListener('scroll', events, false);\n      return data;\n    }\n\n    function kill() {\n      container.removeEventListener('mousemove', events, false);\n      container.removeEventListener('mouseenter', events, false);\n      container.removeEventListener('mouseleave', events, false);\n      data.zoomLens.element.removeEventListener('mouseenter', events, false);\n      data.zoomLens.element.removeEventListener('mouseleave', events, false);\n      window.removeEventListener('scroll', events, false);\n\n      if (data.zoomLens && data.zoomedImg) {\n        container.removeChild(data.zoomLens.element);\n        container.removeChild(data.zoomedImg.element);\n      }\n\n      if (options.img) {\n        container.removeChild(data.sourceImg.element);\n      }\n\n      return data;\n    }\n\n    var events = {\n      handleEvent: function (event) {\n        switch (event.type) {\n          case 'mousemove':\n            return this.handleMouseMove(event);\n\n          case 'mouseenter':\n            return this.handleMouseEnter(event);\n\n          case 'mouseleave':\n            return this.handleMouseLeave(event);\n\n          case 'scroll':\n            return this.handleScroll(event);\n        }\n      },\n      handleMouseMove: function (event) {\n        var offsetX;\n        var offsetY;\n        var backgroundTop;\n        var backgroundRight;\n        var backgroundPosition;\n\n        if (offset) {\n          offsetX = zoomLensLeft(event.clientX - offset.left);\n          offsetY = zoomLensTop(event.clientY - offset.top);\n          backgroundTop = offsetX * scaleX;\n          backgroundRight = offsetY * scaleY;\n          backgroundPosition = '-' + backgroundTop + 'px ' + '-' + backgroundRight + 'px';\n          data.zoomedImg.element.style.backgroundPosition = backgroundPosition;\n          data.zoomLens.element.style.cssText += 'top:' + offsetY + 'px;' + 'left:' + offsetX + 'px;display: block;';\n        }\n      },\n      handleMouseEnter: function () {\n        data.zoomedImg.element.style.display = 'block';\n        data.zoomLens.element.style.display = 'block';\n      },\n      handleMouseLeave: function () {\n        data.zoomedImg.element.style.display = 'none';\n        data.zoomLens.element.style.display = 'none';\n      },\n      handleScroll: function () {\n        offset = getOffset(data.sourceImg.element);\n      }\n    };\n    setup();\n    return {\n      setup: function () {\n        setup();\n      },\n      kill: function () {\n        kill();\n      },\n      _getInstanceInfo: function () {\n        return {\n          setup: setup,\n          kill: kill,\n          onSourceImgLoad: onSourceImgLoad,\n          data: data,\n          options: options\n        };\n      }\n    };\n  };\n});","map":{"version":3,"sources":["/home/iassureit/PriyaiAssureITWork/eCommTwo/WebApp/franchise/node_modules/js-image-zoom/js-image-zoom.js"],"names":["root","factory","module","exports","ImageZoom","container","opts","options","JSON","parse","stringify","data","sourceImg","element","width","height","naturalWidth","naturalHeight","zoomedImgOffset","vertical","horizontal","zoomedImg","zoomLens","div","document","createElement","lensDiv","scaleX","scaleY","offset","getOffset","el","elRect","getBoundingClientRect","left","top","leftLimit","min","topLimit","getValue","val","max","getPosition","v","value","zoomLensLeft","leftMin","zoomLensTop","topMin","setZoomedImgSize","scale","style","zoomWidth","onSourceImgLoad","backgroundSize","zoomStyle","cssText","zoomLensStyle","background","opacity","position","pointerEvents","setup","img","src","appendChild","children","onload","display","backgroundImage","backgroundRepeat","addEventListener","events","window","kill","removeEventListener","removeChild","handleEvent","event","type","handleMouseMove","handleMouseEnter","handleMouseLeave","handleScroll","offsetX","offsetY","backgroundTop","backgroundRight","backgroundPosition","clientX","clientY","_getInstanceInfo"],"mappings":"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","sourcesContent":["(function (root, factory) {\n    if (typeof module !== 'undefined' && module.exports) {\n        module.exports = factory();\n    } else {\n        root.ImageZoom = factory();\n    }\n}(this, function () {\n    /**\n     * @param {Object} container DOM element, which contains an image to be zoomed (required)\n     * @param {Object} options js-image-zoom options (required)\n     *          @param {number} width Image width (required)\n     *          @param {number} height Image height (optional)\n     *          @param {number} zoomWidth  Zoomed image width optional if scale param is provided\n     *          @param {string} img Url of image to zoom. If provided container children is ignored (optional)\n     *          @param {number} scale Zoom scale. If provided zoomWidth param is ignored (optional if zoomWidth param is provided)\n     *          @param {object} offset {vertical, horizontal} offset in pixels between original image and zoomed image (optional)\n     *          @param {string} zoomStyle custom style applied to the zoomed image (i.e. 'opacity: 0.1;background-color: white;')\n     *          @param {string} zoomLensStyle custom style applied to to zoom lents (i.e. 'opacity: 0.1;background-color: white;')\n     */\n    return function ImageZoom(container, opts) {\n        \"use strict\";\n        var options = JSON.parse(JSON.stringify(opts));\n        if (!container) {\n            return;\n        }\n        var data = {\n            sourceImg: {\n                element: null,\n                width: 0,\n                height: 0,\n                naturalWidth: 0,\n                naturalHeight: 0\n            },\n            zoomedImgOffset: {\n                vertical: 0,\n                horizontal: 0\n            },\n            zoomedImg: {\n                element: null,\n                width: 0,\n                height: 0\n            },\n            zoomLens: {\n                element: null,\n                width: 0,\n                height: 0\n            }\n        };\n\n        var div = document.createElement('div');\n        var lensDiv = document.createElement('div');\n        var scaleX;\n        var scaleY;\n        var offset;\n        data.zoomedImgOffset = options.offset || {vertical: 0, horizontal: 0};\n\n        function getOffset(el) {\n            if (el) {\n                var elRect = el.getBoundingClientRect();\n                return {left: elRect.left, top: elRect.top};\n            }\n            return {left: 0, top: 0};\n        }\n\n        function leftLimit(min) {\n            return options.width - min;\n        }\n\n        function topLimit(min) {\n            return options.height - min;\n        }\n\n        function getValue(val, min, max) {\n            if (val < min) {\n                return min;\n            }\n            if (val > max) {\n                return max;\n            }\n            return val;\n        }\n\n        function getPosition(v, min, max) {\n            var value = getValue(v, min, max);\n            return value - min;\n        }\n\n        function zoomLensLeft(left) {\n            var leftMin = data.zoomLens.width / 2;\n            return getPosition(left, leftMin, leftLimit(leftMin));\n        }\n\n        function zoomLensTop(top) {\n            var topMin = data.zoomLens.height / 2;\n            return getPosition(top, topMin, topLimit(topMin));\n        }\n\n        function setZoomedImgSize(options, data) {\n            if (options.scale) {\n                data.zoomedImg.element.style.width = options.width * options.scale + 'px';\n                data.zoomedImg.element.style.height = options.height * options.scale + 'px';\n            } else {\n                data.zoomedImg.element.style.width = options.zoomWidth + 'px';\n                data.zoomedImg.element.style.height = data.sourceImg.element.style.height;\n            }\n        }\n\n        function onSourceImgLoad() {\n            // use height, determined by browser if height is not set in options\n            options.height = options.height || data.sourceImg.element.height;\n            data.sourceImg.element.style.height = options.height + 'px';\n\n            setZoomedImgSize(options, data);\n\n            data.sourceImg.naturalWidth = data.sourceImg.element.naturalWidth;\n            data.sourceImg.naturalHeight = data.sourceImg.element.naturalHeight;\n            data.zoomedImg.element.style.backgroundSize = data.sourceImg.naturalWidth + 'px ' + data.sourceImg.naturalHeight + 'px';\n            if (options.zoomStyle) {\n                data.zoomedImg.element.style.cssText +=  options.zoomStyle;\n            }\n            if (options.zoomLensStyle) {\n                data.zoomLens.element.style.cssText +=  options.zoomLensStyle;\n            } else {\n                data.zoomLens.element.style.background = 'white';\n                data.zoomLens.element.style.opacity = 0.4;\n            }\n            scaleX = data.sourceImg.naturalWidth / options.width;\n            scaleY = data.sourceImg.naturalHeight / options.height;\n            offset = getOffset(data.sourceImg.element);\n            if (options.scale) {\n                data.zoomLens.width = options.width / (data.sourceImg.naturalWidth / (options.width * options.scale));\n                data.zoomLens.height = options.height / (data.sourceImg.naturalHeight / (options.height * options.scale));\n            } else {\n                data.zoomLens.width = options.zoomWidth / scaleX;\n                data.zoomLens.height = options.height / scaleY;\n            }\n            data.zoomLens.element.style.position = 'absolute';\n            data.zoomLens.element.style.width = data.zoomLens.width + 'px';\n            data.zoomLens.element.style.height = data.zoomLens.height + 'px';\n            data.zoomLens.element.pointerEvents = 'none';\n        };\n\n        function setup() {\n            if (options.img) {\n                var img = document.createElement('img');\n                img.src = options.img;\n                data.sourceImg.element = container.appendChild(img);\n            } else {\n                data.sourceImg.element = container.children[0];\n            }\n            data.sourceImg.element.onload = onSourceImgLoad;\n            options = options || {};\n            container.style.position = 'relative';\n            data.sourceImg.element.style.width = options.width + 'px' || 'auto';\n            data.sourceImg.element.style.height = options.height ? options.height + 'px' : 'auto';\n\n            data.zoomLens.element = container.appendChild(lensDiv);\n            data.zoomLens.element.style.display = 'none';\n            data.zoomedImg.element = container.appendChild(div);\n\n            data.zoomedImg.element.style.position = 'absolute';\n            data.zoomedImg.element.style.top = data.zoomedImgOffset.vertical + 'px';\n            data.zoomedImg.element.style.left = options.width + data.zoomedImgOffset.horizontal + 'px';\n            data.zoomedImg.element.style.backgroundImage = 'url(' + data.sourceImg.element.src + ')';\n            data.zoomedImg.element.style.backgroundRepeat = 'no-repeat';\n            data.zoomedImg.element.style.display = 'none';\n            container.addEventListener('mousemove', events, false);\n            container.addEventListener('mouseenter', events, false);\n            container.addEventListener('mouseleave', events, false);\n            data.zoomLens.element.addEventListener('mouseenter', events, false);\n            data.zoomLens.element.addEventListener('mouseleave', events, false);\n            window.addEventListener('scroll', events, false);\n            return data;\n        }\n\n        function kill() {\n            container.removeEventListener('mousemove', events, false);\n            container.removeEventListener('mouseenter', events, false);\n            container.removeEventListener('mouseleave', events, false);\n            data.zoomLens.element.removeEventListener('mouseenter', events, false);\n            data.zoomLens.element.removeEventListener('mouseleave', events, false);\n            window.removeEventListener('scroll', events, false);\n            if (data.zoomLens && data.zoomedImg) {\n                container.removeChild(data.zoomLens.element);\n                container.removeChild(data.zoomedImg.element);\n            }\n            if (options.img) {\n                container.removeChild(data.sourceImg.element);\n            }\n            return data;\n        }\n\n        var events = {\n            handleEvent: function(event) {\n                switch(event.type) {\n                    case 'mousemove': return this.handleMouseMove(event);\n                    case 'mouseenter': return this.handleMouseEnter(event);\n                    case 'mouseleave': return this.handleMouseLeave(event);\n                    case 'scroll': return this.handleScroll(event);\n                }\n            },\n            handleMouseMove: function(event) {\n                var offsetX;\n                var offsetY;\n                var backgroundTop;\n                var backgroundRight;\n                var backgroundPosition;\n                if (offset) {\n                    offsetX = zoomLensLeft(event.clientX - offset.left);\n                    offsetY = zoomLensTop(event.clientY - offset.top);\n                    backgroundTop = offsetX * scaleX;\n                    backgroundRight = offsetY * scaleY;\n                    backgroundPosition = '-' + backgroundTop + 'px ' +  '-' + backgroundRight + 'px';\n                    data.zoomedImg.element.style.backgroundPosition = backgroundPosition;\n                    data.zoomLens.element.style.cssText += 'top:' + offsetY + 'px;' + 'left:' + offsetX + 'px;display: block;';\n\n                }\n            },\n            handleMouseEnter: function() {\n                data.zoomedImg.element.style.display  = 'block';\n                data.zoomLens.element.style.display = 'block';\n\n            },\n            handleMouseLeave: function() {\n                data.zoomedImg.element.style.display  = 'none';\n                data.zoomLens.element.style.display = 'none';\n            },\n            handleScroll: function() {\n                offset = getOffset(data.sourceImg.element);\n            }\n        };\n        setup();\n\n        return {\n            setup: function() {\n                setup();\n            },\n            kill: function() {\n                kill();\n            },\n            _getInstanceInfo: function() {\n                return {\n                    setup: setup,\n                    kill: kill,\n                    onSourceImgLoad: onSourceImgLoad,\n                    data: data,\n                    options: options\n                }\n            }\n        }\n    }\n}));\n"]},"metadata":{},"sourceType":"script"}