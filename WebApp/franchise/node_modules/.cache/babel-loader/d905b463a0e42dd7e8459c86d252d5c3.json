{"ast":null,"code":"var _jsxFileName = \"/home/iassureit/PriyaiAssureITWork/eCommTwo/WebApp/franchise/src/storeAdmin/TaxName/TaxName.js\";\nimport React, { Component } from 'react';\nimport $ from 'jquery';\nimport jQuery from 'jquery';\nimport axios from 'axios';\nimport swal from 'sweetalert';\nimport IAssureTable from '../../coreadmin/IAssureTable/IAssureTable.jsx'; // import _                      from 'underscore';\n\nimport 'bootstrap/js/tab.js';\n\nclass TaxName extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      taxName: \"\",\n      \"tableHeading\": {\n        taxName: \"Tax Name\",\n        actions: 'Action'\n      },\n      \"tableObjects\": {\n        deleteMethod: 'delete',\n        apiLink: '/api/preference',\n        paginationApply: false,\n        searchApply: false,\n        editUrl: '/taxname'\n      },\n      \"startRange\": 0,\n      \"limitRange\": 10,\n      \"editId\": this.props.match.params ? this.props.match.params.id : ''\n    };\n  }\n\n  componentDidMount() {\n    var editId = this.state.editId; // console.log('Id = ', editId);\n\n    this.getData(this.state.startRange, this.state.limitRange);\n    this.edit(editId);\n    window.scrollTo(0, 0);\n    $.validator.addMethod(\"regxA1\", function (value, element, regexpr) {\n      return regexpr.test(value);\n    }, \"Tax Name should only contain letters & number.\");\n    jQuery.validator.setDefaults({\n      debug: true,\n      success: \"valid\"\n    });\n    $(\"#taxMaster\").validate({\n      rules: {\n        taxName: {\n          required: true,\n          regxA1: /^[A-Za-z_0-9 ][A-Za-z\\d_ ]*$/\n        }\n      },\n      errorPlacement: function (error, element) {\n        if (element.attr(\"name\") === \"taxName\") {\n          error.insertAfter(\"#taxName\");\n        }\n      }\n    });\n  }\n\n  componentWillReceiveProps(nextProps) {\n    var editId = nextProps.match.params.id;\n\n    if (nextProps.match.params.id) {\n      this.setState({\n        editId: editId\n      });\n      this.edit(editId);\n    }\n  }\n\n  handleChange(event) {\n    event.preventDefault();\n    const target = event.target;\n    const name = target.name;\n    this.setState({\n      [name]: event.target.value\n    });\n  }\n\n  submit(event) {\n    event.preventDefault();\n    var formValues = {\n      \"taxName\": this.refs.taxName.value\n    };\n\n    if ($(\"#taxMaster\").valid()) {\n      axios.post('/api/preference/post', formValues).then(response => {\n        this.getData(this.state.startRange, this.state.limitRange);\n        swal(response.data.message);\n        this.setState({\n          taxName: \"\"\n        });\n      }).catch(error => {\n        console.log('error', error);\n      });\n    }\n  }\n\n  update(event) {\n    event.preventDefault();\n    var formValues = {\n      \"preferenceID\": this.state.editId,\n      \"taxName\": this.refs.taxName.value\n    };\n\n    if ($(\"#taxMaster\").valid()) {\n      axios.patch('/api/preference/patch', formValues).then(response => {\n        this.props.history.push('/taxname');\n        swal(response.data.message);\n        this.getData(this.state.startRange, this.state.limitRange);\n        this.setState({\n          taxName: \"\",\n          editId: \"\"\n        });\n      }).catch(error => {\n        console.log('error', error);\n      });\n    }\n  }\n\n  getDataCount() {\n    axios.get('/api/preference/get/count').then(response => {\n      this.setState({\n        dataCount: response.data.dataCount\n      });\n    }).catch(error => {\n      console.log('error', error);\n    });\n  }\n\n  getData(startRange, limitRange) {\n    var data = {\n      startRange: startRange,\n      limitRange: limitRange\n    };\n    axios.patch('/api/preference/get/list', data).then(response => {\n      this.getDataCount();\n      var tableData = response.data.map((a, i) => {\n        return {\n          _id: a._id,\n          taxName: a.taxName\n        };\n      }); // console.log('table', tableData);\n\n      this.setState({\n        tableData: tableData\n      }); // console.log(response.data);\n    }).catch(error => {\n      console.log('error', error);\n    });\n  }\n\n  edit(id) {\n    $(\"#taxMaster\").validate().resetForm();\n    axios.get('/api/preference/get/one/' + id).then(response => {\n      console.log('edit response = ', response.data);\n      this.setState({\n        \"taxName\": response.data.taxName\n      });\n    }).catch(error => {\n      console.log('error', error);\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container-fluid col-lg-12 col-md-12 col-xs-12 col-sm-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"section\", {\n      className: \"content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-xs-12 col-sm-12 pageContent\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-xs-12 col-sm-12 paddingZeroo\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"box-header with-border col-lg-12 col-md-12 col-xs-12 col-sm-12 NOpadding-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      className: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 45\n      }\n    }, \"Tax Master\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 45\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 45\n      }\n    }), /*#__PURE__*/React.createElement(\"form\", {\n      className: \"col-lg-10 col-lg-offset-1 col-md-10 col-md-offset-1 col-sm-12 col-xs-12\",\n      id: \"taxMaster\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group col-lg-6 col-md-6 col-sm-12 col-xs-12 pdcls\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 NOpadding-left\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 53\n      }\n    }, \"Tax Name \", /*#__PURE__*/React.createElement(\"i\", {\n      className: \"astrick\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 136\n      }\n    }, \"*\")), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      id: \"taxName\",\n      className: \"form-control col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      value: this.state.taxName,\n      ref: \"taxName\",\n      name: \"taxName\",\n      onChange: this.handleChange.bind(this),\n      placeholder: \"Enter tax name..\",\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 53\n      }\n    })), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 49\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-6 col-md-6 col-sm-12 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 49\n      }\n    }, this.state.editId ? /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.update.bind(this),\n      className: \"btn button3 btn-primary pull-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 57\n      }\n    }, \"Update\") : /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.submit.bind(this),\n      className: \"btn button3 btn-primary pull-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 57\n      }\n    }, \"Submit\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-10 col-lg-offset-1 col-md-10 col-md-offset-1 col-sm-12 col-xs-12 pdcls\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(IAssureTable, {\n      tableHeading: this.state.tableHeading,\n      twoLevelHeader: this.state.twoLevelHeader,\n      dataCount: this.state.dataCount,\n      tableData: this.state.tableData,\n      getData: this.getData.bind(this),\n      tableObjects: this.state.tableObjects,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 49\n      }\n    })))))))))));\n  }\n\n}\n\nexport default TaxName;","map":{"version":3,"sources":["/home/iassureit/PriyaiAssureITWork/eCommTwo/WebApp/franchise/src/storeAdmin/TaxName/TaxName.js"],"names":["React","Component","$","jQuery","axios","swal","IAssureTable","TaxName","constructor","props","state","taxName","actions","deleteMethod","apiLink","paginationApply","searchApply","editUrl","match","params","id","componentDidMount","editId","getData","startRange","limitRange","edit","window","scrollTo","validator","addMethod","value","element","regexpr","test","setDefaults","debug","success","validate","rules","required","regxA1","errorPlacement","error","attr","insertAfter","componentWillReceiveProps","nextProps","setState","handleChange","event","preventDefault","target","name","submit","formValues","refs","valid","post","then","response","data","message","catch","console","log","update","patch","history","push","getDataCount","get","dataCount","tableData","map","a","i","_id","resetForm","render","bind","tableHeading","twoLevelHeader","tableObjects"],"mappings":"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","sourcesContent":["import React, { Component }   from 'react';\nimport $                      from 'jquery';\nimport jQuery                 from 'jquery';\nimport axios                  from 'axios';\nimport swal                   from 'sweetalert';\nimport IAssureTable           from '../../coreadmin/IAssureTable/IAssureTable.jsx';\n// import _                      from 'underscore';\nimport 'bootstrap/js/tab.js';\n\nclass TaxName extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            taxName                        : \"\",\n            \"tableHeading\"                 : {\n                taxName                    : \"Tax Name\",\n                actions                    : 'Action',\n              },\n              \"tableObjects\"              : {\n                deleteMethod              : 'delete',\n                apiLink                   : '/api/preference',\n                paginationApply           : false,\n                searchApply               : false,\n                editUrl                   : '/taxname'\n              },\n              \"startRange\"                : 0,\n              \"limitRange\"                : 10,\n              \"editId\"                    : this.props.match.params ? this.props.match.params.id : ''\n        };\n    }\n    componentDidMount() {\n        var editId = this.state.editId;\n        // console.log('Id = ', editId);\n        this.getData(this.state.startRange, this.state.limitRange);\n        this.edit(editId);\n        window.scrollTo(0, 0);\n        $.validator.addMethod(\"regxA1\", function(value, element, regexpr) {          \n        return regexpr.test(value);\n        }, \"Tax Name should only contain letters & number.\");\n        \n        jQuery.validator.setDefaults({\n        debug: true,\n        success: \"valid\"\n        });\n        $(\"#taxMaster\").validate({\n        rules: {\n            taxName: {\n            required: true,\n            regxA1: /^[A-Za-z_0-9 ][A-Za-z\\d_ ]*$/,\n            },\n        },\n            errorPlacement: function(error, element) {\n                if (element.attr(\"name\") === \"taxName\"){\n                    error.insertAfter(\"#taxName\");\n                }\n            }\n        });\n    }  \n    \n    componentWillReceiveProps(nextProps) {\n        var editId = nextProps.match.params.id;\n        if(nextProps.match.params.id){\n          this.setState({\n            editId : editId\n          })\n          this.edit(editId);\n        }\n    }\n    handleChange(event) {\n        event.preventDefault();\n        const target = event.target;\n        const name = target.name;\n        this.setState({\n            [name]: event.target.value\n        });   \n    }\n    submit(event){\n        event.preventDefault();\n        var formValues = {\n            \"taxName\" : this.refs.taxName.value\n        }\n        if($(\"#taxMaster\").valid()){\n            axios.post('/api/preference/post', formValues)\n            .then((response)=>{\n                this.getData(this.state.startRange, this.state.limitRange);\n                swal(response.data.message);\n                this.setState({\n                    taxName : \"\"\n                })\n            })\n            .catch((error)=>{\n                console.log('error', error);\n            })\n        }\n    }\n    update(event){\n        event.preventDefault();\n        var formValues = {\n            \"preferenceID\" : this.state.editId,\n            \"taxName\" : this.refs.taxName.value\n        }\n        if($(\"#taxMaster\").valid()){\n            axios.patch('/api/preference/patch', formValues)\n            .then((response)=>{\n                this.props.history.push('/taxname');\n                swal(response.data.message);\n                this.getData(this.state.startRange, this.state.limitRange);\n                this.setState({\n                    taxName : \"\",\n                    editId : \"\"\n                })\n            })\n            .catch((error)=>{\n                console.log('error', error);\n            })\n        }\n    }\n    getDataCount(){\n        axios.get('/api/preference/get/count')\n        .then((response)=>{\n          this.setState({\n            dataCount : response.data.dataCount\n          })\n        })\n        .catch((error)=>{\n          console.log('error', error);\n        });\n    }\n    getData(startRange, limitRange){\n        var data={\n            startRange : startRange,\n            limitRange : limitRange\n        }\n\n        axios.patch('/api/preference/get/list', data)\n        .then((response)=>{\n            this.getDataCount();\n            var tableData = response.data.map((a, i)=>{\n                return {\n                    _id : a._id,\n                    taxName : a.taxName,\n                }\n            })\n            // console.log('table', tableData);\n            this.setState({\n                tableData : tableData\n            })\n            // console.log(response.data);\n        })\n        .catch((error)=>{\n            console.log('error', error);\n        });\n    }\n    edit(id){\n        $(\"#taxMaster\").validate().resetForm();\n        axios.get('/api/preference/get/one/'+id)\n        .then((response)=>{\n            console.log('edit response = ', response.data);\n            this.setState({\n                \"taxName\" : response.data.taxName,\n            });\n            \n        })\n        .catch((error)=>{\n            console.log('error', error);\n        });\n    }\n    render() {\n        return (\n            <div className=\"container-fluid col-lg-12 col-md-12 col-xs-12 col-sm-12\">\n                <div className=\"row\">\n                    <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n                    <section className=\"content\">\n                        <div className=\"col-lg-12 col-md-12 col-xs-12 col-sm-12 pageContent\">\n                            <div className=\"row\">\n                                <div className=\"\">\n                                    <div className=\"col-lg-12 col-md-12 col-xs-12 col-sm-12 paddingZeroo\">\n                                        <div className=\"box-header with-border col-lg-12 col-md-12 col-xs-12 col-sm-12 NOpadding-right\">\n                                            <h4 className=\"\">Tax Master</h4>\n                                        </div>\n                                        <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 \">\n                                            <br/>\n                                            <br/>\n                                            <form className=\"col-lg-10 col-lg-offset-1 col-md-10 col-md-offset-1 col-sm-12 col-xs-12\" id=\"taxMaster\">\n                                                <div className=\"form-group col-lg-6 col-md-6 col-sm-12 col-xs-12 pdcls\"> \n                                                    <label className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 NOpadding-left\">Tax Name <i className=\"astrick\">*</i></label>\n                                                    <input type=\"text\" id=\"taxName\" className=\"form-control col-lg-12 col-md-12 col-sm-12 col-xs-12\" value={this.state.taxName}  ref=\"taxName\" name=\"taxName\" onChange={this.handleChange.bind(this)} placeholder=\"Enter tax name..\" required/>\n                                                </div>\n                                                <br/>\n                                                <div className=\"col-lg-6 col-md-6 col-sm-12 col-xs-12\">\n                                                    {this.state.editId ?\n                                                        <button onClick={this.update.bind(this)} className=\"btn button3 btn-primary pull-right\">Update</button>\n                                                        :\n                                                        <button onClick={this.submit.bind(this)} className=\"btn button3 btn-primary pull-right\">Submit</button>\n                                                    }\n                                                </div> \n                                            </form>\n                                            <div className=\"col-lg-10 col-lg-offset-1 col-md-10 col-md-offset-1 col-sm-12 col-xs-12 pdcls\">\n                                                <IAssureTable \n                                                    tableHeading={this.state.tableHeading}\n                                                    twoLevelHeader={this.state.twoLevelHeader} \n                                                    dataCount={this.state.dataCount}\n                                                    tableData={this.state.tableData}\n                                                    getData={this.getData.bind(this)}\n                                                    tableObjects={this.state.tableObjects}\n                                                /> \n                                            </div>\n                                        </div>\n                                        \n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </section>\n                    </div>\n                </div> \n            </div> \n        );\n    } \n}\nexport default TaxName;\n\n"]},"metadata":{},"sourceType":"module"}